(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();function Ub(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vc={exports:{}},ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function zb(){if(Dm)return ws;Dm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var m in u)m!=="key"&&(h[m]=u[m])}else h=u;return u=h.ref,{$$typeof:n,type:i,key:f,ref:u!==void 0?u:null,props:h}}return ws.Fragment=a,ws.jsx=s,ws.jsxs=s,ws}var Um;function Mb(){return Um||(Um=1,Vc.exports=zb()),Vc.exports}var o=Mb(),Pc={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Lb(){if(zm)return ce;zm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),k=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=k&&w[k]||w["@@iterator"],typeof w=="function"?w:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function O(w,L,P){this.props=w,this.context=L,this.refs=N,this.updater=P||T}O.prototype.isReactComponent={},O.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=O.prototype;function C(w,L,P){this.props=w,this.context=L,this.refs=N,this.updater=P||T}var V=C.prototype=new D;V.constructor=C,R(V,O.prototype),V.isPureReactComponent=!0;var Z=Array.isArray;function I(){}var Q={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function K(w,L,P){var X=P.ref;return{$$typeof:n,type:w,key:L,ref:X!==void 0?X:null,props:P}}function me(w,L){return K(w.type,L,w.props)}function we(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function ue(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(P){return L[P]})}var Xe=/\/+/g;function mt(w,L){return typeof w=="object"&&w!==null&&w.key!=null?ue(""+w.key):L.toString(36)}function ht(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(I,I):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function q(w,L,P,X,re){var de=typeof w;(de==="undefined"||de==="boolean")&&(w=null);var _e=!1;if(w===null)_e=!0;else switch(de){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(w.$$typeof){case n:case a:_e=!0;break;case b:return _e=w._init,q(_e(w._payload),L,P,X,re)}}if(_e)return re=re(w),_e=X===""?"."+mt(w,0):X,Z(re)?(P="",_e!=null&&(P=_e.replace(Xe,"$&/")+"/"),q(re,L,P,"",function(Tn){return Tn})):re!=null&&(we(re)&&(re=me(re,P+(re.key==null||w&&w.key===re.key?"":(""+re.key).replace(Xe,"$&/")+"/")+_e)),L.push(re)),1;_e=0;var tt=X===""?".":X+":";if(Z(w))for(var Ue=0;Ue<w.length;Ue++)X=w[Ue],de=tt+mt(X,Ue),_e+=q(X,L,P,de,re);else if(Ue=_(w),typeof Ue=="function")for(w=Ue.call(w),Ue=0;!(X=w.next()).done;)X=X.value,de=tt+mt(X,Ue++),_e+=q(X,L,P,de,re);else if(de==="object"){if(typeof w.then=="function")return q(ht(w),L,P,X,re);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return _e}function J(w,L,P){if(w==null)return w;var X=[],re=0;return q(w,X,"","",function(de){return L.call(P,de,re++)}),X}function Y(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(P){(w._status===0||w._status===-1)&&(w._status=1,w._result=P)},function(P){(w._status===0||w._status===-1)&&(w._status=2,w._result=P)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var ne=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ge={map:J,forEach:function(w,L,P){J(w,function(){L.apply(this,arguments)},P)},count:function(w){var L=0;return J(w,function(){L++}),L},toArray:function(w){return J(w,function(L){return L})||[]},only:function(w){if(!we(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ce.Activity=v,ce.Children=ge,ce.Component=O,ce.Fragment=s,ce.Profiler=u,ce.PureComponent=C,ce.StrictMode=i,ce.Suspense=p,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ce.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Q.H.useMemoCache(w)}},ce.cache=function(w){return function(){return w.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(w,L,P){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=R({},w.props),re=w.key;if(L!=null)for(de in L.key!==void 0&&(re=""+L.key),L)!le.call(L,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&L.ref===void 0||(X[de]=L[de]);var de=arguments.length-2;if(de===1)X.children=P;else if(1<de){for(var _e=Array(de),tt=0;tt<de;tt++)_e[tt]=arguments[tt+2];X.children=_e}return K(w.type,re,X)},ce.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},ce.createElement=function(w,L,P){var X,re={},de=null;if(L!=null)for(X in L.key!==void 0&&(de=""+L.key),L)le.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(re[X]=L[X]);var _e=arguments.length-2;if(_e===1)re.children=P;else if(1<_e){for(var tt=Array(_e),Ue=0;Ue<_e;Ue++)tt[Ue]=arguments[Ue+2];re.children=tt}if(w&&w.defaultProps)for(X in _e=w.defaultProps,_e)re[X]===void 0&&(re[X]=_e[X]);return K(w,de,re)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(w){return{$$typeof:m,render:w}},ce.isValidElement=we,ce.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:Y}},ce.memo=function(w,L){return{$$typeof:x,type:w,compare:L===void 0?null:L}},ce.startTransition=function(w){var L=Q.T,P={};Q.T=P;try{var X=w(),re=Q.S;re!==null&&re(P,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,ne)}catch(de){ne(de)}finally{L!==null&&P.types!==null&&(L.types=P.types),Q.T=L}},ce.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ce.use=function(w){return Q.H.use(w)},ce.useActionState=function(w,L,P){return Q.H.useActionState(w,L,P)},ce.useCallback=function(w,L){return Q.H.useCallback(w,L)},ce.useContext=function(w){return Q.H.useContext(w)},ce.useDebugValue=function(){},ce.useDeferredValue=function(w,L){return Q.H.useDeferredValue(w,L)},ce.useEffect=function(w,L){return Q.H.useEffect(w,L)},ce.useEffectEvent=function(w){return Q.H.useEffectEvent(w)},ce.useId=function(){return Q.H.useId()},ce.useImperativeHandle=function(w,L,P){return Q.H.useImperativeHandle(w,L,P)},ce.useInsertionEffect=function(w,L){return Q.H.useInsertionEffect(w,L)},ce.useLayoutEffect=function(w,L){return Q.H.useLayoutEffect(w,L)},ce.useMemo=function(w,L){return Q.H.useMemo(w,L)},ce.useOptimistic=function(w,L){return Q.H.useOptimistic(w,L)},ce.useReducer=function(w,L,P){return Q.H.useReducer(w,L,P)},ce.useRef=function(w){return Q.H.useRef(w)},ce.useState=function(w){return Q.H.useState(w)},ce.useSyncExternalStore=function(w,L,P){return Q.H.useSyncExternalStore(w,L,P)},ce.useTransition=function(){return Q.H.useTransition()},ce.version="19.2.4",ce}var Mm;function vu(){return Mm||(Mm=1,Pc.exports=Lb()),Pc.exports}var j=vu();const Wa=Ub(j);var Qc={exports:{}},_s={},Jc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Bb(){return Lm||(Lm=1,(function(n){function a(q,J){var Y=q.length;q.push(J);e:for(;0<Y;){var ne=Y-1>>>1,ge=q[ne];if(0<u(ge,J))q[ne]=J,q[Y]=ge,Y=ne;else break e}}function s(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var J=q[0],Y=q.pop();if(Y!==J){q[0]=Y;e:for(var ne=0,ge=q.length,w=ge>>>1;ne<w;){var L=2*(ne+1)-1,P=q[L],X=L+1,re=q[X];if(0>u(P,Y))X<ge&&0>u(re,P)?(q[ne]=re,q[X]=Y,ne=X):(q[ne]=P,q[L]=Y,ne=L);else if(X<ge&&0>u(re,Y))q[ne]=re,q[X]=Y,ne=X;else break e}}return J}function u(q,J){var Y=q.sortIndex-J.sortIndex;return Y!==0?Y:q.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var p=[],x=[],b=1,v=null,k=3,_=!1,T=!1,R=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var J=s(x);J!==null;){if(J.callback===null)i(x);else if(J.startTime<=q)i(x),J.sortIndex=J.expirationTime,a(p,J);else break;J=s(x)}}function Z(q){if(R=!1,V(q),!T)if(s(p)!==null)T=!0,I||(I=!0,ue());else{var J=s(x);J!==null&&ht(Z,J.startTime-q)}}var I=!1,Q=-1,le=5,K=-1;function me(){return N?!0:!(n.unstable_now()-K<le)}function we(){if(N=!1,I){var q=n.unstable_now();K=q;var J=!0;try{e:{T=!1,R&&(R=!1,D(Q),Q=-1),_=!0;var Y=k;try{t:{for(V(q),v=s(p);v!==null&&!(v.expirationTime>q&&me());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,k=v.priorityLevel;var ge=ne(v.expirationTime<=q);if(q=n.unstable_now(),typeof ge=="function"){v.callback=ge,V(q),J=!0;break t}v===s(p)&&i(p),V(q)}else i(p);v=s(p)}if(v!==null)J=!0;else{var w=s(x);w!==null&&ht(Z,w.startTime-q),J=!1}}break e}finally{v=null,k=Y,_=!1}J=void 0}}finally{J?ue():I=!1}}}var ue;if(typeof C=="function")ue=function(){C(we)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,mt=Xe.port2;Xe.port1.onmessage=we,ue=function(){mt.postMessage(null)}}else ue=function(){O(we,0)};function ht(q,J){Q=O(function(){q(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function(q){switch(k){case 1:case 2:case 3:var J=3;break;default:J=k}var Y=k;k=J;try{return q()}finally{k=Y}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=k;k=q;try{return J()}finally{k=Y}},n.unstable_scheduleCallback=function(q,J,Y){var ne=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,q){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,q={id:b++,callback:J,priorityLevel:q,startTime:Y,expirationTime:ge,sortIndex:-1},Y>ne?(q.sortIndex=Y,a(x,q),s(p)===null&&q===s(x)&&(R?(D(Q),Q=-1):R=!0,ht(Z,Y-ne))):(q.sortIndex=ge,a(p,q),T||_||(T=!0,I||(I=!0,ue()))),q},n.unstable_shouldYield=me,n.unstable_wrapCallback=function(q){var J=k;return function(){var Y=k;k=J;try{return q.apply(this,arguments)}finally{k=Y}}}})(Xc)),Xc}var Bm;function qb(){return Bm||(Bm=1,Jc.exports=Bb()),Jc.exports}var Zc={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Hb(){if(qm)return dt;qm=1;var n=vu();function a(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(p,x,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:p,containerInfo:x,implementation:b}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,x){if(p==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dt.createPortal=function(p,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(a(299));return h(p,x,null,b)},dt.flushSync=function(p){var x=f.T,b=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=x,i.p=b,i.d.f()}},dt.preconnect=function(p,x){typeof p=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(p,x))},dt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},dt.preinit=function(p,x){if(typeof p=="string"&&x&&typeof x.as=="string"){var b=x.as,v=m(b,x.crossOrigin),k=typeof x.integrity=="string"?x.integrity:void 0,_=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(p,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:v,integrity:k,fetchPriority:_}):b==="script"&&i.d.X(p,{crossOrigin:v,integrity:k,fetchPriority:_,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},dt.preinitModule=function(p,x){if(typeof p=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=m(x.as,x.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(p)},dt.preload=function(p,x){if(typeof p=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,v=m(b,x.crossOrigin);i.d.L(p,b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},dt.preloadModule=function(p,x){if(typeof p=="string")if(x){var b=m(x.as,x.crossOrigin);i.d.m(p,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(p)},dt.requestFormReset=function(p){i.d.r(p)},dt.unstable_batchedUpdates=function(p,x){return p(x)},dt.useFormState=function(p,x,b){return f.H.useFormState(p,x,b)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.2.4",dt}var Hm;function $b(){if(Hm)return Zc.exports;Hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Zc.exports=Hb(),Zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Gb(){if($m)return _s;$m=1;var n=qb(),a=vu(),s=$b();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(i(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,l=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return p(c),e;if(d===l)return p(c),t;d=d.sibling}throw Error(i(188))}if(r.return!==l.return)r=c,l=d;else{for(var g=!1,y=c.child;y;){if(y===r){g=!0,r=c,l=d;break}if(y===l){g=!0,l=c,r=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===r){g=!0,r=d,l=c;break}if(y===l){g=!0,l=d,r=c;break}y=y.sibling}if(!g)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,k=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case O:return"Profiler";case N:return"StrictMode";case Z:return"Suspense";case I:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case C:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:mt(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return mt(e(t))}catch{}}return null}var ht=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ne=[],ge=-1;function w(e){return{current:e}}function L(e){0>ge||(e.current=ne[ge],ne[ge]=null,ge--)}function P(e,t){ge++,ne[ge]=e.current,e.current=t}var X=w(null),re=w(null),de=w(null),_e=w(null);function tt(e,t){switch(P(de,t),P(re,e),P(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?am(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=am(t),e=rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(X),P(X,e)}function Ue(){L(X),L(re),L(de)}function Tn(e){e.memoizedState!==null&&P(_e,e);var t=X.current,r=rm(t,e.type);t!==r&&(P(re,e),P(X,r))}function Hs(e){re.current===e&&(L(X),L(re)),_e.current===e&&(L(_e),xs._currentValue=Y)}var Ei,Cu;function ar(e){if(Ei===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ei=t&&t[1]||"",Cu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+e+Cu}var Ti=!1;function Ai(e,t){if(!e||Ti)return"";Ti=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var M=B}Reflect.construct(e,[],G)}else{try{G.call()}catch(B){M=B}e.call(G.prototype)}}else{try{throw Error()}catch(B){M=B}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&M&&typeof B.stack=="string")return[B.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],y=d[1];if(g&&y){var S=g.split(`
`),z=y.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===z.length)for(l=S.length-1,c=z.length-1;1<=l&&0<=c&&S[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==z[c]){var H=`
`+S[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ti=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ar(r):""}function dp(e,t){switch(e.tag){case 26:case 27:case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return e.child!==t&&t!==null?ar("Suspense Fallback"):ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return Ai(e.type,!1);case 11:return Ai(e.type.render,!1);case 1:return Ai(e.type,!0);case 31:return ar("Activity");default:return""}}function Ru(e){try{var t="",r=null;do t+=dp(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Oi=Object.prototype.hasOwnProperty,Ci=n.unstable_scheduleCallback,Ri=n.unstable_cancelCallback,hp=n.unstable_shouldYield,fp=n.unstable_requestPaint,_t=n.unstable_now,mp=n.unstable_getCurrentPriorityLevel,Du=n.unstable_ImmediatePriority,Uu=n.unstable_UserBlockingPriority,$s=n.unstable_NormalPriority,gp=n.unstable_LowPriority,zu=n.unstable_IdlePriority,pp=n.log,xp=n.unstable_setDisableYieldValue,An=null,kt=null;function Ta(e){if(typeof pp=="function"&&xp(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(An,e)}catch{}}var jt=Math.clz32?Math.clz32:vp,bp=Math.log,yp=Math.LN2;function vp(e){return e>>>=0,e===0?32:31-(bp(e)/yp|0)|0}var Gs=256,Ys=262144,Is=4194304;function rr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ks(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~d,l!==0?c=rr(l):(g&=y,g!==0?c=rr(g):r||(r=y&~e,r!==0&&(c=rr(r))))):(y=l&~d,y!==0?c=rr(y):g!==0?c=rr(g):r||(r=l&~e,r!==0&&(c=rr(r)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:c}function On(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var e=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),e}function Di(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _p(e,t,r,l,c,d){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-jt(r),G=1<<H;y[H]=0,S[H]=-1;var M=z[H];if(M!==null)for(z[H]=null,H=0;H<M.length;H++){var B=M[H];B!==null&&(B.lane&=-536870913)}r&=~G}l!==0&&Lu(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Lu(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-jt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Bu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-jt(r),c=1<<l;c&t|e[l]&t&&(e[l]|=t),r&=~c}}function qu(e,t){var r=t&-t;return r=(r&42)!==0?1:Ui(r),(r&(e.suspendedLanes|t))!==0?0:r}function Ui(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Nm(e.type))}function $u(e,t){var r=J.p;try{return J.p=e,t()}finally{J.p=r}}var Aa=Math.random().toString(36).slice(2),at="__reactFiber$"+Aa,gt="__reactProps$"+Aa,Tr="__reactContainer$"+Aa,Mi="__reactEvents$"+Aa,kp="__reactListeners$"+Aa,jp="__reactHandles$"+Aa,Gu="__reactResources$"+Aa,Rn="__reactMarker$"+Aa;function Li(e){delete e[at],delete e[gt],delete e[Mi],delete e[kp],delete e[jp]}function Ar(e){var t=e[at];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tr]||r[at]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=um(e);e!==null;){if(r=e[at])return r;e=um(e)}return t}e=r,r=e.parentNode}return null}function Or(e){if(e=e[at]||e[Tr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Dn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Cr(e){var t=e[Gu];return t||(t=e[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Rn]=!0}var Yu=new Set,Iu={};function nr(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(Iu[e]=t,e=0;e<t.length;e++)Yu.add(t[e])}var Sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Vu={};function Np(e){return Oi.call(Vu,e)?!0:Oi.call(Ku,e)?!1:Sp.test(e)?Vu[e]=!0:(Ku[e]=!0,!1)}function Vs(e,t,r){if(Np(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ps(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function la(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ep(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bi(e){if(!e._valueTracker){var t=Pu(e)?"checked":"value";e._valueTracker=Ep(e,t,""+e[t])}}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=Pu(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tp=/[\n"\\]/g;function Mt(e){return e.replace(Tp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qi(e,t,r,l,c,d,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Hi(e,g,zt(t)):r!=null?Hi(e,g,zt(r)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+zt(y):e.removeAttribute("name")}function Ju(e,t,r,l,c,d,g,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Bi(e);return}r=r!=null?""+zt(r):"",t=t!=null?""+zt(t):r,y||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Bi(e)}function Hi(e,t,r){t==="number"&&Qs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Dr(e,t,r,l){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+zt(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Xu(e,t,r){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+zt(r):""}function Zu(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(i(92));if(ht(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=zt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Bi(e)}function Ur(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ap=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Ap.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Wu(e,t,r){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&r[c]!==l&&Fu(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Fu(e,d,t[d])}function $i(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return Cp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var Gi=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zr=null,Mr=null;function ed(e){var t=Or(e);if(t&&(e=t.stateNode)){var r=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qi(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var c=l[gt]||null;if(!c)throw Error(i(90));qi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Qu(l)}break e;case"textarea":Xu(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Dr(e,!!r.multiple,t,!1)}}}var Ii=!1;function td(e,t,r){if(Ii)return e(t,r);Ii=!0;try{var l=e(t);return l}finally{if(Ii=!1,(zr!==null||Mr!==null)&&(Ml(),zr&&(t=zr,e=Mr,Mr=zr=null,ed(t),e)))for(t=0;t<e.length;t++)ed(e[t])}}function Un(e,t){var r=e.stateNode;if(r===null)return null;var l=r[gt]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=!1;if(oa)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Ki=!1}var Oa=null,Vi=null,Xs=null;function ad(){if(Xs)return Xs;var e,t=Vi,r=t.length,l,c="value"in Oa?Oa.value:Oa.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var g=r-e;for(l=1;l<=g&&t[r-l]===c[d-l];l++);return Xs=c.slice(e,1<l?1-l:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function rd(){return!1}function pt(e){function t(r,l,c,d,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fs:rd,this.isPropagationStopped=rd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=pt(sr),Mn=v({},sr,{view:0,detail:0}),Rp=pt(Mn),Pi,Qi,Ln,el=v({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(Pi=e.screenX-Ln.screenX,Qi=e.screenY-Ln.screenY):Qi=Pi=0,Ln=e),Pi)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),nd=pt(el),Dp=v({},el,{dataTransfer:0}),Up=pt(Dp),zp=v({},Mn,{relatedTarget:0}),Ji=pt(zp),Mp=v({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=pt(Mp),Bp=v({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=pt(Bp),Hp=v({},sr,{data:0}),sd=pt(Hp),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ip(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yp[e])?!!t[e]:!1}function Xi(){return Ip}var Kp=v({},Mn,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vp=pt(Kp),Pp=v({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=pt(Pp),Qp=v({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),Jp=pt(Qp),Xp=v({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zp=pt(Xp),Fp=v({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wp=pt(Fp),ex=v({},sr,{newState:0,oldState:0}),tx=pt(ex),ax=[9,13,27,32],Zi=oa&&"CompositionEvent"in window,Bn=null;oa&&"documentMode"in document&&(Bn=document.documentMode);var rx=oa&&"TextEvent"in window&&!Bn,id=oa&&(!Zi||Bn&&8<Bn&&11>=Bn),od=" ",cd=!1;function ud(e,t){switch(e){case"keyup":return ax.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function nx(e,t){switch(e){case"compositionend":return dd(t);case"keypress":return t.which!==32?null:(cd=!0,od);case"textInput":return e=t.data,e===od&&cd?null:e;default:return null}}function sx(e,t){if(Lr)return e==="compositionend"||!Zi&&ud(e,t)?(e=ad(),Xs=Vi=Oa=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return id&&t.locale!=="ko"?null:t.data;default:return null}}var lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lx[e.type]:t==="textarea"}function fd(e,t,r,l){zr?Mr?Mr.push(l):Mr=[l]:zr=l,t=Yl(t,"onChange"),0<t.length&&(r=new Ws("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var qn=null,Hn=null;function ix(e){Xf(e,0)}function tl(e){var t=Dn(e);if(Qu(t))return e}function md(e,t){if(e==="change")return t}var gd=!1;if(oa){var Fi;if(oa){var Wi="oninput"in document;if(!Wi){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),Wi=typeof pd.oninput=="function"}Fi=Wi}else Fi=!1;gd=Fi&&(!document.documentMode||9<document.documentMode)}function xd(){qn&&(qn.detachEvent("onpropertychange",bd),Hn=qn=null)}function bd(e){if(e.propertyName==="value"&&tl(Hn)){var t=[];fd(t,Hn,e,Yi(e)),td(ix,t)}}function ox(e,t,r){e==="focusin"?(xd(),qn=t,Hn=r,qn.attachEvent("onpropertychange",bd)):e==="focusout"&&xd()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Hn)}function ux(e,t){if(e==="click")return tl(t)}function dx(e,t){if(e==="input"||e==="change")return tl(t)}function hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:hx;function $n(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Oi.call(t,c)||!St(e[c],t[c]))return!1}return!0}function yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vd(e,t){var r=yd(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yd(r)}}function wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _d(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qs(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qs(e.document)}return t}function eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fx=oa&&"documentMode"in document&&11>=document.documentMode,Br=null,to=null,Gn=null,ao=!1;function kd(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ao||Br==null||Br!==Qs(l)||(l=Br,"selectionStart"in l&&eo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gn&&$n(Gn,l)||(Gn=l,l=Yl(to,"onSelect"),0<l.length&&(t=new Ws("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=Br)))}function lr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ro={},jd={};oa&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function ir(e){if(ro[e])return ro[e];if(!qr[e])return e;var t=qr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jd)return ro[e]=t[r];return e}var Sd=ir("animationend"),Nd=ir("animationiteration"),Ed=ir("animationstart"),mx=ir("transitionrun"),gx=ir("transitionstart"),px=ir("transitioncancel"),Td=ir("transitionend"),Ad=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Vt(e,t){Ad.set(e,t),nr(t,[e])}var al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Hr=0,so=0;function rl(){for(var e=Hr,t=so=Hr=0;t<e;){var r=Lt[t];Lt[t++]=null;var l=Lt[t];Lt[t++]=null;var c=Lt[t];Lt[t++]=null;var d=Lt[t];if(Lt[t++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&Od(r,c,d)}}function nl(e,t,r,l){Lt[Hr++]=e,Lt[Hr++]=t,Lt[Hr++]=r,Lt[Hr++]=l,so|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lo(e,t,r,l){return nl(e,t,r,l),sl(e)}function or(e,t){return nl(e,null,null,t),sl(e)}function Od(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-jt(r),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=r|536870912),d):null}function sl(e){if(50<us)throw us=0,pc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $r={};function xx(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,l){return new xx(e,t,r,l)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cd(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ll(e,t,r,l,c,d){var g=0;if(l=e,typeof e=="function")io(e)&&(g=1);else if(typeof e=="string")g=_b(e,r,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Nt(31,r,t,c),e.elementType=K,e.lanes=d,e;case R:return cr(r.children,c,d,t);case N:g=8,c|=24;break;case O:return e=Nt(12,r,t,c|2),e.elementType=O,e.lanes=d,e;case Z:return e=Nt(13,r,t,c),e.elementType=Z,e.lanes=d,e;case I:return e=Nt(19,r,t,c),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:g=10;break e;case D:g=9;break e;case V:g=11;break e;case Q:g=14;break e;case le:g=16,l=null;break e}g=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Nt(g,r,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function cr(e,t,r,l){return e=Nt(7,e,l,t),e.lanes=r,e}function oo(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function Rd(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function co(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dd=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var r=Dd.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Ru(t)},Dd.set(e,t),t)}return{value:e,source:t,stack:Ru(t)}}var Gr=[],Yr=0,il=null,Yn=0,qt=[],Ht=0,Ca=null,ea=1,ta="";function ua(e,t){Gr[Yr++]=Yn,Gr[Yr++]=il,il=e,Yn=t}function Ud(e,t,r){qt[Ht++]=ea,qt[Ht++]=ta,qt[Ht++]=Ca,Ca=e;var l=ea;e=ta;var c=32-jt(l)-1;l&=~(1<<c),r+=1;var d=32-jt(t)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ea=1<<32-jt(t)+c|r<<c|l,ta=d+e}else ea=1<<d|r<<c|l,ta=e}function uo(e){e.return!==null&&(ua(e,1),Ud(e,1,0))}function ho(e){for(;e===il;)il=Gr[--Yr],Gr[Yr]=null,Yn=Gr[--Yr],Gr[Yr]=null;for(;e===Ca;)Ca=qt[--Ht],qt[Ht]=null,ta=qt[--Ht],qt[Ht]=null,ea=qt[--Ht],qt[Ht]=null}function zd(e,t){qt[Ht++]=ea,qt[Ht++]=ta,qt[Ht++]=Ca,ea=t.id,ta=t.overflow,Ca=e}var rt=null,ze=null,ve=!1,Ra=null,$t=!1,fo=Error(i(519));function Da(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw In(Bt(t,e)),fo}function Md(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[at]=e,t[gt]=l,r){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(r=0;r<hs.length;r++)xe(hs[r],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Ju(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Zu(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||em(t.textContent,r)?(l.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),l.onScroll!=null&&xe("scroll",t),l.onScrollEnd!=null&&xe("scrollend",t),l.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||Da(e,!0)}function Ld(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:rt=rt.return}}function Ir(e){if(e!==rt)return!1;if(!ve)return Ld(e),ve=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Cc(e.type,e.memoizedProps)),r=!r),r&&ze&&Da(e),Ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=cm(e)}else t===27?(t=ze,Pa(e.type)?(e=Mc,Mc=null,ze=e):ze=t):ze=rt?Yt(e.stateNode.nextSibling):null;return!0}function ur(){ze=rt=null,ve=!1}function mo(){var e=Ra;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Ra=null),e}function In(e){Ra===null?Ra=[e]:Ra.push(e)}var go=w(null),dr=null,da=null;function Ua(e,t,r){P(go,t._currentValue),t._currentValue=r}function ha(e){e._currentValue=go.current,L(go)}function po(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function xo(e,t,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var S=0;S<t.length;S++)if(y.context===t[S]){d.lanes|=r,y=d.alternate,y!==null&&(y.lanes|=r),po(d.return,r,e),l||(g=null);break e}d=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(i(341));g.lanes|=r,d=g.alternate,d!==null&&(d.lanes|=r),po(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Kr(e,t,r,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var y=c.type;St(c.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(c===_e.current){if(g=c.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}c=c.return}e!==null&&xo(t,e,r,l),t.flags|=262144}function ol(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){dr=e,da=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Bd(dr,e)}function cl(e,t){return dr===null&&hr(e),Bd(e,t)}function Bd(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},da===null){if(e===null)throw Error(i(308));da=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else da=da.next=t;return r}var bx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},yx=n.unstable_scheduleCallback,vx=n.unstable_NormalPriority,Ke={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bo(){return{controller:new bx,data:new Map,refCount:0}}function Kn(e){e.refCount--,e.refCount===0&&yx(vx,function(){e.controller.abort()})}var Vn=null,yo=0,Vr=0,Pr=null;function wx(e,t){if(Vn===null){var r=Vn=[];yo=0,Vr=_c(),Pr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yo++,t.then(qd,qd),t}function qd(){if(--yo===0&&Vn!==null){Pr!==null&&(Pr.status="fulfilled");var e=Vn;Vn=null,Vr=0,Pr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function _x(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Hd=q.S;q.S=function(e,t){jf=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&wx(e,t),Hd!==null&&Hd(e,t)};var fr=w(null);function vo(){var e=fr.current;return e!==null?e:Ce.pooledCache}function ul(e,t){t===null?P(fr,fr.current):P(fr,t.pool)}function $d(){var e=vo();return e===null?null:{parent:Ke._currentValue,pool:e}}var Qr=Error(i(460)),wo=Error(i(474)),dl=Error(i(542)),hl={then:function(){}};function Gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yd(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ia,ia),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e}throw gr=t,Qr}}function mr(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(gr=r,Qr):r}}var gr=null;function Id(){if(gr===null)throw Error(i(459));var e=gr;return gr=null,e}function Kd(e){if(e===Qr||e===dl)throw Error(i(483))}var Jr=null,Pn=0;function fl(e){var t=Pn;return Pn+=1,Jr===null&&(Jr=[]),Yd(Jr,e,t)}function Qn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ml(e,t){throw t.$$typeof===k?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vd(e){function t(A,E){if(e){var U=A.deletions;U===null?(A.deletions=[E],A.flags|=16):U.push(E)}}function r(A,E){if(!e)return null;for(;E!==null;)t(A,E),E=E.sibling;return null}function l(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function c(A,E){return A=ca(A,E),A.index=0,A.sibling=null,A}function d(A,E,U){return A.index=U,e?(U=A.alternate,U!==null?(U=U.index,U<E?(A.flags|=67108866,E):U):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function g(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function y(A,E,U,$){return E===null||E.tag!==6?(E=oo(U,A.mode,$),E.return=A,E):(E=c(E,U),E.return=A,E)}function S(A,E,U,$){var ae=U.type;return ae===R?H(A,E,U.props.children,$,U.key):E!==null&&(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===le&&mr(ae)===E.type)?(E=c(E,U.props),Qn(E,U),E.return=A,E):(E=ll(U.type,U.key,U.props,null,A.mode,$),Qn(E,U),E.return=A,E)}function z(A,E,U,$){return E===null||E.tag!==4||E.stateNode.containerInfo!==U.containerInfo||E.stateNode.implementation!==U.implementation?(E=co(U,A.mode,$),E.return=A,E):(E=c(E,U.children||[]),E.return=A,E)}function H(A,E,U,$,ae){return E===null||E.tag!==7?(E=cr(U,A.mode,$,ae),E.return=A,E):(E=c(E,U),E.return=A,E)}function G(A,E,U){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=oo(""+E,A.mode,U),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _:return U=ll(E.type,E.key,E.props,null,A.mode,U),Qn(U,E),U.return=A,U;case T:return E=co(E,A.mode,U),E.return=A,E;case le:return E=mr(E),G(A,E,U)}if(ht(E)||ue(E))return E=cr(E,A.mode,U,null),E.return=A,E;if(typeof E.then=="function")return G(A,fl(E),U);if(E.$$typeof===C)return G(A,cl(A,E),U);ml(A,E)}return null}function M(A,E,U,$){var ae=E!==null?E.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ae!==null?null:y(A,E,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ae?S(A,E,U,$):null;case T:return U.key===ae?z(A,E,U,$):null;case le:return U=mr(U),M(A,E,U,$)}if(ht(U)||ue(U))return ae!==null?null:H(A,E,U,$,null);if(typeof U.then=="function")return M(A,E,fl(U),$);if(U.$$typeof===C)return M(A,E,cl(A,U),$);ml(A,U)}return null}function B(A,E,U,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return A=A.get(U)||null,y(E,A,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return A=A.get($.key===null?U:$.key)||null,S(E,A,$,ae);case T:return A=A.get($.key===null?U:$.key)||null,z(E,A,$,ae);case le:return $=mr($),B(A,E,U,$,ae)}if(ht($)||ue($))return A=A.get(U)||null,H(E,A,$,ae,null);if(typeof $.then=="function")return B(A,E,U,fl($),ae);if($.$$typeof===C)return B(A,E,U,cl(E,$),ae);ml(E,$)}return null}function F(A,E,U,$){for(var ae=null,ke=null,ee=E,fe=E=0,ye=null;ee!==null&&fe<U.length;fe++){ee.index>fe?(ye=ee,ee=null):ye=ee.sibling;var je=M(A,ee,U[fe],$);if(je===null){ee===null&&(ee=ye);break}e&&ee&&je.alternate===null&&t(A,ee),E=d(je,E,fe),ke===null?ae=je:ke.sibling=je,ke=je,ee=ye}if(fe===U.length)return r(A,ee),ve&&ua(A,fe),ae;if(ee===null){for(;fe<U.length;fe++)ee=G(A,U[fe],$),ee!==null&&(E=d(ee,E,fe),ke===null?ae=ee:ke.sibling=ee,ke=ee);return ve&&ua(A,fe),ae}for(ee=l(ee);fe<U.length;fe++)ye=B(ee,A,fe,U[fe],$),ye!==null&&(e&&ye.alternate!==null&&ee.delete(ye.key===null?fe:ye.key),E=d(ye,E,fe),ke===null?ae=ye:ke.sibling=ye,ke=ye);return e&&ee.forEach(function(Fa){return t(A,Fa)}),ve&&ua(A,fe),ae}function se(A,E,U,$){if(U==null)throw Error(i(151));for(var ae=null,ke=null,ee=E,fe=E=0,ye=null,je=U.next();ee!==null&&!je.done;fe++,je=U.next()){ee.index>fe?(ye=ee,ee=null):ye=ee.sibling;var Fa=M(A,ee,je.value,$);if(Fa===null){ee===null&&(ee=ye);break}e&&ee&&Fa.alternate===null&&t(A,ee),E=d(Fa,E,fe),ke===null?ae=Fa:ke.sibling=Fa,ke=Fa,ee=ye}if(je.done)return r(A,ee),ve&&ua(A,fe),ae;if(ee===null){for(;!je.done;fe++,je=U.next())je=G(A,je.value,$),je!==null&&(E=d(je,E,fe),ke===null?ae=je:ke.sibling=je,ke=je);return ve&&ua(A,fe),ae}for(ee=l(ee);!je.done;fe++,je=U.next())je=B(ee,A,fe,je.value,$),je!==null&&(e&&je.alternate!==null&&ee.delete(je.key===null?fe:je.key),E=d(je,E,fe),ke===null?ae=je:ke.sibling=je,ke=je);return e&&ee.forEach(function(Db){return t(A,Db)}),ve&&ua(A,fe),ae}function Oe(A,E,U,$){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var ae=U.key;E!==null;){if(E.key===ae){if(ae=U.type,ae===R){if(E.tag===7){r(A,E.sibling),$=c(E,U.props.children),$.return=A,A=$;break e}}else if(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===le&&mr(ae)===E.type){r(A,E.sibling),$=c(E,U.props),Qn($,U),$.return=A,A=$;break e}r(A,E);break}else t(A,E);E=E.sibling}U.type===R?($=cr(U.props.children,A.mode,$,U.key),$.return=A,A=$):($=ll(U.type,U.key,U.props,null,A.mode,$),Qn($,U),$.return=A,A=$)}return g(A);case T:e:{for(ae=U.key;E!==null;){if(E.key===ae)if(E.tag===4&&E.stateNode.containerInfo===U.containerInfo&&E.stateNode.implementation===U.implementation){r(A,E.sibling),$=c(E,U.children||[]),$.return=A,A=$;break e}else{r(A,E);break}else t(A,E);E=E.sibling}$=co(U,A.mode,$),$.return=A,A=$}return g(A);case le:return U=mr(U),Oe(A,E,U,$)}if(ht(U))return F(A,E,U,$);if(ue(U)){if(ae=ue(U),typeof ae!="function")throw Error(i(150));return U=ae.call(U),se(A,E,U,$)}if(typeof U.then=="function")return Oe(A,E,fl(U),$);if(U.$$typeof===C)return Oe(A,E,cl(A,U),$);ml(A,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,E!==null&&E.tag===6?(r(A,E.sibling),$=c(E,U),$.return=A,A=$):(r(A,E),$=oo(U,A.mode,$),$.return=A,A=$),g(A)):r(A,E)}return function(A,E,U,$){try{Pn=0;var ae=Oe(A,E,U,$);return Jr=null,ae}catch(ee){if(ee===Qr||ee===dl)throw ee;var ke=Nt(29,ee,null,A.mode);return ke.lanes=$,ke.return=A,ke}finally{}}}var pr=Vd(!0),Pd=Vd(!1),za=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Se&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=sl(e),Od(e,null,r),t}return nl(e,l,t,r),sl(e)}function Jn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Bu(e,r)}}function jo(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var So=!1;function Xn(){if(So){var e=Pr;if(e!==null)throw e}}function Zn(e,t,r,l){So=!1;var c=e.updateQueue;za=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,z=S.next;S.next=null,g===null?d=z:g.next=z,g=S;var H=e.alternate;H!==null&&(H=H.updateQueue,y=H.lastBaseUpdate,y!==g&&(y===null?H.firstBaseUpdate=z:y.next=z,H.lastBaseUpdate=S))}if(d!==null){var G=c.baseState;g=0,H=z=S=null,y=d;do{var M=y.lane&-536870913,B=M!==y.lane;if(B?(be&M)===M:(l&M)===M){M!==0&&M===Vr&&(So=!0),H!==null&&(H=H.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var F=e,se=y;M=t;var Oe=r;switch(se.tag){case 1:if(F=se.payload,typeof F=="function"){G=F.call(Oe,G,M);break e}G=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=se.payload,M=typeof F=="function"?F.call(Oe,G,M):F,M==null)break e;G=v({},G,M);break e;case 2:za=!0}}M=y.callback,M!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[M]:B.push(M))}else B={lane:M,tag:y.tag,payload:y.payload,callback:y.callback,next:null},H===null?(z=H=B,S=G):H=H.next=B,g|=M;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;B=y,y=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);H===null&&(S=G),c.baseState=S,c.firstBaseUpdate=z,c.lastBaseUpdate=H,d===null&&(c.shared.lanes=0),Ga|=g,e.lanes=g,e.memoizedState=G}}function Qd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Jd(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Qd(r[e],t)}var Xr=w(null),gl=w(0);function Xd(e,t){e=wa,P(gl,e),P(Xr,t),wa=e|t.baseLanes}function No(){P(gl,wa),P(Xr,Xr.current)}function Eo(){wa=gl.current,L(Xr),L(gl)}var Et=w(null),Gt=null;function Ba(e){var t=e.alternate;P(Ye,Ye.current&1),P(Et,e),Gt===null&&(t===null||Xr.current!==null||t.memoizedState!==null)&&(Gt=e)}function To(e){P(Ye,Ye.current),P(Et,e),Gt===null&&(Gt=e)}function Zd(e){e.tag===22?(P(Ye,Ye.current),P(Et,e),Gt===null&&(Gt=e)):qa()}function qa(){P(Ye,Ye.current),P(Et,Et.current)}function Tt(e){L(Et),Gt===e&&(Gt=null),L(Ye)}var Ye=w(0);function pl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Uc(r)||zc(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=0,he=null,Te=null,Ve=null,xl=!1,Zr=!1,xr=!1,bl=0,Fn=0,Fr=null,kx=0;function He(){throw Error(i(321))}function Ao(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!St(e[r],t[r]))return!1;return!0}function Oo(e,t,r,l,c,d){return fa=d,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Uh:Ko,xr=!1,d=r(l,c),xr=!1,Zr&&(d=Wd(t,r,l,c)),Fd(e),d}function Fd(e){q.H=ts;var t=Te!==null&&Te.next!==null;if(fa=0,Ve=Te=he=null,xl=!1,Fn=0,Fr=null,t)throw Error(i(300));e===null||Pe||(e=e.dependencies,e!==null&&ol(e)&&(Pe=!0))}function Wd(e,t,r,l){he=e;var c=0;do{if(Zr&&(Fr=null),Fn=0,Zr=!1,25<=c)throw Error(i(301));if(c+=1,Ve=Te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=zh,d=t(r,l)}while(Zr);return d}function jx(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Wn(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(he.flags|=1024),t}function Co(){var e=bl!==0;return bl=0,e}function Ro(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Do(e){if(xl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xl=!1}fa=0,Ve=Te=he=null,Zr=!1,Fn=bl=0,Fr=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?he.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ie(){if(Te===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ve===null?he.memoizedState:Ve.next;if(t!==null)Ve=t,Te=e;else{if(e===null)throw he.alternate===null?Error(i(467)):Error(i(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ve===null?he.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wn(e){var t=Fn;return Fn+=1,Fr===null&&(Fr=[]),e=Yd(Fr,e,t),t=he,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Uh:Ko),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wn(e);if(e.$$typeof===C)return nt(e)}throw Error(i(438,String(e)))}function Uo(e){var t=null,r=he.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=yl(),he.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=me;return t.index++,r}function ma(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=Ie();return zo(t,Te,e)}function zo(e,t,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var y=g=null,S=null,z=t,H=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(be&G)===G:(fa&G)===G){var M=z.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===Vr&&(H=!0);else if((fa&M)===M){z=z.next,M===Vr&&(H=!0);continue}else G={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(y=S=G,g=d):S=S.next=G,he.lanes|=M,Ga|=M;G=z.action,xr&&r(d,G),d=z.hasEagerState?z.eagerState:r(d,G)}else M={lane:G,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(y=S=M,g=d):S=S.next=M,he.lanes|=G,Ga|=G;z=z.next}while(z!==null&&z!==t);if(S===null?g=d:S.next=y,!St(d,e.memoizedState)&&(Pe=!0,H&&(r=Pr,r!==null)))throw r;e.memoizedState=d,e.baseState=g,e.baseQueue=S,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mo(e){var t=Ie(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);St(d,t.memoizedState)||(Pe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,l]}function eh(e,t,r){var l=he,c=Ie(),d=ve;if(d){if(r===void 0)throw Error(i(407));r=r()}else r=t();var g=!St((Te||c).memoizedState,r);if(g&&(c.memoizedState=r,Pe=!0),c=c.queue,qo(rh.bind(null,l,c,e),[e]),c.getSnapshot!==t||g||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Wr(9,{destroy:void 0},ah.bind(null,l,c,r,t),null),Ce===null)throw Error(i(349));d||(fa&127)!==0||th(l,t,r)}return r}function th(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t=yl(),he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ah(e,t,r,l){t.value=r,t.getSnapshot=l,nh(t)&&sh(e)}function rh(e,t,r){return r(function(){nh(t)&&sh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!St(e,r)}catch{return!0}}function sh(e){var t=or(e,2);t!==null&&wt(t,e,2)}function Lo(e){var t=ft();if(typeof e=="function"){var r=e;if(e=r(),xr){Ta(!0);try{r()}finally{Ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function lh(e,t,r,l){return e.baseState=r,zo(e,Te,typeof l=="function"?l:ma)}function Sx(e,t,r,l,c){if(jl(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};q.T!==null?r(!0):d.isTransition=!1,l(d),r=t.pending,r===null?(d.next=t.pending=d,ih(t,d)):(d.next=r.next,t.pending=r.next=d)}}function ih(e,t){var r=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=q.T,g={};q.T=g;try{var y=r(c,l),S=q.S;S!==null&&S(g,y),oh(e,t,y)}catch(z){Bo(e,t,z)}finally{d!==null&&g.types!==null&&(d.types=g.types),q.T=d}}else try{d=r(c,l),oh(e,t,d)}catch(z){Bo(e,t,z)}}function oh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ch(e,t,l)},function(l){return Bo(e,t,l)}):ch(e,t,r)}function ch(e,t,r){t.status="fulfilled",t.value=r,uh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,ih(e,r)))}function Bo(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,uh(t),t=t.next;while(t!==l)}e.action=null}function uh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dh(e,t){return t}function hh(e,t){if(ve){var r=Ce.formState;if(r!==null){e:{var l=he;if(ve){if(ze){t:{for(var c=ze,d=$t;c.nodeType!==8;){if(!d){c=null;break t}if(c=Yt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){ze=Yt(c.nextSibling),l=c.data==="F!";break e}}Da(l)}l=!1}l&&(t=r[0])}}return r=ft(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:t},r.queue=l,r=Ch.bind(null,he,l),l.dispatch=r,l=Lo(!1),d=Io.bind(null,he,!1,l.queue),l=ft(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,r=Sx.bind(null,he,c,d,r),c.dispatch=r,l.memoizedState=e,[t,r,!1]}function fh(e){var t=Ie();return mh(t,Te,e)}function mh(e,t,r){if(t=zo(e,t,dh)[0],e=wl(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Wn(t)}catch(g){throw g===Qr?dl:g}else l=t;t=Ie();var c=t.queue,d=c.dispatch;return r!==t.memoizedState&&(he.flags|=2048,Wr(9,{destroy:void 0},Nx.bind(null,c,r),null)),[l,d,e]}function Nx(e,t){e.action=t}function gh(e){var t=Ie(),r=Te;if(r!==null)return mh(t,r,e);Ie(),t=t.memoizedState,r=Ie();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function Wr(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=he.updateQueue,t===null&&(t=yl(),he.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function ph(){return Ie().memoizedState}function _l(e,t,r,l){var c=ft();he.flags|=e,c.memoizedState=Wr(1|t,{destroy:void 0},r,l===void 0?null:l)}function kl(e,t,r,l){var c=Ie();l=l===void 0?null:l;var d=c.memoizedState.inst;Te!==null&&l!==null&&Ao(l,Te.memoizedState.deps)?c.memoizedState=Wr(t,d,r,l):(he.flags|=e,c.memoizedState=Wr(1|t,d,r,l))}function xh(e,t){_l(8390656,8,e,t)}function qo(e,t){kl(2048,8,e,t)}function Ex(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=yl(),he.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function bh(e){var t=Ie().memoizedState;return Ex({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function yh(e,t){return kl(4,2,e,t)}function vh(e,t){return kl(4,4,e,t)}function wh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,r){r=r!=null?r.concat([e]):null,kl(4,4,wh.bind(null,t,e),r)}function Ho(){}function kh(e,t){var r=Ie();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Ao(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function jh(e,t){var r=Ie();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Ao(t,l[1]))return l[0];if(l=e(),xr){Ta(!0);try{e()}finally{Ta(!1)}}return r.memoizedState=[l,t],l}function $o(e,t,r){return r===void 0||(fa&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Nf(),he.lanes|=e,Ga|=e,r)}function Sh(e,t,r,l){return St(r,t)?r:Xr.current!==null?(e=$o(e,r,l),St(e,t)||(Pe=!0),e):(fa&42)===0||(fa&1073741824)!==0&&(be&261930)===0?(Pe=!0,e.memoizedState=r):(e=Nf(),he.lanes|=e,Ga|=e,t)}function Nh(e,t,r,l,c){var d=J.p;J.p=d!==0&&8>d?d:8;var g=q.T,y={};q.T=y,Io(e,!1,t,r);try{var S=c(),z=q.S;if(z!==null&&z(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=_x(S,l);es(e,t,H,Ct(e))}else es(e,t,l,Ct(e))}catch(G){es(e,t,{then:function(){},status:"rejected",reason:G},Ct())}finally{J.p=d,g!==null&&y.types!==null&&(g.types=y.types),q.T=g}}function Tx(){}function Go(e,t,r,l){if(e.tag!==5)throw Error(i(476));var c=Eh(e).queue;Nh(e,c,t,Y,r===null?Tx:function(){return Th(e),r(l)})}function Eh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:Y},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Th(e){var t=Eh(e);t.next===null&&(t=e.alternate.memoizedState),es(e,t.next.queue,{},Ct())}function Yo(){return nt(xs)}function Ah(){return Ie().memoizedState}function Oh(){return Ie().memoizedState}function Ax(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Ct();e=Ma(r);var l=La(t,e,r);l!==null&&(wt(l,t,r),Jn(l,t,r)),t={cache:bo()},e.payload=t;return}t=t.return}}function Ox(e,t,r){var l=Ct();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jl(e)?Rh(t,r):(r=lo(e,t,r,l),r!==null&&(wt(r,e,l),Dh(r,t,l)))}function Ch(e,t,r){var l=Ct();es(e,t,r,l)}function es(e,t,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(jl(e))Rh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,y=d(g,r);if(c.hasEagerState=!0,c.eagerState=y,St(y,g))return nl(e,t,c,0),Ce===null&&rl(),!1}catch{}finally{}if(r=lo(e,t,c,l),r!==null)return wt(r,e,l),Dh(r,t,l),!0}return!1}function Io(e,t,r,l){if(l={lane:2,revertLane:_c(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jl(e)){if(t)throw Error(i(479))}else t=lo(e,r,l,2),t!==null&&wt(t,e,2)}function jl(e){var t=e.alternate;return e===he||t!==null&&t===he}function Rh(e,t){Zr=xl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dh(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Bu(e,r)}}var ts={readContext:nt,use:vl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};ts.useEffectEvent=He;var Uh={readContext:nt,use:vl,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:xh,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,_l(4194308,4,wh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){_l(4,2,e,t)},useMemo:function(e,t){var r=ft();t=t===void 0?null:t;var l=e();if(xr){Ta(!0);try{e()}finally{Ta(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=ft();if(r!==void 0){var c=r(t);if(xr){Ta(!0);try{r(t)}finally{Ta(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Ox.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Lo(e);var t=e.queue,r=Ch.bind(null,he,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Ho,useDeferredValue:function(e,t){var r=ft();return $o(r,e,t)},useTransition:function(){var e=Lo(!1);return e=Nh.bind(null,he,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=he,c=ft();if(ve){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ce===null)throw Error(i(349));(be&127)!==0||th(l,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,xh(rh.bind(null,l,d,e),[e]),l.flags|=2048,Wr(9,{destroy:void 0},ah.bind(null,l,d,r,t),null),r},useId:function(){var e=ft(),t=Ce.identifierPrefix;if(ve){var r=ta,l=ea;r=(l&~(1<<32-jt(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=bl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=kx++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Yo,useFormState:hh,useActionState:hh,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Io.bind(null,he,!0,r),r.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return ft().memoizedState=Ax.bind(null,he)},useEffectEvent:function(e){var t=ft(),r={impl:e};return t.memoizedState=r,function(){if((Se&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Ko={readContext:nt,use:vl,useCallback:kh,useContext:nt,useEffect:qo,useImperativeHandle:_h,useInsertionEffect:yh,useLayoutEffect:vh,useMemo:jh,useReducer:wl,useRef:ph,useState:function(){return wl(ma)},useDebugValue:Ho,useDeferredValue:function(e,t){var r=Ie();return Sh(r,Te.memoizedState,e,t)},useTransition:function(){var e=wl(ma)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Wn(e),t]},useSyncExternalStore:eh,useId:Ah,useHostTransitionStatus:Yo,useFormState:fh,useActionState:fh,useOptimistic:function(e,t){var r=Ie();return lh(r,Te,e,t)},useMemoCache:Uo,useCacheRefresh:Oh};Ko.useEffectEvent=bh;var zh={readContext:nt,use:vl,useCallback:kh,useContext:nt,useEffect:qo,useImperativeHandle:_h,useInsertionEffect:yh,useLayoutEffect:vh,useMemo:jh,useReducer:Mo,useRef:ph,useState:function(){return Mo(ma)},useDebugValue:Ho,useDeferredValue:function(e,t){var r=Ie();return Te===null?$o(r,e,t):Sh(r,Te.memoizedState,e,t)},useTransition:function(){var e=Mo(ma)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Wn(e),t]},useSyncExternalStore:eh,useId:Ah,useHostTransitionStatus:Yo,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var r=Ie();return Te!==null?lh(r,Te,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:Oh};zh.useEffectEvent=bh;function Vo(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:v({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Po={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Ct(),c=Ma(l);c.payload=t,r!=null&&(c.callback=r),t=La(e,c,l),t!==null&&(wt(t,e,l),Jn(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Ct(),c=Ma(l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=La(e,c,l),t!==null&&(wt(t,e,l),Jn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ct(),l=Ma(r);l.tag=2,t!=null&&(l.callback=t),t=La(e,l,r),t!==null&&(wt(t,e,r),Jn(t,e,r))}};function Mh(e,t,r,l,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,g):t.prototype&&t.prototype.isPureReactComponent?!$n(r,l)||!$n(c,d):!0}function Lh(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Po.enqueueReplaceState(t,t.state,null)}function br(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=v({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Bh(e){al(e)}function qh(e){console.error(e)}function Hh(e){al(e)}function Sl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function $h(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qo(e,t,r){return r=Ma(r),r.tag=3,r.payload={element:null},r.callback=function(){Sl(e,t)},r}function Gh(e){return e=Ma(e),e.tag=3,e}function Yh(e,t,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){$h(t,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){$h(t,r,l),typeof c!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function Cx(e,t,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&Kr(t,r,c,!0),r=Et.current,r!==null){switch(r.tag){case 31:case 13:return Gt===null?Ll():r.alternate===null&&$e===0&&($e=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===hl?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),yc(e,l,c)),!1;case 22:return r.flags|=65536,l===hl?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),yc(e,l,c)),!1}throw Error(i(435,r.tag))}return yc(e,l,c),Ll(),!1}if(ve)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==fo&&(e=Error(i(422),{cause:l}),In(Bt(e,r)))):(l!==fo&&(t=Error(i(423),{cause:l}),In(Bt(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Bt(l,r),c=Qo(e.stateNode,l,c),jo(e,c),$e!==4&&($e=2)),!1;var d=Error(i(520),{cause:l});if(d=Bt(d,r),cs===null?cs=[d]:cs.push(d),$e!==4&&($e=2),t===null)return!0;l=Bt(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Qo(r.stateNode,l,e),jo(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ya===null||!Ya.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Gh(c),Yh(c,e,r,l),jo(r,c),!1}r=r.return}while(r!==null);return!1}var Jo=Error(i(461)),Pe=!1;function st(e,t,r,l){t.child=e===null?Pd(t,null,r,l):pr(t,e.child,r,l)}function Ih(e,t,r,l,c){r=r.render;var d=t.ref;if("ref"in l){var g={};for(var y in l)y!=="ref"&&(g[y]=l[y])}else g=l;return hr(t),l=Oo(e,t,r,g,d,c),y=Co(),e!==null&&!Pe?(Ro(e,t,c),ga(e,t,c)):(ve&&y&&uo(t),t.flags|=1,st(e,t,l,c),t.child)}function Kh(e,t,r,l,c){if(e===null){var d=r.type;return typeof d=="function"&&!io(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,Vh(e,t,d,l,c)):(e=ll(r.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!rc(e,c)){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:$n,r(g,l)&&e.ref===t.ref)return ga(e,t,c)}return t.flags|=1,e=ca(d,l),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,r,l,c){if(e!==null){var d=e.memoizedProps;if($n(d,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=d,rc(e,c))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,ga(e,t,c)}return Xo(e,t,r,l,c)}function Ph(e,t,r,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return Qh(e,t,d,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ul(t,d!==null?d.cachePool:null),d!==null?Xd(t,d):No(),Zd(t);else return l=t.lanes=536870912,Qh(e,t,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(ul(t,d.cachePool),Xd(t,d),qa(),t.memoizedState=null):(e!==null&&ul(t,null),No(),qa());return st(e,t,c,r),t.child}function as(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qh(e,t,r,l,c){var d=vo();return d=d===null?null:{parent:Ke._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&ul(t,null),No(),Zd(t),e!==null&&Kr(e,t,l,!0),t.childLanes=c,null}function Nl(e,t){return t=Tl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jh(e,t,r){return pr(t,e.child,null,r),e=Nl(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function Rx(e,t,r){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(l.mode==="hidden")return e=Nl(t,l),t.lanes=536870912,as(null,e);if(To(t),(e=ze)?(e=om(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},r=Rd(e),r.return=t,t.child=r,rt=t,ze=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return Nl(t,l)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(To(t),c)if(t.flags&256)t.flags&=-257,t=Jh(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Pe||Kr(e,t,r,!1),c=(r&e.childLanes)!==0,Pe||c){if(l=Ce,l!==null&&(g=qu(l,r),g!==0&&g!==d.retryLane))throw d.retryLane=g,or(e,g),wt(l,e,g),Jo;Ll(),t=Jh(e,t,r)}else e=d.treeContext,ze=Yt(g.nextSibling),rt=t,ve=!0,Ra=null,$t=!1,e!==null&&zd(t,e),t=Nl(t,l),t.flags|=4096;return t}return e=ca(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function El(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Xo(e,t,r,l,c){return hr(t),r=Oo(e,t,r,l,void 0,c),l=Co(),e!==null&&!Pe?(Ro(e,t,c),ga(e,t,c)):(ve&&l&&uo(t),t.flags|=1,st(e,t,r,c),t.child)}function Xh(e,t,r,l,c,d){return hr(t),t.updateQueue=null,r=Wd(t,l,r,c),Fd(e),l=Co(),e!==null&&!Pe?(Ro(e,t,d),ga(e,t,d)):(ve&&l&&uo(t),t.flags|=1,st(e,t,r,d),t.child)}function Zh(e,t,r,l,c){if(hr(t),t.stateNode===null){var d=$r,g=r.contextType;typeof g=="object"&&g!==null&&(d=nt(g)),d=new r(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Po,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},_o(t),g=r.contextType,d.context=typeof g=="object"&&g!==null?nt(g):$r,d.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vo(t,r,g,l),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Po.enqueueReplaceState(d,d.state,null),Zn(t,l,d,c),Xn(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,S=br(r,y);d.props=S;var z=d.context,H=r.contextType;g=$r,typeof H=="object"&&H!==null&&(g=nt(H));var G=r.getDerivedStateFromProps;H=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||z!==g)&&Lh(t,d,l,g),za=!1;var M=t.memoizedState;d.state=M,Zn(t,l,d,c),Xn(),z=t.memoizedState,y||M!==z||za?(typeof G=="function"&&(Vo(t,r,G,l),z=t.memoizedState),(S=za||Mh(t,r,S,l,M,z,g))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=z),d.props=l,d.state=z,d.context=g,l=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,ko(e,t),g=t.memoizedProps,H=br(r,g),d.props=H,G=t.pendingProps,M=d.context,z=r.contextType,S=$r,typeof z=="object"&&z!==null&&(S=nt(z)),y=r.getDerivedStateFromProps,(z=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==G||M!==S)&&Lh(t,d,l,S),za=!1,M=t.memoizedState,d.state=M,Zn(t,l,d,c),Xn();var B=t.memoizedState;g!==G||M!==B||za||e!==null&&e.dependencies!==null&&ol(e.dependencies)?(typeof y=="function"&&(Vo(t,r,y,l),B=t.memoizedState),(H=za||Mh(t,r,H,l,M,B,S)||e!==null&&e.dependencies!==null&&ol(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=B),d.props=l,d.state=B,d.context=S,l=H):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,El(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=pr(t,e.child,null,c),t.child=pr(t,null,r,c)):st(e,t,r,c),t.memoizedState=d.state,e=t.child):e=ga(e,t,c),e}function Fh(e,t,r,l){return ur(),t.flags|=256,st(e,t,r,l),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(e){return{baseLanes:e,cachePool:$d()}}function Wo(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Ot),e}function Wh(e,t,r){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(c?Ba(t):qa(),(e=ze)?(e=om(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},r=Rd(e),r.return=t,t.child=r,rt=t,ze=null)):e=null,e===null)throw Da(t);return zc(e)?t.lanes=32:t.lanes=536870912,null}var y=l.children;return l=l.fallback,c?(qa(),c=t.mode,y=Tl({mode:"hidden",children:y},c),l=cr(l,c,r,null),y.return=t,l.return=t,y.sibling=l,t.child=y,l=t.child,l.memoizedState=Fo(r),l.childLanes=Wo(e,g,r),t.memoizedState=Zo,as(null,l)):(Ba(t),ec(t,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(d)t.flags&256?(Ba(t),t.flags&=-257,t=tc(e,t,r)):t.memoizedState!==null?(qa(),t.child=e.child,t.flags|=128,t=null):(qa(),y=l.fallback,c=t.mode,l=Tl({mode:"visible",children:l.children},c),y=cr(y,c,r,null),y.flags|=2,l.return=t,y.return=t,l.sibling=y,t.child=l,pr(t,e.child,null,r),l=t.child,l.memoizedState=Fo(r),l.childLanes=Wo(e,g,r),t.memoizedState=Zo,t=as(null,l));else if(Ba(t),zc(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(i(419)),l.stack="",l.digest=g,In({value:l,source:null,stack:null}),t=tc(e,t,r)}else if(Pe||Kr(e,t,r,!1),g=(r&e.childLanes)!==0,Pe||g){if(g=Ce,g!==null&&(l=qu(g,r),l!==0&&l!==S.retryLane))throw S.retryLane=l,or(e,l),wt(g,e,l),Jo;Uc(y)||Ll(),t=tc(e,t,r)}else Uc(y)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,ze=Yt(y.nextSibling),rt=t,ve=!0,Ra=null,$t=!1,e!==null&&zd(t,e),t=ec(t,l.children),t.flags|=4096);return t}return c?(qa(),y=l.fallback,c=t.mode,S=e.child,z=S.sibling,l=ca(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,z!==null?y=ca(z,y):(y=cr(y,c,r,null),y.flags|=2),y.return=t,l.return=t,l.sibling=y,t.child=l,as(null,l),l=t.child,y=e.child.memoizedState,y===null?y=Fo(r):(c=y.cachePool,c!==null?(S=Ke._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=$d(),y={baseLanes:y.baseLanes|r,cachePool:c}),l.memoizedState=y,l.childLanes=Wo(e,g,r),t.memoizedState=Zo,as(e.child,l)):(Ba(t),r=e.child,e=r.sibling,r=ca(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=r,t.memoizedState=null,r)}function ec(e,t){return t=Tl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tl(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function tc(e,t,r){return pr(t,e.child,null,r),e=ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ef(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),po(e.return,t,r)}function ac(e,t,r,l,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=c,g.treeForkCount=d)}function tf(e,t,r){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var g=Ye.current,y=(g&2)!==0;if(y?(g=g&1|2,t.flags|=128):g&=1,P(Ye,g),st(e,t,l,r),l=ve?Yn:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,r,t);else if(e.tag===19)ef(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&pl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),ac(t,!1,c,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&pl(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}ac(t,!0,r,null,d,l);break;case"together":ac(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ga(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Kr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=ca(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ca(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ol(e)))}function Dx(e,t,r){switch(t.tag){case 3:tt(t,t.stateNode.containerInfo),Ua(t,Ke,e.memoizedState.cache),ur();break;case 27:case 5:Tn(t);break;case 4:tt(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,To(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ba(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Wh(e,t,r):(Ba(t),e=ga(e,t,r),e!==null?e.sibling:null);Ba(t);break;case 19:var c=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(Kr(e,t,r,!1),l=(r&t.childLanes)!==0),c){if(l)return tf(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(Ye,Ye.current),l)break;return null;case 22:return t.lanes=0,Ph(e,t,r,t.pendingProps);case 24:Ua(t,Ke,e.memoizedState.cache)}return ga(e,t,r)}function af(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!rc(e,r)&&(t.flags&128)===0)return Pe=!1,Dx(e,t,r);Pe=(e.flags&131072)!==0}else Pe=!1,ve&&(t.flags&1048576)!==0&&Ud(t,Yn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=mr(t.elementType),t.type=e,typeof e=="function")io(e)?(l=br(e,l),t.tag=1,t=Zh(null,t,e,l,r)):(t.tag=0,t=Xo(null,t,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===V){t.tag=11,t=Ih(null,t,e,l,r);break e}else if(c===Q){t.tag=14,t=Kh(null,t,e,l,r);break e}}throw t=mt(e)||e,Error(i(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,c=br(l,t.pendingProps),Zh(e,t,l,c,r);case 3:e:{if(tt(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,ko(e,t),Zn(t,l,null,r);var g=t.memoizedState;if(l=g.cache,Ua(t,Ke,l),l!==d.cache&&xo(t,[Ke],r,!0),Xn(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Fh(e,t,l,r);break e}else if(l!==c){c=Bt(Error(i(424)),t),In(c),t=Fh(e,t,l,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Yt(e.firstChild),rt=t,ve=!0,Ra=null,$t=!0,r=Pd(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ur(),l===c){t=ga(e,t,r);break e}st(e,t,l,r)}t=t.child}return t;case 26:return El(e,t),e===null?(r=mm(t.type,null,t.pendingProps,null))?t.memoizedState=r:ve||(r=t.type,e=t.pendingProps,l=Il(de.current).createElement(r),l[at]=t,l[gt]=e,lt(l,r,e),We(l),t.stateNode=l):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Tn(t),e===null&&ve&&(l=t.stateNode=dm(t.type,t.pendingProps,de.current),rt=t,$t=!0,c=ze,Pa(t.type)?(Mc=c,ze=Yt(l.firstChild)):ze=c),st(e,t,t.pendingProps.children,r),El(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((c=l=ze)&&(l=cb(l,t.type,t.pendingProps,$t),l!==null?(t.stateNode=l,rt=t,ze=Yt(l.firstChild),$t=!1,c=!0):c=!1),c||Da(t)),Tn(t),c=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,l=d.children,Cc(c,d)?l=null:g!==null&&Cc(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Oo(e,t,jx,null,null,r),xs._currentValue=c),El(e,t),st(e,t,l,r),t.child;case 6:return e===null&&ve&&((e=r=ze)&&(r=ub(r,t.pendingProps,$t),r!==null?(t.stateNode=r,rt=t,ze=null,e=!0):e=!1),e||Da(t)),null;case 13:return Wh(e,t,r);case 4:return tt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=pr(t,null,l,r):st(e,t,l,r),t.child;case 11:return Ih(e,t,t.type,t.pendingProps,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,Ua(t,t.type,l.value),st(e,t,l.children,r),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,hr(t),c=nt(c),l=l(c),t.flags|=1,st(e,t,l,r),t.child;case 14:return Kh(e,t,t.type,t.pendingProps,r);case 15:return Vh(e,t,t.type,t.pendingProps,r);case 19:return tf(e,t,r);case 31:return Rx(e,t,r);case 22:return Ph(e,t,r,t.pendingProps);case 24:return hr(t),l=nt(Ke),e===null?(c=vo(),c===null&&(c=Ce,d=bo(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),t.memoizedState={parent:l,cache:c},_o(t),Ua(t,Ke,c)):((e.lanes&r)!==0&&(ko(e,t),Zn(t,null,null,r),Xn()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ua(t,Ke,l)):(l=d.cache,Ua(t,Ke,l),l!==c.cache&&xo(t,[Ke],r,!0))),st(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function pa(e){e.flags|=4}function nc(e,t,r,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Of())e.flags|=8192;else throw gr=hl,wo}else e.flags&=-16777217}function rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ym(t))if(Of())e.flags|=8192;else throw gr=hl,wo}function Al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mu():536870912,e.lanes|=t,rn|=t)}function rs(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Ux(e,t,r){var l=t.pendingProps;switch(ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ha(Ke),Ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ir(t)?pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mo())),Me(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(pa(t),d!==null?(Me(t),rf(t,d)):(Me(t),nc(t,c,null,l,r))):d?d!==e.memoizedState?(pa(t),Me(t),rf(t,d)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pa(t),Me(t),nc(t,c,e,l,r)),null;case 27:if(Hs(t),r=de.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Me(t),null}e=X.current,Ir(t)?Md(t):(e=dm(c,l,r),t.stateNode=e,pa(t))}return Me(t),null;case 5:if(Hs(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Me(t),null}if(d=X.current,Ir(t))Md(t);else{var g=Il(de.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}d[at]=t,d[gt]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(lt(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pa(t)}}return Me(t),nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=de.current,Ir(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,c=rt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[at]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||em(e.nodeValue,r)),e||Da(t,!0)}else e=Il(e).createTextNode(l),e[at]=t,t.stateNode=e}return Me(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ir(t),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[at]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else r=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Me(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ir(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[at]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),c=!1}else c=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Al(t,t.updateQueue),Me(t),null);case 4:return Ue(),e===null&&Nc(t.stateNode.containerInfo),Me(t),null;case 10:return ha(t.type),Me(t),null;case 19:if(L(Ye),l=t.memoizedState,l===null)return Me(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)rs(l,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=pl(e),d!==null){for(t.flags|=128,rs(l,!1),e=d.updateQueue,t.updateQueue=e,Al(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Cd(r,e),r=r.sibling;return P(Ye,Ye.current&1|2),ve&&ua(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&_t()>Ul&&(t.flags|=128,c=!0,rs(l,!1),t.lanes=4194304)}else{if(!c)if(e=pl(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Al(t,e),rs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ve)return Me(t),null}else 2*_t()-l.renderingStartTime>Ul&&r!==536870912&&(t.flags|=128,c=!0,rs(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=_t(),e.sibling=null,r=Ye.current,P(Ye,c?r&1|2:r&1),ve&&ua(t,l.treeForkCount),e):(Me(t),null);case 22:case 23:return Tt(t),Eo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),r=t.updateQueue,r!==null&&Al(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&L(fr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ha(Ke),Me(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function zx(e,t){switch(ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(Ke),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hs(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(i(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ye),null;case 4:return Ue(),null;case 10:return ha(t.type),null;case 22:case 23:return Tt(t),Eo(),e!==null&&L(fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ha(Ke),null;case 25:return null;default:return null}}function nf(e,t){switch(ho(t),t.tag){case 3:ha(Ke),Ue();break;case 26:case 27:case 5:Hs(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:L(Ye);break;case 10:ha(t.type);break;case 22:case 23:Tt(t),Eo(),e!==null&&L(fr);break;case 24:ha(Ke)}}function ns(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var d=r.create,g=r.inst;l=d(),g.destroy=l}r=r.next}while(r!==c)}}catch(y){Ee(t,t.return,y)}}function Ha(e,t,r){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var g=l.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=t;var S=r,z=y;try{z()}catch(H){Ee(c,S,H)}}}l=l.next}while(l!==d)}}catch(H){Ee(t,t.return,H)}}function sf(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Jd(t,r)}catch(l){Ee(e,e.return,l)}}}function lf(e,t,r){r.props=br(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Ee(e,t,l)}}function ss(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Ee(e,t,c)}}function aa(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ee(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ee(e,t,c)}else r.current=null}function of(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ee(e,e.return,c)}}function sc(e,t,r){try{var l=e.stateNode;rb(l,e.type,r,t),l[gt]=t}catch(c){Ee(e,e.return,c)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ia));else if(l!==4&&(l===27&&Pa(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(ic(e,t,r),e=e.sibling;e!==null;)ic(e,t,r),e=e.sibling}function Ol(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&Pa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ol(e,t,r),e=e.sibling;e!==null;)Ol(e,t,r),e=e.sibling}function uf(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);lt(t,l,r),t[at]=e,t[gt]=r}catch(d){Ee(e,e.return,d)}}var xa=!1,Qe=!1,oc=!1,df=typeof WeakSet=="function"?WeakSet:Set,et=null;function Mx(e,t){if(e=e.containerInfo,Ac=Zl,e=_d(e),eo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var g=0,y=-1,S=-1,z=0,H=0,G=e,M=null;t:for(;;){for(var B;G!==r||c!==0&&G.nodeType!==3||(y=g+c),G!==d||l!==0&&G.nodeType!==3||(S=g+l),G.nodeType===3&&(g+=G.nodeValue.length),(B=G.firstChild)!==null;)M=G,G=B;for(;;){if(G===e)break t;if(M===r&&++z===c&&(y=g),M===d&&++H===l&&(S=g),(B=G.nextSibling)!==null)break;G=M,M=G.parentNode}G=B}r=y===-1||S===-1?null:{start:y,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oc={focusedElem:e,selectionRange:r},Zl=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var F=br(r.type,c);e=l.getSnapshotBeforeUpdate(F,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){Ee(r,r.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Dc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function hf(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ya(e,r),l&4&&ns(5,r);break;case 1:if(ya(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(g){Ee(r,r.return,g)}else{var c=br(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ee(r,r.return,g)}}l&64&&sf(r),l&512&&ss(r,r.return);break;case 3:if(ya(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Jd(e,t)}catch(g){Ee(r,r.return,g)}}break;case 27:t===null&&l&4&&uf(r);case 26:case 5:ya(e,r),t===null&&l&4&&of(r),l&512&&ss(r,r.return);break;case 12:ya(e,r);break;case 31:ya(e,r),l&4&&gf(e,r);break;case 13:ya(e,r),l&4&&pf(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Kx.bind(null,r),db(e,r))));break;case 22:if(l=r.memoizedState!==null||xa,!l){t=t!==null&&t.memoizedState!==null||Qe,c=xa;var d=Qe;xa=l,(Qe=t)&&!d?va(e,r,(r.subtreeFlags&8772)!==0):ya(e,r),xa=c,Qe=d}break;case 30:break;default:ya(e,r)}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Li(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,xt=!1;function ba(e,t,r){for(r=r.child;r!==null;)mf(e,t,r),r=r.sibling}function mf(e,t,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(An,r)}catch{}switch(r.tag){case 26:Qe||aa(r,t),ba(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Qe||aa(r,t);var l=Be,c=xt;Pa(r.type)&&(Be=r.stateNode,xt=!1),ba(e,t,r),ms(r.stateNode),Be=l,xt=c;break;case 5:Qe||aa(r,t);case 6:if(l=Be,c=xt,Be=null,ba(e,t,r),Be=l,xt=c,Be!==null)if(xt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(r.stateNode)}catch(d){Ee(r,t,d)}else try{Be.removeChild(r.stateNode)}catch(d){Ee(r,t,d)}break;case 18:Be!==null&&(xt?(e=Be,lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hn(e)):lm(Be,r.stateNode));break;case 4:l=Be,c=xt,Be=r.stateNode.containerInfo,xt=!0,ba(e,t,r),Be=l,xt=c;break;case 0:case 11:case 14:case 15:Ha(2,r,t),Qe||Ha(4,r,t),ba(e,t,r);break;case 1:Qe||(aa(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&lf(r,t,l)),ba(e,t,r);break;case 21:ba(e,t,r);break;case 22:Qe=(l=Qe)||r.memoizedState!==null,ba(e,t,r),Qe=l;break;default:ba(e,t,r)}}function gf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hn(e)}catch(r){Ee(t,t.return,r)}}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hn(e)}catch(r){Ee(t,t.return,r)}}function Lx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new df),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new df),t;default:throw Error(i(435,e.tag))}}function Cl(e,t){var r=Lx(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var c=Vx.bind(null,e,l);l.then(c,c)}})}function bt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(Pa(y.type)){Be=y.stateNode,xt=!1;break e}break;case 5:Be=y.stateNode,xt=!1;break e;case 3:case 4:Be=y.stateNode.containerInfo,xt=!0;break e}y=y.return}if(Be===null)throw Error(i(160));mf(d,g,c),Be=null,xt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var Pt=null;function xf(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),yt(e),l&4&&(Ha(3,e,e.return),ns(3,e),Ha(5,e,e.return));break;case 1:bt(t,e),yt(e),l&512&&(Qe||r===null||aa(r,r.return)),l&64&&xa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Pt;if(bt(t,e),yt(e),l&512&&(Qe||r===null||aa(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Rn]||d[at]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),lt(d,l,r),d[at]=e,We(d),l=d;break e;case"link":var g=xm("link","href",c).get(l+(r.href||""));if(g){for(var y=0;y<g.length;y++)if(d=g[y],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(y,1);break t}}d=c.createElement(l),lt(d,l,r),c.head.appendChild(d);break;case"meta":if(g=xm("meta","content",c).get(l+(r.content||""))){for(y=0;y<g.length;y++)if(d=g[y],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(y,1);break t}}d=c.createElement(l),lt(d,l,r),c.head.appendChild(d);break;default:throw Error(i(468,l))}d[at]=e,We(d),l=d}e.stateNode=l}else bm(c,e.type,e.stateNode);else e.stateNode=pm(c,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?bm(c,e.type,e.stateNode):pm(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sc(e,e.memoizedProps,r.memoizedProps)}break;case 27:bt(t,e),yt(e),l&512&&(Qe||r===null||aa(r,r.return)),r!==null&&l&4&&sc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(bt(t,e),yt(e),l&512&&(Qe||r===null||aa(r,r.return)),e.flags&32){c=e.stateNode;try{Ur(c,"")}catch(F){Ee(e,e.return,F)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,sc(e,c,r!==null?r.memoizedProps:c)),l&1024&&(oc=!0);break;case 6:if(bt(t,e),yt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(F){Ee(e,e.return,F)}}break;case 3:if(Pl=null,c=Pt,Pt=Kl(t.containerInfo),bt(t,e),Pt=c,yt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{hn(t.containerInfo)}catch(F){Ee(e,e.return,F)}oc&&(oc=!1,bf(e));break;case 4:l=Pt,Pt=Kl(e.stateNode.containerInfo),bt(t,e),yt(e),Pt=l;break;case 12:bt(t,e),yt(e);break;case 31:bt(t,e),yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 13:bt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Dl=_t()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 22:c=e.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,z=xa,H=Qe;if(xa=z||c,Qe=H||S,bt(t,e),Qe=H,xa=z,yt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||S||xa||Qe||yr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){S=r=t;try{if(d=S.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=S.stateNode;var G=S.memoizedProps.style,M=G!=null&&G.hasOwnProperty("display")?G.display:null;y.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(F){Ee(S,S.return,F)}}}else if(t.tag===6){if(r===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(F){Ee(S,S.return,F)}}}else if(t.tag===18){if(r===null){S=t;try{var B=S.stateNode;c?im(B,!0):im(S.stateNode,!1)}catch(F){Ee(S,S.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Cl(e,r))));break;case 19:bt(t,e),yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 30:break;case 21:break;default:bt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(cf(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var c=r.stateNode,d=lc(e);Ol(e,d,c);break;case 5:var g=r.stateNode;r.flags&32&&(Ur(g,""),r.flags&=-33);var y=lc(e);Ol(e,y,g);break;case 3:case 4:var S=r.stateNode.containerInfo,z=lc(e);ic(e,z,S);break;default:throw Error(i(161))}}catch(H){Ee(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hf(e,t.alternate,t),t=t.sibling}function yr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ha(4,t,t.return),yr(t);break;case 1:aa(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&lf(t,t.return,r),yr(t);break;case 27:ms(t.stateNode);case 26:case 5:aa(t,t.return),yr(t);break;case 22:t.memoizedState===null&&yr(t);break;case 30:yr(t);break;default:yr(t)}e=e.sibling}}function va(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:va(c,d,r),ns(4,d);break;case 1:if(va(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Ee(l,l.return,z)}if(l=d,c=l.updateQueue,c!==null){var y=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Qd(S[c],y)}catch(z){Ee(l,l.return,z)}}r&&g&64&&sf(d),ss(d,d.return);break;case 27:uf(d);case 26:case 5:va(c,d,r),r&&l===null&&g&4&&of(d),ss(d,d.return);break;case 12:va(c,d,r);break;case 31:va(c,d,r),r&&g&4&&gf(c,d);break;case 13:va(c,d,r),r&&g&4&&pf(c,d);break;case 22:d.memoizedState===null&&va(c,d,r),ss(d,d.return);break;case 30:break;default:va(c,d,r)}t=t.sibling}}function cc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Kn(r))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e))}function Qt(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yf(e,t,r,l),t=t.sibling}function yf(e,t,r,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,r,l),c&2048&&ns(9,t);break;case 1:Qt(e,t,r,l);break;case 3:Qt(e,t,r,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e)));break;case 12:if(c&2048){Qt(e,t,r,l),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,y=d.onPostCommit;typeof y=="function"&&y(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ee(t,t.return,S)}}else Qt(e,t,r,l);break;case 31:Qt(e,t,r,l);break;case 13:Qt(e,t,r,l);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Qt(e,t,r,l):ls(e,t):d._visibility&2?Qt(e,t,r,l):(d._visibility|=2,en(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&cc(g,t);break;case 24:Qt(e,t,r,l),c&2048&&uc(t.alternate,t);break;default:Qt(e,t,r,l)}}function en(e,t,r,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,y=r,S=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:en(d,g,y,S,c),ns(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?en(d,g,y,S,c):ls(d,g):(H._visibility|=2,en(d,g,y,S,c)),c&&z&2048&&cc(g.alternate,g);break;case 24:en(d,g,y,S,c),c&&z&2048&&uc(g.alternate,g);break;default:en(d,g,y,S,c)}t=t.sibling}}function ls(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,c=l.flags;switch(l.tag){case 22:ls(r,l),c&2048&&cc(l.alternate,l);break;case 24:ls(r,l),c&2048&&uc(l.alternate,l);break;default:ls(r,l)}t=t.sibling}}var is=8192;function tn(e,t,r){if(e.subtreeFlags&is)for(e=e.child;e!==null;)vf(e,t,r),e=e.sibling}function vf(e,t,r){switch(e.tag){case 26:tn(e,t,r),e.flags&is&&e.memoizedState!==null&&kb(r,Pt,e.memoizedState,e.memoizedProps);break;case 5:tn(e,t,r);break;case 3:case 4:var l=Pt;Pt=Kl(e.stateNode.containerInfo),tn(e,t,r),Pt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=is,is=16777216,tn(e,t,r),is=l):tn(e,t,r));break;default:tn(e,t,r)}}function wf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];et=l,kf(l,e)}wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_f(e),e=e.sibling}function _f(e){switch(e.tag){case 0:case 11:case 15:os(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:os(e);break;case 12:os(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rl(e)):os(e);break;default:os(e)}}function Rl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];et=l,kf(l,e)}wf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ha(8,t,t.return),Rl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Rl(t));break;default:Rl(t)}e=e.sibling}}function kf(e,t){for(;et!==null;){var r=et;switch(r.tag){case 0:case 11:case 15:Ha(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kn(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,et=l;else e:for(r=e;et!==null;){l=et;var c=l.sibling,d=l.return;if(ff(l),l===r){et=null;break e}if(c!==null){c.return=d,et=c;break e}et=d}}}var Bx={getCacheForType:function(e){var t=nt(Ke),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return nt(Ke).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,Se=0,Ce=null,pe=null,be=0,Ne=0,At=null,$a=!1,an=!1,dc=!1,wa=0,$e=0,Ga=0,vr=0,hc=0,Ot=0,rn=0,cs=null,vt=null,fc=!1,Dl=0,jf=0,Ul=1/0,zl=null,Ya=null,Ze=0,Ia=null,nn=null,_a=0,mc=0,gc=null,Sf=null,us=0,pc=null;function Ct(){return(Se&2)!==0&&be!==0?be&-be:q.T!==null?_c():Hu()}function Nf(){if(Ot===0)if((be&536870912)===0||ve){var e=Ys;Ys<<=1,(Ys&3932160)===0&&(Ys=262144),Ot=e}else Ot=536870912;return e=Et.current,e!==null&&(e.flags|=32),Ot}function wt(e,t,r){(e===Ce&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(sn(e,0),Ka(e,be,Ot,!1)),Cn(e,r),((Se&2)===0||e!==Ce)&&(e===Ce&&((Se&2)===0&&(vr|=r),$e===4&&Ka(e,be,Ot,!1)),ra(e))}function Ef(e,t,r){if((Se&6)!==0)throw Error(i(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||On(e,t),c=l?Gx(e,t):bc(e,t,!0),d=l;do{if(c===0){an&&!l&&Ka(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!Hx(r)){c=bc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var y=e;c=cs;var S=y.current.memoizedState.isDehydrated;if(S&&(sn(y,g).flags|=256),g=bc(y,g,!1),g!==2){if(dc&&!S){y.errorRecoveryDisabledLanes|=d,vr|=d,c=4;break e}d=vt,vt=c,d!==null&&(vt===null?vt=d:vt.push.apply(vt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){sn(e,0),Ka(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ka(l,t,Ot,!$a);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=Dl+300-_t(),10<c)){if(Ka(l,t,Ot,!$a),Ks(l,0,!0)!==0)break e;_a=t,l.timeoutHandle=nm(Tf.bind(null,l,r,vt,zl,fc,t,Ot,vr,rn,$a,d,"Throttled",-0,0),c);break e}Tf(l,r,vt,zl,fc,t,Ot,vr,rn,$a,d,null,-0,0)}}break}while(!0);ra(e)}function Tf(e,t,r,l,c,d,g,y,S,z,H,G,M,B){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},vf(t,d,G);var F=(d&62914560)===d?Dl-_t():(d&4194048)===d?jf-_t():0;if(F=jb(G,F),F!==null){_a=d,e.cancelPendingCommit=F(Mf.bind(null,e,t,d,r,l,c,g,y,S,H,G,null,M,B)),Ka(e,d,g,!z);return}}Mf(e,t,d,r,l,c,g,y,S)}function Hx(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!St(d(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,r,l){t&=~hc,t&=~vr,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-jt(c),g=1<<d;l[d]=-1,c&=~g}r!==0&&Lu(e,r,t)}function Ml(){return(Se&6)===0?(ds(0),!1):!0}function xc(){if(pe!==null){if(Ne===0)var e=pe.return;else e=pe,da=dr=null,Do(e),Jr=null,Pn=0,e=pe;for(;e!==null;)nf(e.alternate,e),e=e.return;pe=null}}function sn(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,lb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),_a=0,xc(),Ce=e,pe=r=ca(e.current,null),be=t,Ne=0,At=null,$a=!1,an=On(e,t),dc=!1,rn=Ot=hc=vr=Ga=$e=0,vt=cs=null,fc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-jt(l),d=1<<c;t|=e[c],l&=~d}return wa=t,rl(),r}function Af(e,t){he=null,q.H=ts,t===Qr||t===dl?(t=Id(),Ne=3):t===wo?(t=Id(),Ne=4):Ne=t===Jo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,pe===null&&($e=1,Sl(e,Bt(t,e.current)))}function Of(){var e=Et.current;return e===null?!0:(be&4194048)===be?Gt===null:(be&62914560)===be||(be&536870912)!==0?e===Gt:!1}function Cf(){var e=q.H;return q.H=ts,e===null?ts:e}function Rf(){var e=q.A;return q.A=Bx,e}function Ll(){$e=4,$a||(be&4194048)!==be&&Et.current!==null||(an=!0),(Ga&134217727)===0&&(vr&134217727)===0||Ce===null||Ka(Ce,be,Ot,!1)}function bc(e,t,r){var l=Se;Se|=2;var c=Cf(),d=Rf();(Ce!==e||be!==t)&&(zl=null,sn(e,t)),t=!1;var g=$e;e:do try{if(Ne!==0&&pe!==null){var y=pe,S=At;switch(Ne){case 8:xc(),g=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var z=Ne;if(Ne=0,At=null,ln(e,y,S,z),r&&an){g=0;break e}break;default:z=Ne,Ne=0,At=null,ln(e,y,S,z)}}$x(),g=$e;break}catch(H){Af(e,H)}while(!0);return t&&e.shellSuspendCounter++,da=dr=null,Se=l,q.H=c,q.A=d,pe===null&&(Ce=null,be=0,rl()),g}function $x(){for(;pe!==null;)Df(pe)}function Gx(e,t){var r=Se;Se|=2;var l=Cf(),c=Rf();Ce!==e||be!==t?(zl=null,Ul=_t()+500,sn(e,t)):an=On(e,t);e:do try{if(Ne!==0&&pe!==null){t=pe;var d=At;t:switch(Ne){case 1:Ne=0,At=null,ln(e,t,d,1);break;case 2:case 9:if(Gd(d)){Ne=0,At=null,Uf(t);break}t=function(){Ne!==2&&Ne!==9||Ce!==e||(Ne=7),ra(e)},d.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Gd(d)?(Ne=0,At=null,Uf(t)):(Ne=0,At=null,ln(e,t,d,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var y=pe;if(g?ym(g):y.stateNode.complete){Ne=0,At=null;var S=y.sibling;if(S!==null)pe=S;else{var z=y.return;z!==null?(pe=z,Bl(z)):pe=null}break t}}Ne=0,At=null,ln(e,t,d,5);break;case 6:Ne=0,At=null,ln(e,t,d,6);break;case 8:xc(),$e=6;break e;default:throw Error(i(462))}}Yx();break}catch(H){Af(e,H)}while(!0);return da=dr=null,q.H=l,q.A=c,Se=r,pe!==null?0:(Ce=null,be=0,rl(),$e)}function Yx(){for(;pe!==null&&!hp();)Df(pe)}function Df(e){var t=af(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?Bl(e):pe=t}function Uf(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Xh(r,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Xh(r,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Do(t);default:nf(r,t),t=pe=Cd(t,wa),t=af(r,t,wa)}e.memoizedProps=e.pendingProps,t===null?Bl(e):pe=t}function ln(e,t,r,l){da=dr=null,Do(t),Jr=null,Pn=0;var c=t.return;try{if(Cx(e,c,t,r,be)){$e=1,Sl(e,Bt(r,e.current)),pe=null;return}}catch(d){if(c!==null)throw pe=c,d;$e=1,Sl(e,Bt(r,e.current)),pe=null;return}t.flags&32768?(ve||l===1?e=!0:an||(be&536870912)!==0?e=!1:($a=e=!0,(l===2||l===9||l===3||l===6)&&(l=Et.current,l!==null&&l.tag===13&&(l.flags|=16384))),zf(t,e)):Bl(t)}function Bl(e){var t=e;do{if((t.flags&32768)!==0){zf(t,$a);return}e=t.return;var r=Ux(t.alternate,t,wa);if(r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);$e===0&&($e=5)}function zf(e,t){do{var r=zx(e.alternate,e);if(r!==null){r.flags&=32767,pe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=r}while(e!==null);$e=6,pe=null}function Mf(e,t,r,l,c,d,g,y,S){e.cancelPendingCommit=null;do ql();while(Ze!==0);if((Se&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(d=t.lanes|t.childLanes,d|=so,_p(e,r,d,g,y,S),e===Ce&&(pe=Ce=null,be=0),nn=t,Ia=e,_a=r,mc=d,gc=c,Sf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Px($s,function(){return $f(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=J.p,J.p=2,g=Se,Se|=4;try{Mx(e,t,r)}finally{Se=g,J.p=c,q.T=l}}Ze=1,Lf(),Bf(),qf()}}function Lf(){if(Ze===1){Ze=0;var e=Ia,t=nn,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=J.p;J.p=2;var c=Se;Se|=4;try{xf(t,e);var d=Oc,g=_d(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(g!==y&&y&&y.ownerDocument&&wd(y.ownerDocument.documentElement,y)){if(S!==null&&eo(y)){var z=S.start,H=S.end;if(H===void 0&&(H=z),"selectionStart"in y)y.selectionStart=z,y.selectionEnd=Math.min(H,y.value.length);else{var G=y.ownerDocument||document,M=G&&G.defaultView||window;if(M.getSelection){var B=M.getSelection(),F=y.textContent.length,se=Math.min(S.start,F),Oe=S.end===void 0?se:Math.min(S.end,F);!B.extend&&se>Oe&&(g=Oe,Oe=se,se=g);var A=vd(y,se),E=vd(y,Oe);if(A&&E&&(B.rangeCount!==1||B.anchorNode!==A.node||B.anchorOffset!==A.offset||B.focusNode!==E.node||B.focusOffset!==E.offset)){var U=G.createRange();U.setStart(A.node,A.offset),B.removeAllRanges(),se>Oe?(B.addRange(U),B.extend(E.node,E.offset)):(U.setEnd(E.node,E.offset),B.addRange(U))}}}}for(G=[],B=y;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<G.length;y++){var $=G[y];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Zl=!!Ac,Oc=Ac=null}finally{Se=c,J.p=l,q.T=r}}e.current=t,Ze=2}}function Bf(){if(Ze===2){Ze=0;var e=Ia,t=nn,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=J.p;J.p=2;var c=Se;Se|=4;try{hf(e,t.alternate,t)}finally{Se=c,J.p=l,q.T=r}}Ze=3}}function qf(){if(Ze===4||Ze===3){Ze=0,fp();var e=Ia,t=nn,r=_a,l=Sf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ze=5:(Ze=0,nn=Ia=null,Hf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ya=null),zi(r),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(An,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=q.T,c=J.p,J.p=2,q.T=null;try{for(var d=e.onRecoverableError,g=0;g<l.length;g++){var y=l[g];d(y.value,{componentStack:y.stack})}}finally{q.T=t,J.p=c}}(_a&3)!==0&&ql(),ra(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===pc?us++:(us=0,pc=e):us=0,ds(0)}}function Hf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kn(t)))}function ql(){return Lf(),Bf(),qf(),$f()}function $f(){if(Ze!==5)return!1;var e=Ia,t=mc;mc=0;var r=zi(_a),l=q.T,c=J.p;try{J.p=32>r?32:r,q.T=null,r=gc,gc=null;var d=Ia,g=_a;if(Ze=0,nn=Ia=null,_a=0,(Se&6)!==0)throw Error(i(331));var y=Se;if(Se|=4,_f(d.current),yf(d,d.current,g,r),Se=y,ds(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(An,d)}catch{}return!0}finally{J.p=c,q.T=l,Hf(e,t)}}function Gf(e,t,r){t=Bt(r,t),t=Qo(e.stateNode,t,2),e=La(e,t,2),e!==null&&(Cn(e,2),ra(e))}function Ee(e,t,r){if(e.tag===3)Gf(e,e,r);else for(;t!==null;){if(t.tag===3){Gf(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ya===null||!Ya.has(l))){e=Bt(r,e),r=Gh(2),l=La(t,r,2),l!==null&&(Yh(r,l,t,e),Cn(l,2),ra(l));break}}t=t.return}}function yc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new qx;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(r)||(dc=!0,c.add(r),e=Ix.bind(null,e,t,r),t.then(e,e))}function Ix(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ce===e&&(be&r)===r&&($e===4||$e===3&&(be&62914560)===be&&300>_t()-Dl?(Se&2)===0&&sn(e,0):hc|=r,rn===be&&(rn=0)),ra(e)}function Yf(e,t){t===0&&(t=Mu()),e=or(e,t),e!==null&&(Cn(e,t),ra(e))}function Kx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Yf(e,r)}function Vx(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Yf(e,r)}function Px(e,t){return Ci(e,t)}var Hl=null,on=null,vc=!1,$l=!1,wc=!1,Va=0;function ra(e){e!==on&&e.next===null&&(on===null?Hl=on=e:on=on.next=e),$l=!0,vc||(vc=!0,Jx())}function ds(e,t){if(!wc&&$l){wc=!0;do for(var r=!1,l=Hl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,y=l.pingedLanes;d=(1<<31-jt(42|e)+1)-1,d&=c&~(g&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Pf(l,d))}else d=be,d=Ks(l,l===Ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||On(l,d)||(r=!0,Pf(l,d));l=l.next}while(r);wc=!1}}function Qx(){If()}function If(){$l=vc=!1;var e=0;Va!==0&&sb()&&(e=Va);for(var t=_t(),r=null,l=Hl;l!==null;){var c=l.next,d=Kf(l,t);d===0?(l.next=null,r===null?Hl=c:r.next=c,c===null&&(on=r)):(r=l,(e!==0||(d&3)!==0)&&($l=!0)),l=c}Ze!==0&&Ze!==5||ds(e),Va!==0&&(Va=0)}function Kf(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-jt(d),y=1<<g,S=c[g];S===-1?((y&r)===0||(y&l)!==0)&&(c[g]=wp(y,t)):S<=t&&(e.expiredLanes|=y),d&=~y}if(t=Ce,r=be,r=Ks(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ri(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||On(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&Ri(l),zi(r)){case 2:case 8:r=Uu;break;case 32:r=$s;break;case 268435456:r=zu;break;default:r=$s}return l=Vf.bind(null,e),r=Ci(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&Ri(l),e.callbackPriority=2,e.callbackNode=null,2}function Vf(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ql()&&e.callbackNode!==r)return null;var l=be;return l=Ks(e,e===Ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ef(e,l,t),Kf(e,_t()),e.callbackNode!=null&&e.callbackNode===r?Vf.bind(null,e):null)}function Pf(e,t){if(ql())return null;Ef(e,t,!0)}function Jx(){ib(function(){(Se&6)!==0?Ci(Du,Qx):If()})}function _c(){if(Va===0){var e=Vr;e===0&&(e=Gs,Gs<<=1,(Gs&261888)===0&&(Gs=256)),Va=e}return Va}function Qf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Jf(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Xx(e,t,r,l,c){if(t==="submit"&&r&&r.stateNode===c){var d=Qf((c[gt]||null).action),g=l.submitter;g&&(t=(t=g[gt]||null)?Qf(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var y=new Ws("action","action",null,l,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Va!==0){var S=g?Jf(c,g):new FormData(c);Go(r,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=g?Jf(c,g):new FormData(c),Go(r,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var kc=0;kc<no.length;kc++){var jc=no[kc],Zx=jc.toLowerCase(),Fx=jc[0].toUpperCase()+jc.slice(1);Vt(Zx,"on"+Fx)}Vt(Sd,"onAnimationEnd"),Vt(Nd,"onAnimationIteration"),Vt(Ed,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(mx,"onTransitionRun"),Vt(gx,"onTransitionStart"),Vt(px,"onTransitionCancel"),Vt(Td,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function Xf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var g=l.length-1;0<=g;g--){var y=l[g],S=y.instance,z=y.currentTarget;if(y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=z;try{d(c)}catch(H){al(H)}c.currentTarget=null,d=S}else for(g=0;g<l.length;g++){if(y=l[g],S=y.instance,z=y.currentTarget,y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=z;try{d(c)}catch(H){al(H)}c.currentTarget=null,d=S}}}}function xe(e,t){var r=t[Mi];r===void 0&&(r=t[Mi]=new Set);var l=e+"__bubble";r.has(l)||(Zf(t,e,2,!1),r.add(l))}function Sc(e,t,r){var l=0;t&&(l|=4),Zf(r,e,l,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[Gl]){e[Gl]=!0,Yu.forEach(function(r){r!=="selectionchange"&&(Wx.has(r)||Sc(r,!1,e),Sc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,Sc("selectionchange",!1,t))}}function Zf(e,t,r,l){switch(Nm(t)){case 2:var c=Eb;break;case 8:c=Tb;break;default:c=$c}r=c.bind(null,t,r,e),c=void 0,!Ki||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Ec(e,t,r,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var y=l.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=Ar(y),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=d=g;continue e}y=y.parentNode}}l=l.return}td(function(){var z=d,H=Yi(r),G=[];e:{var M=Ad.get(e);if(M!==void 0){var B=Ws,F=e;switch(e){case"keypress":if(Zs(r)===0)break e;case"keydown":case"keyup":B=Vp;break;case"focusin":F="focus",B=Ji;break;case"focusout":F="blur",B=Ji;break;case"beforeblur":case"afterblur":B=Ji;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Jp;break;case Sd:case Nd:case Ed:B=Lp;break;case Td:B=Zp;break;case"scroll":case"scrollend":B=Rp;break;case"wheel":B=Wp;break;case"copy":case"cut":case"paste":B=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ld;break;case"toggle":case"beforetoggle":B=tx}var se=(t&4)!==0,Oe=!se&&(e==="scroll"||e==="scrollend"),A=se?M!==null?M+"Capture":null:M;se=[];for(var E=z,U;E!==null;){var $=E;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||A===null||($=Un(E,A),$!=null&&se.push(fs(E,$,U))),Oe)break;E=E.return}0<se.length&&(M=new B(M,F,null,r,H),G.push({event:M,listeners:se}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",M&&r!==Gi&&(F=r.relatedTarget||r.fromElement)&&(Ar(F)||F[Tr]))break e;if((B||M)&&(M=H.window===H?H:(M=H.ownerDocument)?M.defaultView||M.parentWindow:window,B?(F=r.relatedTarget||r.toElement,B=z,F=F?Ar(F):null,F!==null&&(Oe=h(F),se=F.tag,F!==Oe||se!==5&&se!==27&&se!==6)&&(F=null)):(B=null,F=z),B!==F)){if(se=nd,$="onMouseLeave",A="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=ld,$="onPointerLeave",A="onPointerEnter",E="pointer"),Oe=B==null?M:Dn(B),U=F==null?M:Dn(F),M=new se($,E+"leave",B,r,H),M.target=Oe,M.relatedTarget=U,$=null,Ar(H)===z&&(se=new se(A,E+"enter",F,r,H),se.target=U,se.relatedTarget=Oe,$=se),Oe=$,B&&F)t:{for(se=eb,A=B,E=F,U=0,$=A;$;$=se($))U++;$=0;for(var ae=E;ae;ae=se(ae))$++;for(;0<U-$;)A=se(A),U--;for(;0<$-U;)E=se(E),$--;for(;U--;){if(A===E||E!==null&&A===E.alternate){se=A;break t}A=se(A),E=se(E)}se=null}else se=null;B!==null&&Ff(G,M,B,se,!1),F!==null&&Oe!==null&&Ff(G,Oe,F,se,!0)}}e:{if(M=z?Dn(z):window,B=M.nodeName&&M.nodeName.toLowerCase(),B==="select"||B==="input"&&M.type==="file")var ke=md;else if(hd(M))if(gd)ke=dx;else{ke=cx;var ee=ox}else B=M.nodeName,!B||B.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?z&&$i(z.elementType)&&(ke=md):ke=ux;if(ke&&(ke=ke(e,z))){fd(G,ke,r,H);break e}ee&&ee(e,M,z),e==="focusout"&&z&&M.type==="number"&&z.memoizedProps.value!=null&&Hi(M,"number",M.value)}switch(ee=z?Dn(z):window,e){case"focusin":(hd(ee)||ee.contentEditable==="true")&&(Br=ee,to=z,Gn=null);break;case"focusout":Gn=to=Br=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,kd(G,r,H);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":kd(G,r,H)}var fe;if(Zi)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Lr?ud(e,r)&&(ye="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ye="onCompositionStart");ye&&(id&&r.locale!=="ko"&&(Lr||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Lr&&(fe=ad()):(Oa=H,Vi="value"in Oa?Oa.value:Oa.textContent,Lr=!0)),ee=Yl(z,ye),0<ee.length&&(ye=new sd(ye,e,null,r,H),G.push({event:ye,listeners:ee}),fe?ye.data=fe:(fe=dd(r),fe!==null&&(ye.data=fe)))),(fe=rx?nx(e,r):sx(e,r))&&(ye=Yl(z,"onBeforeInput"),0<ye.length&&(ee=new sd("onBeforeInput","beforeinput",null,r,H),G.push({event:ee,listeners:ye}),ee.data=fe)),Xx(G,e,z,r,H)}Xf(G,t)})}function fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yl(e,t){for(var r=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Un(e,r),c!=null&&l.unshift(fs(e,c,d)),c=Un(e,t),c!=null&&l.push(fs(e,c,d))),e.tag===3)return l;e=e.return}return[]}function eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ff(e,t,r,l,c){for(var d=t._reactName,g=[];r!==null&&r!==l;){var y=r,S=y.alternate,z=y.stateNode;if(y=y.tag,S!==null&&S===l)break;y!==5&&y!==26&&y!==27||z===null||(S=z,c?(z=Un(r,d),z!=null&&g.unshift(fs(r,z,S))):c||(z=Un(r,d),z!=null&&g.push(fs(r,z,S)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var tb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(tb,`
`).replace(ab,"")}function em(e,t){return t=Wf(t),Wf(e)===t}function Ae(e,t,r,l,c,d){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ur(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ur(e,""+l);break;case"className":Ps(e,"class",l);break;case"tabIndex":Ps(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(e,r,l);break;case"style":Wu(e,l,d);break;case"data":if(t!=="object"){Ps(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Js(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Ae(e,t,"name",c.name,c,null),Ae(e,t,"formEncType",c.formEncType,c,null),Ae(e,t,"formMethod",c.formMethod,c,null),Ae(e,t,"formTarget",c.formTarget,c,null)):(Ae(e,t,"encType",c.encType,c,null),Ae(e,t,"method",c.method,c,null),Ae(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Js(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=ia);break;case"onScroll":l!=null&&xe("scroll",e);break;case"onScrollEnd":l!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Js(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Vs(e,"popover",l);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Op.get(r)||r,Vs(e,r,l))}}function Tc(e,t,r,l,c,d){switch(r){case"style":Wu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Ur(e,l):(typeof l=="number"||typeof l=="bigint")&&Ur(e,""+l);break;case"onScroll":l!=null&&xe("scroll",e);break;case"onScrollEnd":l!=null&&xe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),d=e[gt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Vs(e,r,l)}}}function lt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var g=r[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ae(e,t,d,g,r,null)}}c&&Ae(e,t,"srcSet",r.srcSet,r,null),l&&Ae(e,t,"src",r.src,r,null);return;case"input":xe("invalid",e);var y=d=g=c=null,S=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":S=H;break;case"defaultChecked":z=H;break;case"value":d=H;break;case"defaultValue":y=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:Ae(e,t,l,H,r,null)}}Ju(e,d,y,S,z,g,c,!1);return;case"select":xe("invalid",e),l=g=d=null;for(c in r)if(r.hasOwnProperty(c)&&(y=r[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":g=y;break;case"multiple":l=y;default:Ae(e,t,c,y,r,null)}t=d,r=g,e.multiple=!!l,t!=null?Dr(e,!!l,t,!1):r!=null&&Dr(e,!!l,r,!0);return;case"textarea":xe("invalid",e),d=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(y=r[g],y!=null))switch(g){case"value":l=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:Ae(e,t,g,y,r,null)}Zu(e,l,c,d);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ae(e,t,S,l,r,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(l=0;l<hs.length;l++)xe(hs[l],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ae(e,t,z,l,r,null)}return;default:if($i(t)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Tc(e,t,H,l,r,void 0));return}}for(y in r)r.hasOwnProperty(y)&&(l=r[y],l!=null&&Ae(e,t,y,l,r,null))}function rb(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,y=null,S=null,z=null,H=null;for(B in r){var G=r[B];if(r.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=G;default:l.hasOwnProperty(B)||Ae(e,t,B,null,l,G)}}for(var M in l){var B=l[M];if(G=r[M],l.hasOwnProperty(M)&&(B!=null||G!=null))switch(M){case"type":d=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":H=B;break;case"value":g=B;break;case"defaultValue":y=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:B!==G&&Ae(e,t,M,B,l,G)}}qi(e,g,y,S,z,H,d,c);return;case"select":B=g=y=M=null;for(d in r)if(S=r[d],r.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":B=S;default:l.hasOwnProperty(d)||Ae(e,t,d,null,l,S)}for(c in l)if(d=l[c],S=r[c],l.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":M=d;break;case"defaultValue":y=d;break;case"multiple":g=d;default:d!==S&&Ae(e,t,c,d,l,S)}t=y,r=g,l=B,M!=null?Dr(e,!!r,M,!1):!!l!=!!r&&(t!=null?Dr(e,!!r,t,!0):Dr(e,!!r,r?[]:"",!1));return;case"textarea":B=M=null;for(y in r)if(c=r[y],r.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ae(e,t,y,null,l,c)}for(g in l)if(c=l[g],d=r[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":M=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==d&&Ae(e,t,g,c,l,d)}Xu(e,M,B);return;case"option":for(var F in r)if(M=r[F],r.hasOwnProperty(F)&&M!=null&&!l.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Ae(e,t,F,null,l,M)}for(S in l)if(M=l[S],B=r[S],l.hasOwnProperty(S)&&M!==B&&(M!=null||B!=null))switch(S){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ae(e,t,S,M,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in r)M=r[se],r.hasOwnProperty(se)&&M!=null&&!l.hasOwnProperty(se)&&Ae(e,t,se,null,l,M);for(z in l)if(M=l[z],B=r[z],l.hasOwnProperty(z)&&M!==B&&(M!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:Ae(e,t,z,M,l,B)}return;default:if($i(t)){for(var Oe in r)M=r[Oe],r.hasOwnProperty(Oe)&&M!==void 0&&!l.hasOwnProperty(Oe)&&Tc(e,t,Oe,void 0,l,M);for(H in l)M=l[H],B=r[H],!l.hasOwnProperty(H)||M===B||M===void 0&&B===void 0||Tc(e,t,H,M,l,B);return}}for(var A in r)M=r[A],r.hasOwnProperty(A)&&M!=null&&!l.hasOwnProperty(A)&&Ae(e,t,A,null,l,M);for(G in l)M=l[G],B=r[G],!l.hasOwnProperty(G)||M===B||M==null&&B==null||Ae(e,t,G,M,l,B)}function tm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],d=c.transferSize,g=c.initiatorType,y=c.duration;if(d&&y&&tm(g)){for(g=0,y=c.responseEnd,l+=1;l<r.length;l++){var S=r[l],z=S.startTime;if(z>y)break;var H=S.transferSize,G=S.initiatorType;H&&tm(G)&&(S=S.responseEnd,g+=H*(S<y?1:(y-z)/(S-z)))}if(--l,t+=8*(d+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ac=null,Oc=null;function Il(e){return e.nodeType===9?e:e.ownerDocument}function am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=null;function sb(){var e=window.event;return e&&e.type==="popstate"?e===Rc?!1:(Rc=e,!0):(Rc=null,!1)}var nm=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(ob)}:nm;function ob(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function lm(e,t){var r=t,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),hn(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ms(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ms(r);for(var d=r.firstChild;d;){var g=d.nextSibling,y=d.nodeName;d[Rn]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=g}}else r==="body"&&ms(e.ownerDocument.body);r=c}while(r);hn(t)}function im(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Dc(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function cb(e,t,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function ub(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yt(e.nextSibling),e===null))return null;return e}function om(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Uc(e){return e.data==="$?"||e.data==="$~"}function zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function db(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mc=null;function cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Yt(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function um(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function dm(e,t,r){switch(t=Il(r),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Li(e)}var It=new Map,hm=new Set;function Kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ka=J.d;J.d={f:hb,r:fb,D:mb,C:gb,L:pb,m:xb,X:yb,S:bb,M:vb};function hb(){var e=ka.f(),t=Ml();return e||t}function fb(e){var t=Or(e);t!==null&&t.tag===5&&t.type==="form"?Th(t):ka.r(e)}var cn=typeof document>"u"?null:document;function fm(e,t,r){var l=cn;if(l&&typeof t=="string"&&t){var c=Mt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),hm.has(c)||(hm.add(c),e={rel:e,crossOrigin:r,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),lt(t,"link",e),We(t),l.head.appendChild(t)))}}function mb(e){ka.D(e),fm("dns-prefetch",e,null)}function gb(e,t){ka.C(e,t),fm("preconnect",e,t)}function pb(e,t,r){ka.L(e,t,r);var l=cn;if(l&&e&&t){var c='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Mt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Mt(r.imageSizes)+'"]')):c+='[href="'+Mt(e)+'"]';var d=c;switch(t){case"style":d=un(e);break;case"script":d=dn(e)}It.has(d)||(e=v({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),It.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(gs(d))||t==="script"&&l.querySelector(ps(d))||(t=l.createElement("link"),lt(t,"link",e),We(t),l.head.appendChild(t)))}}function xb(e,t){ka.m(e,t);var r=cn;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=dn(e)}if(!It.has(d)&&(e=v({rel:"modulepreload",href:e},t),It.set(d,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ps(d)))return}l=r.createElement("link"),lt(l,"link",e),We(l),r.head.appendChild(l)}}}function bb(e,t,r){ka.S(e,t,r);var l=cn;if(l&&e){var c=Cr(l).hoistableStyles,d=un(e);t=t||"default";var g=c.get(d);if(!g){var y={loading:0,preload:null};if(g=l.querySelector(gs(d)))y.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},r),(r=It.get(d))&&Lc(e,r);var S=g=l.createElement("link");We(S),lt(S,"link",e),S._p=new Promise(function(z,H){S.onload=z,S.onerror=H}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Vl(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(d,g)}}}function yb(e,t){ka.X(e,t);var r=cn;if(r&&e){var l=Cr(r).hoistableScripts,c=dn(e),d=l.get(c);d||(d=r.querySelector(ps(c)),d||(e=v({src:e,async:!0},t),(t=It.get(c))&&Bc(e,t),d=r.createElement("script"),We(d),lt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function vb(e,t){ka.M(e,t);var r=cn;if(r&&e){var l=Cr(r).hoistableScripts,c=dn(e),d=l.get(c);d||(d=r.querySelector(ps(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=It.get(c))&&Bc(e,t),d=r.createElement("script"),We(d),lt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function mm(e,t,r,l){var c=(c=de.current)?Kl(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=un(r.href),r=Cr(c).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=un(r.href);var d=Cr(c).hoistableStyles,g=d.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=c.querySelector(gs(e)))&&!d._p&&(g.instance=d,g.state.loading=5),It.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},It.set(e,r),d||wb(c,e,r,g.state))),t&&l===null)throw Error(i(528,""));return g}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=dn(r),r=Cr(c).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function un(e){return'href="'+Mt(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function gm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function wb(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),lt(t,"link",r),We(t),e.head.appendChild(t))}function dn(e){return'[src="'+Mt(e)+'"]'}function ps(e){return"script[async]"+e}function pm(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Mt(r.href)+'"]');if(l)return t.instance=l,We(l),l;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),We(l),lt(l,"style",c),Vl(l,r.precedence,e),t.instance=l;case"stylesheet":c=un(r.href);var d=e.querySelector(gs(c));if(d)return t.state.loading|=4,t.instance=d,We(d),d;l=gm(r),(c=It.get(c))&&Lc(l,c),d=(e.ownerDocument||e).createElement("link"),We(d);var g=d;return g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),lt(d,"link",l),t.state.loading|=4,Vl(d,r.precedence,e),t.instance=d;case"script":return d=dn(r.src),(c=e.querySelector(ps(d)))?(t.instance=c,We(c),c):(l=r,(c=It.get(d))&&(l=v({},r),Bc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),We(c),lt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Vl(l,r.precedence,e));return t.instance}function Vl(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var y=l[g];if(y.dataset.precedence===t)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pl=null;function xm(e,t,r){if(Pl===null){var l=new Map,c=Pl=new Map;c.set(r,l)}else c=Pl,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var d=r[c];if(!(d[Rn]||d[at]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var y=l.get(g);y?y.push(d):l.set(g,[d])}}return l}function bm(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function _b(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ym(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kb(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=un(l.href),d=t.querySelector(gs(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ql.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,We(d);return}d=t.ownerDocument||t,l=gm(l),(c=It.get(c))&&Lc(l,c),d=d.createElement("link"),We(d);var g=d;g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),lt(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ql.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var qc=0;function jb(e,t){return e.stylesheets&&e.count===0&&Xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&qc===0&&(qc=62500*nb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>qc?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jl=null;function Xl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jl=new Map,t.forEach(Sb,e),Jl=null,Ql.call(e))}function Sb(e,t){if(!(t.state.loading&4)){var r=Jl.get(e);if(r)var l=r.get(null);else{r=new Map,Jl.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=t.instance,g=c.getAttribute("data-precedence"),d=r.get(g)||l,d===l&&r.set(null,c),r.set(g,c),this.count++,l=Ql.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var xs={$$typeof:C,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Nb(e,t,r,l,c,d,g,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function vm(e,t,r,l,c,d,g,y,S,z,H,G){return e=new Nb(e,t,r,g,S,z,H,G,y),t=1,d===!0&&(t|=24),d=Nt(3,null,null,t),e.current=d,d.stateNode=e,t=bo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:t},_o(d),e}function wm(e){return e?(e=$r,e):$r}function _m(e,t,r,l,c,d){c=wm(c),l.context===null?l.context=c:l.pendingContext=c,l=Ma(t),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=La(e,l,t),r!==null&&(wt(r,e,t),Jn(r,e,t))}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hc(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function jm(e){if(e.tag===13||e.tag===31){var t=or(e,67108864);t!==null&&wt(t,e,67108864),Hc(e,67108864)}}function Sm(e){if(e.tag===13||e.tag===31){var t=Ct();t=Ui(t);var r=or(e,t);r!==null&&wt(r,e,t),Hc(e,t)}}var Zl=!0;function Eb(e,t,r,l){var c=q.T;q.T=null;var d=J.p;try{J.p=2,$c(e,t,r,l)}finally{J.p=d,q.T=c}}function Tb(e,t,r,l){var c=q.T;q.T=null;var d=J.p;try{J.p=8,$c(e,t,r,l)}finally{J.p=d,q.T=c}}function $c(e,t,r,l){if(Zl){var c=Gc(l);if(c===null)Ec(e,t,l,Fl,r),Em(e,l);else if(Ob(c,e,t,r,l))l.stopPropagation();else if(Em(e,l),t&4&&-1<Ab.indexOf(e)){for(;c!==null;){var d=Or(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=rr(d.pendingLanes);if(g!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var S=1<<31-jt(g);y.entanglements[1]|=S,g&=~S}ra(d),(Se&6)===0&&(Ul=_t()+500,ds(0))}}break;case 31:case 13:y=or(d,2),y!==null&&wt(y,d,2),Ml(),Hc(d,2)}if(d=Gc(l),d===null&&Ec(e,t,l,Fl,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else Ec(e,t,l,null,r)}}function Gc(e){return e=Yi(e),Yc(e)}var Fl=null;function Yc(e){if(Fl=null,e=Ar(e),e!==null){var t=h(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=m(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fl=e,null}function Nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mp()){case Du:return 2;case Uu:return 8;case $s:case gp:return 32;case zu:return 268435456;default:return 32}default:return 32}}var Ic=!1,Qa=null,Ja=null,Xa=null,bs=new Map,ys=new Map,Za=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(t.pointerId)}}function vs(e,t,r,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Or(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ob(e,t,r,l,c){switch(t){case"focusin":return Qa=vs(Qa,e,t,r,l,c),!0;case"dragenter":return Ja=vs(Ja,e,t,r,l,c),!0;case"mouseover":return Xa=vs(Xa,e,t,r,l,c),!0;case"pointerover":var d=c.pointerId;return bs.set(d,vs(bs.get(d)||null,e,t,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,ys.set(d,vs(ys.get(d)||null,e,t,r,l,c)),!0}return!1}function Tm(e){var t=Ar(e.target);if(t!==null){var r=h(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,$u(e.priority,function(){Sm(r)});return}}else if(t===31){if(t=m(r),t!==null){e.blockedOn=t,$u(e.priority,function(){Sm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gc(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Gi=l,r.target.dispatchEvent(l),Gi=null}else return t=Or(r),t!==null&&jm(t),e.blockedOn=r,!1;t.shift()}return!0}function Am(e,t,r){Wl(e)&&r.delete(t)}function Cb(){Ic=!1,Qa!==null&&Wl(Qa)&&(Qa=null),Ja!==null&&Wl(Ja)&&(Ja=null),Xa!==null&&Wl(Xa)&&(Xa=null),bs.forEach(Am),ys.forEach(Am)}function ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Cb)))}var ti=null;function Om(e){ti!==e&&(ti=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ti===e&&(ti=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Yc(l||r)===null)continue;break}var d=Or(r);d!==null&&(e.splice(t,3),t-=3,Go(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function hn(e){function t(S){return ei(S,e)}Qa!==null&&ei(Qa,e),Ja!==null&&ei(Ja,e),Xa!==null&&ei(Xa,e),bs.forEach(t),ys.forEach(t);for(var r=0;r<Za.length;r++){var l=Za[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)Tm(r),r.blockedOn===null&&Za.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],g=c[gt]||null;if(typeof d=="function")g||Om(r);else if(g){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[gt]||null)y=g.formAction;else if(Yc(c)!==null)continue}else y=g.action;typeof y=="function"?r[l+1]=y:(r.splice(l,3),l-=3),Om(r)}}}function Cm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Kc(e){this._internalRoot=e}ai.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var r=t.current,l=Ct();_m(r,l,e,t,null,null)},ai.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_m(e.current,2,null,e,null,null),Ml(),t[Tr]=null}};function ai(e){this._internalRoot=e}ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Za.length&&t!==0&&t<Za[r].priority;r++);Za.splice(r,0,e),r===0&&Tm(e)}};var Rm=a.version;if(Rm!=="19.2.4")throw Error(i(527,Rm,"19.2.4"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Rb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{An=ri.inject(Rb),kt=ri}catch{}}return _s.createRoot=function(e,t){if(!u(e))throw Error(i(299));var r=!1,l="",c=Bh,d=qh,g=Hh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=vm(e,1,!1,null,null,r,l,null,c,d,g,Cm),e[Tr]=t.current,Nc(e),new Kc(t)},_s.hydrateRoot=function(e,t,r){if(!u(e))throw Error(i(299));var l=!1,c="",d=Bh,g=qh,y=Hh,S=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.formState!==void 0&&(S=r.formState)),t=vm(e,1,!0,t,r??null,l,c,S,d,g,y,Cm),t.context=wm(null),r=t.current,l=Ct(),l=Ui(l),c=Ma(l),c.callback=null,La(r,c,l),r=l,t.current.lanes=r,Cn(t,r),ra(t),e[Tr]=t.current,Nc(e),new ai(t)},_s.version="19.2.4",_s}var Gm;function Yb(){if(Gm)return Qc.exports;Gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Qc.exports=Gb(),Qc.exports}var Ib=Yb();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ym="popstate";function Kb(n={}){function a(i,u){let{pathname:h,search:f,hash:m}=i.location;return ou("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(i,u){return typeof u=="string"?u:As(u)}return Pb(a,s,null,n)}function qe(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Ft(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Vb(){return Math.random().toString(36).substring(2,10)}function Im(n,a){return{usr:n.state,key:n.key,idx:a}}function ou(n,a,s=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?jn(a):a,state:s,key:a&&a.key||i||Vb()}}function As({pathname:n="/",search:a="",hash:s=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function jn(n){let a={};if(n){let s=n.indexOf("#");s>=0&&(a.hash=n.substring(s),n=n.substring(0,s));let i=n.indexOf("?");i>=0&&(a.search=n.substring(i),n=n.substring(0,i)),n&&(a.pathname=n)}return a}function Pb(n,a,s,i={}){let{window:u=document.defaultView,v5Compat:h=!1}=i,f=u.history,m="POP",p=null,x=b();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function b(){return(f.state||{idx:null}).idx}function v(){m="POP";let N=b(),O=N==null?null:N-x;x=N,p&&p({action:m,location:R.location,delta:O})}function k(N,O){m="PUSH";let D=ou(R.location,N,O);x=b()+1;let C=Im(D,x),V=R.createHref(D);try{f.pushState(C,"",V)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;u.location.assign(V)}h&&p&&p({action:m,location:R.location,delta:1})}function _(N,O){m="REPLACE";let D=ou(R.location,N,O);x=b();let C=Im(D,x),V=R.createHref(D);f.replaceState(C,"",V),h&&p&&p({action:m,location:R.location,delta:0})}function T(N){return Qb(N)}let R={get action(){return m},get location(){return n(u,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(Ym,v),p=N,()=>{u.removeEventListener(Ym,v),p=null}},createHref(N){return a(u,N)},createURL:T,encodeLocation(N){let O=T(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:k,replace:_,go(N){return f.go(N)}};return R}function Qb(n,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:As(n);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function wg(n,a,s="/"){return Jb(n,a,s,!1)}function Jb(n,a,s,i){let u=typeof a=="string"?jn(a):a,h=Na(u.pathname||"/",s);if(h==null)return null;let f=_g(n);Xb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let x=iy(h);m=sy(f[p],x,i)}return m}function _g(n,a=[],s=[],i="",u=!1){let h=(f,m,p=u,x)=>{let b={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&p)return;qe(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let v=Sa([i,b.relativePath]),k=s.concat(b);f.children&&f.children.length>0&&(qe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),_g(f.children,a,k,v,p)),!(f.path==null&&!f.index)&&a.push({path:v,score:ry(v,f.index),routesMeta:k})};return n.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))h(f,m);else for(let x of kg(f.path))h(f,m,!0,x)}),a}function kg(n){let a=n.split("/");if(a.length===0)return[];let[s,...i]=a,u=s.endsWith("?"),h=s.replace(/\?$/,"");if(i.length===0)return u?[h,""]:[h];let f=kg(i.join("/")),m=[];return m.push(...f.map(p=>p===""?h:[h,p].join("/"))),u&&m.push(...f),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function Xb(n){n.sort((a,s)=>a.score!==s.score?s.score-a.score:ny(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var Zb=/^:[\w-]+$/,Fb=3,Wb=2,ey=1,ty=10,ay=-2,Km=n=>n==="*";function ry(n,a){let s=n.split("/"),i=s.length;return s.some(Km)&&(i+=ay),a&&(i+=Wb),s.filter(u=>!Km(u)).reduce((u,h)=>u+(Zb.test(h)?Fb:h===""?ey:ty),i)}function ny(n,a){return n.length===a.length&&n.slice(0,-1).every((i,u)=>i===a[u])?n[n.length-1]-a[a.length-1]:0}function sy(n,a,s=!1){let{routesMeta:i}=n,u={},h="/",f=[];for(let m=0;m<i.length;++m){let p=i[m],x=m===i.length-1,b=h==="/"?a:a.slice(h.length)||"/",v=gi({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},b),k=p.route;if(!v&&x&&s&&!i[i.length-1].route.index&&(v=gi({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!v)return null;Object.assign(u,v.params),f.push({params:u,pathname:Sa([h,v.pathname]),pathnameBase:dy(Sa([h,v.pathnameBase])),route:k}),v.pathnameBase!=="/"&&(h=Sa([h,v.pathnameBase]))}return f}function gi(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,i]=ly(n.path,n.caseSensitive,n.end),u=a.match(s);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:i.reduce((x,{paramName:b,isOptional:v},k)=>{if(b==="*"){let T=m[k]||"";f=h.slice(0,h.length-T.length).replace(/(.)\/+$/,"$1")}const _=m[k];return v&&!_?x[b]=void 0:x[b]=(_||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:f,pattern:n}}function ly(n,a=!1,s=!0){Ft(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),i]}function iy(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ft(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function Na(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=n.charAt(s);return i&&i!=="/"?null:n.slice(s)||"/"}var oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function cy(n,a="/"){let{pathname:s,search:i="",hash:u=""}=typeof n=="string"?jn(n):n,h;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?h=Vm(s.substring(1),"/"):h=Vm(s,a)):h=a,{pathname:h,search:hy(i),hash:fy(u)}}function Vm(n,a){let s=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function Fc(n,a,s,i){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uy(n){return n.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function wu(n){let a=uy(n);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function _u(n,a,s,i=!1){let u;typeof n=="string"?u=jn(n):(u={...n},qe(!u.pathname||!u.pathname.includes("?"),Fc("?","pathname","search",u)),qe(!u.pathname||!u.pathname.includes("#"),Fc("#","pathname","hash",u)),qe(!u.search||!u.search.includes("#"),Fc("#","search","hash",u)));let h=n===""||u.pathname==="",f=h?"/":u.pathname,m;if(f==null)m=s;else{let v=a.length-1;if(!i&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),v-=1;u.pathname=k.join("/")}m=v>=0?a[v]:"/"}let p=cy(u,m),x=f&&f!=="/"&&f.endsWith("/"),b=(h||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(x||b)&&(p.pathname+="/"),p}var Sa=n=>n.join("/").replace(/\/\/+/g,"/"),dy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hy=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,my=class{constructor(n,a,s,i=!1){this.status=n,this.statusText=a||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function gy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function py(n){return n.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sg(n,a){let s=n;if(typeof s!="string"||!oy.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,u=!1;if(jg)try{let h=new URL(window.location.href),f=s.startsWith("//")?new URL(h.protocol+s):new URL(s),m=Na(f.pathname,a);f.origin===h.origin&&m!=null?s=m+f.search+f.hash:u=!0}catch{Ft(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:u,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ng=["POST","PUT","PATCH","DELETE"];new Set(Ng);var xy=["GET",...Ng];new Set(xy);var Sn=j.createContext(null);Sn.displayName="DataRouter";var yi=j.createContext(null);yi.displayName="DataRouterState";var by=j.createContext(!1),Eg=j.createContext({isTransitioning:!1});Eg.displayName="ViewTransition";var yy=j.createContext(new Map);yy.displayName="Fetchers";var vy=j.createContext(null);vy.displayName="Await";var Ut=j.createContext(null);Ut.displayName="Navigation";var Ls=j.createContext(null);Ls.displayName="Location";var Kt=j.createContext({outlet:null,matches:[],isDataRoute:!1});Kt.displayName="Route";var ku=j.createContext(null);ku.displayName="RouteError";var Tg="REACT_ROUTER_ERROR",wy="REDIRECT",_y="ROUTE_ERROR_RESPONSE";function ky(n){if(n.startsWith(`${Tg}:${wy}:{`))try{let a=JSON.parse(n.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function jy(n){if(n.startsWith(`${Tg}:${_y}:{`))try{let a=JSON.parse(n.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new my(a.status,a.statusText,a.data)}catch{}}function Sy(n,{relative:a}={}){qe(Nn(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=j.useContext(Ut),{hash:u,pathname:h,search:f}=Bs(n,{relative:a}),m=h;return s!=="/"&&(m=h==="/"?s:Sa([s,h])),i.createHref({pathname:m,search:f,hash:u})}function Nn(){return j.useContext(Ls)!=null}function Wt(){return qe(Nn(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ls).location}var Ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Og(n){j.useContext(Ut).static||j.useLayoutEffect(n)}function na(){let{isDataRoute:n}=j.useContext(Kt);return n?Hy():Ny()}function Ny(){qe(Nn(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Sn),{basename:a,navigator:s}=j.useContext(Ut),{matches:i}=j.useContext(Kt),{pathname:u}=Wt(),h=JSON.stringify(wu(i)),f=j.useRef(!1);return Og(()=>{f.current=!0}),j.useCallback((p,x={})=>{if(Ft(f.current,Ag),!f.current)return;if(typeof p=="number"){s.go(p);return}let b=_u(p,JSON.parse(h),u,x.relative==="path");n==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Sa([a,b.pathname])),(x.replace?s.replace:s.push)(b,x.state,x)},[a,s,h,u,n])}var Ey=j.createContext(null);function Ty(n){let a=j.useContext(Kt).outlet;return j.useMemo(()=>a&&j.createElement(Ey.Provider,{value:n},a),[a,n])}function Cg(){let{matches:n}=j.useContext(Kt),a=n[n.length-1];return a?a.params:{}}function Bs(n,{relative:a}={}){let{matches:s}=j.useContext(Kt),{pathname:i}=Wt(),u=JSON.stringify(wu(s));return j.useMemo(()=>_u(n,JSON.parse(u),i,a==="path"),[n,u,i,a])}function Ay(n,a){return Rg(n,a)}function Rg(n,a,s,i,u){var D;qe(Nn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(Ut),{matches:f}=j.useContext(Kt),m=f[f.length-1],p=m?m.params:{},x=m?m.pathname:"/",b=m?m.pathnameBase:"/",v=m&&m.route;{let C=v&&v.path||"";Ug(x,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let k=Wt(),_;if(a){let C=typeof a=="string"?jn(a):a;qe(b==="/"||((D=C.pathname)==null?void 0:D.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=k;let T=_.pathname||"/",R=T;if(b!=="/"){let C=b.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=wg(n,{pathname:R});Ft(v||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ft(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Uy(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:Sa([b,h.encodeLocation?h.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?b:Sa([b,h.encodeLocation?h.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),f,s,i,u);return a&&O?j.createElement(Ls.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function Oy(){let n=qy(),a=gy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},h={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),s?j.createElement("pre",{style:u},s):null,f)}var Cy=j.createElement(Oy,null),Dg=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){this.props.onError?this.props.onError(n,a):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=jy(n.digest);s&&(n=s)}let a=n!==void 0?j.createElement(Kt.Provider,{value:this.props.routeContext},j.createElement(ku.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(Ry,{error:n},a):a}};Dg.contextType=by;var Wc=new WeakMap;function Ry({children:n,error:a}){let{basename:s}=j.useContext(Ut);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let i=ky(a.digest);if(i){let u=Wc.get(a);if(u)throw u;let h=Sg(i.location,s);if(jg&&!Wc.get(a))if(h.isExternal||i.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:i.replace}));throw Wc.set(a,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return n}function Dy({routeContext:n,match:a,children:s}){let i=j.useContext(Sn);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),j.createElement(Kt.Provider,{value:n},s)}function Uy(n,a=[],s=null,i=null,u=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,f=s==null?void 0:s.errors;if(f!=null){let b=h.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);qe(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let m=!1,p=-1;if(s)for(let b=0;b<h.length;b++){let v=h[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=b),v.route.id){let{loaderData:k,errors:_}=s,T=v.route.loader&&!k.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||T){m=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}let x=s&&i?(b,v)=>{var k,_;i(b,{location:s.location,params:((_=(k=s.matches)==null?void 0:k[0])==null?void 0:_.params)??{},unstable_pattern:py(s.matches),errorInfo:v})}:void 0;return h.reduceRight((b,v,k)=>{let _,T=!1,R=null,N=null;s&&(_=f&&v.route.id?f[v.route.id]:void 0,R=v.route.errorElement||Cy,m&&(p<0&&k===0?(Ug("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):p===k&&(T=!0,N=v.route.hydrateFallbackElement||null)));let O=a.concat(h.slice(0,k+1)),D=()=>{let C;return _?C=R:T?C=N:v.route.Component?C=j.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=b,j.createElement(Dy,{match:v,routeContext:{outlet:b,matches:O,isDataRoute:s!=null},children:C})};return s&&(v.route.ErrorBoundary||v.route.errorElement||k===0)?j.createElement(Dg,{location:s.location,revalidation:s.revalidation,component:R,error:_,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:x}):D()},null)}function ju(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zy(n){let a=j.useContext(Sn);return qe(a,ju(n)),a}function My(n){let a=j.useContext(yi);return qe(a,ju(n)),a}function Ly(n){let a=j.useContext(Kt);return qe(a,ju(n)),a}function Su(n){let a=Ly(n),s=a.matches[a.matches.length-1];return qe(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function By(){return Su("useRouteId")}function qy(){var i;let n=j.useContext(ku),a=My("useRouteError"),s=Su("useRouteError");return n!==void 0?n:(i=a.errors)==null?void 0:i[s]}function Hy(){let{router:n}=zy("useNavigate"),a=Su("useNavigate"),s=j.useRef(!1);return Og(()=>{s.current=!0}),j.useCallback(async(u,h={})=>{Ft(s.current,Ag),s.current&&(typeof u=="number"?await n.navigate(u):await n.navigate(u,{fromRouteId:a,...h}))},[n,a])}var Pm={};function Ug(n,a,s){!a&&!Pm[n]&&(Pm[n]=!0,Ft(!1,s))}j.memo($y);function $y({routes:n,future:a,state:s,onError:i}){return Rg(n,void 0,s,i,a)}function zg({to:n,replace:a,state:s,relative:i}){qe(Nn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=j.useContext(Ut);Ft(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(Kt),{pathname:f}=Wt(),m=na(),p=_u(n,wu(h),f,i==="path"),x=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(x),{replace:a,state:s,relative:i})},[m,x,i,a,s]),null}function Gy(n){return Ty(n.context)}function ct(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yy({basename:n="/",children:a=null,location:s,navigationType:i="POP",navigator:u,static:h=!1,unstable_useTransitions:f}){qe(!Nn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:u,static:h,unstable_useTransitions:f,future:{}}),[m,u,h,f]);typeof s=="string"&&(s=jn(s));let{pathname:x="/",search:b="",hash:v="",state:k=null,key:_="default"}=s,T=j.useMemo(()=>{let R=Na(x,m);return R==null?null:{location:{pathname:R,search:b,hash:v,state:k,key:_},navigationType:i}},[m,x,b,v,k,_,i]);return Ft(T!=null,`<Router basename="${m}"> is not able to match the URL "${x}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:j.createElement(Ut.Provider,{value:p},j.createElement(Ls.Provider,{children:a,value:T}))}function Mg({children:n,location:a}){return Ay(cu(n),a)}function cu(n,a=[]){let s=[];return j.Children.forEach(n,(i,u)=>{if(!j.isValidElement(i))return;let h=[...a,u];if(i.type===j.Fragment){s.push.apply(s,cu(i.props.children,h));return}qe(i.type===ct,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||h.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=cu(i.props.children,h)),s.push(f)}),s}var fi="get",mi="application/x-www-form-urlencoded";function vi(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Iy(n){return vi(n)&&n.tagName.toLowerCase()==="button"}function Ky(n){return vi(n)&&n.tagName.toLowerCase()==="form"}function Vy(n){return vi(n)&&n.tagName.toLowerCase()==="input"}function Py(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Qy(n,a){return n.button===0&&(!a||a==="_self")&&!Py(n)}var ni=null;function Jy(){if(ni===null)try{new FormData(document.createElement("form"),0),ni=!1}catch{ni=!0}return ni}var Xy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eu(n){return n!=null&&!Xy.has(n)?(Ft(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mi}"`),null):n}function Zy(n,a){let s,i,u,h,f;if(Ky(n)){let m=n.getAttribute("action");i=m?Na(m,a):null,s=n.getAttribute("method")||fi,u=eu(n.getAttribute("enctype"))||mi,h=new FormData(n)}else if(Iy(n)||Vy(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(i=p?Na(p,a):null,s=n.getAttribute("formmethod")||m.getAttribute("method")||fi,u=eu(n.getAttribute("formenctype"))||eu(m.getAttribute("enctype"))||mi,h=new FormData(m,n),!Jy()){let{name:x,type:b,value:v}=n;if(b==="image"){let k=x?`${x}.`:"";h.append(`${k}x`,"0"),h.append(`${k}y`,"0")}else x&&h.append(x,v)}}else{if(vi(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=fi,i=null,u=mi,f=n}return h&&u==="text/plain"&&(f=h,h=void 0),{action:i,method:s.toLowerCase(),encType:u,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nu(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Fy(n,a,s,i){let u=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${i}`:u.pathname=`${u.pathname}.${i}`:u.pathname==="/"?u.pathname=`_root.${i}`:a&&Na(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${i}`,u}async function Wy(n,a){if(n.id in a)return a[n.id];try{let s=await import(n.module);return a[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e0(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function t0(n,a,s){let i=await Promise.all(n.map(async u=>{let h=a.routes[u.route.id];if(h){let f=await Wy(h,s);return f.links?f.links():[]}return[]}));return s0(i.flat(1).filter(e0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Qm(n,a,s,i,u,h){let f=(p,x)=>s[x]?p.route.id!==s[x].route.id:!0,m=(p,x)=>{var b;return s[x].pathname!==p.pathname||((b=s[x].route.path)==null?void 0:b.endsWith("*"))&&s[x].params["*"]!==p.params["*"]};return h==="assets"?a.filter((p,x)=>f(p,x)||m(p,x)):h==="data"?a.filter((p,x)=>{var v;let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,x)||m(p,x))return!0;if(p.route.shouldRevalidate){let k=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function a0(n,a,{includeHydrateFallback:s}={}){return r0(n.map(i=>{let u=a.routes[i.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function r0(n){return[...new Set(n)]}function n0(n){let a={},s=Object.keys(n).sort();for(let i of s)a[i]=n[i];return a}function s0(n,a){let s=new Set;return new Set(a),n.reduce((i,u)=>{let h=JSON.stringify(n0(u));return s.has(h)||(s.add(h),i.push({key:h,link:u})),i},[])}function Lg(){let n=j.useContext(Sn);return Nu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function l0(){let n=j.useContext(yi);return Nu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Eu=j.createContext(void 0);Eu.displayName="FrameworkContext";function Bg(){let n=j.useContext(Eu);return Nu(n,"You must render this element inside a <HydratedRouter> element"),n}function i0(n,a){let s=j.useContext(Eu),[i,u]=j.useState(!1),[h,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:x,onMouseLeave:b,onTouchStart:v}=a,k=j.useRef(null);j.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let R=O=>{O.forEach(D=>{f(D.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return k.current&&N.observe(k.current),()=>{N.disconnect()}}},[n]),j.useEffect(()=>{if(i){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[i]);let _=()=>{u(!0)},T=()=>{u(!1),f(!1)};return s?n!=="intent"?[h,k,{}]:[h,k,{onFocus:ks(m,_),onBlur:ks(p,T),onMouseEnter:ks(x,_),onMouseLeave:ks(b,T),onTouchStart:ks(v,_)}]:[!1,k,{}]}function ks(n,a){return s=>{n&&n(s),s.defaultPrevented||a(s)}}function o0({page:n,...a}){let{router:s}=Lg(),i=j.useMemo(()=>wg(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?j.createElement(u0,{page:n,matches:i,...a}):null}function c0(n){let{manifest:a,routeModules:s}=Bg(),[i,u]=j.useState([]);return j.useEffect(()=>{let h=!1;return t0(n,a,s).then(f=>{h||u(f)}),()=>{h=!0}},[n,a,s]),i}function u0({page:n,matches:a,...s}){let i=Wt(),{future:u,manifest:h,routeModules:f}=Bg(),{basename:m}=Lg(),{loaderData:p,matches:x}=l0(),b=j.useMemo(()=>Qm(n,a,x,h,i,"data"),[n,a,x,h,i]),v=j.useMemo(()=>Qm(n,a,x,h,i,"assets"),[n,a,x,h,i]),k=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,N=!1;if(a.forEach(D=>{var V;let C=h.routes[D.route.id];!C||!C.hasLoader||(!b.some(Z=>Z.route.id===D.route.id)&&D.route.id in p&&((V=f[D.route.id])!=null&&V.shouldRevalidate)||C.hasClientLoader?N=!0:R.add(D.route.id))}),R.size===0)return[];let O=Fy(n,m,u.unstable_trailingSlashAwareDataRequests,"data");return N&&R.size>0&&O.searchParams.set("_routes",a.filter(D=>R.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[m,u.unstable_trailingSlashAwareDataRequests,p,i,h,b,a,n,f]),_=j.useMemo(()=>a0(v,h),[v,h]),T=c0(v);return j.createElement(j.Fragment,null,k.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...s})),_.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...s})),T.map(({key:R,link:N})=>j.createElement("link",{key:R,nonce:s.nonce,...N,crossOrigin:N.crossOrigin??s.crossOrigin})))}function d0(...n){return a=>{n.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.13.0")}catch{}function f0({basename:n,children:a,unstable_useTransitions:s,window:i}){let u=j.useRef();u.current==null&&(u.current=Kb({window:i,v5Compat:!0}));let h=u.current,[f,m]=j.useState({action:h.action,location:h.location}),p=j.useCallback(x=>{s===!1?m(x):j.startTransition(()=>m(x))},[s]);return j.useLayoutEffect(()=>h.listen(p),[h,p]),j.createElement(Yy,{basename:n,children:a,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:s})}var qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=j.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:u,reloadDocument:h,replace:f,state:m,target:p,to:x,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:k,..._},T){let{basename:R,unstable_useTransitions:N}=j.useContext(Ut),O=typeof x=="string"&&qg.test(x),D=Sg(x,R);x=D.to;let C=Sy(x,{relative:u}),[V,Z,I]=i0(i,_),Q=x0(x,{replace:f,state:m,target:p,preventScrollReset:b,relative:u,viewTransition:v,unstable_defaultShouldRevalidate:k,unstable_useTransitions:N});function le(me){a&&a(me),me.defaultPrevented||Q(me)}let K=j.createElement("a",{..._,...I,href:D.absoluteURL||C,onClick:D.isExternal||h?a:le,ref:d0(T,Z),target:p,"data-discover":!O&&s==="render"?"true":void 0});return V&&!O?j.createElement(j.Fragment,null,K,j.createElement(o0,{page:C})):K});ut.displayName="Link";var m0=j.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:u=!1,style:h,to:f,viewTransition:m,children:p,...x},b){let v=Bs(f,{relative:x.relative}),k=Wt(),_=j.useContext(yi),{navigator:T,basename:R}=j.useContext(Ut),N=_!=null&&_0(v)&&m===!0,O=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,D=k.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(D=D.toLowerCase(),C=C?C.toLowerCase():null,O=O.toLowerCase()),C&&R&&(C=Na(C,R)||C);const V=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Z=D===O||!u&&D.startsWith(O)&&D.charAt(V)==="/",I=C!=null&&(C===O||!u&&C.startsWith(O)&&C.charAt(O.length)==="/"),Q={isActive:Z,isPending:I,isTransitioning:N},le=Z?a:void 0,K;typeof i=="function"?K=i(Q):K=[i,Z?"active":null,I?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let me=typeof h=="function"?h(Q):h;return j.createElement(ut,{...x,"aria-current":le,className:K,ref:b,style:me,to:f,viewTransition:m},typeof p=="function"?p(Q):p)});m0.displayName="NavLink";var g0=j.forwardRef(({discover:n="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:u,state:h,method:f=fi,action:m,onSubmit:p,relative:x,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:k,..._},T)=>{let{unstable_useTransitions:R}=j.useContext(Ut),N=v0(),O=w0(m,{relative:x}),D=f.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&qg.test(m),V=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let I=Z.nativeEvent.submitter,Q=(I==null?void 0:I.getAttribute("formmethod"))||f,le=()=>N(I||Z.currentTarget,{fetcherKey:a,method:Q,navigate:s,replace:u,state:h,relative:x,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:k});R&&s!==!1?j.startTransition(()=>le()):le()};return j.createElement("form",{ref:T,method:D,action:O,onSubmit:i?p:V,..._,"data-discover":!C&&n==="render"?"true":void 0})});g0.displayName="Form";function p0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hg(n){let a=j.useContext(Sn);return qe(a,p0(n)),a}function x0(n,{target:a,replace:s,state:i,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let x=na(),b=Wt(),v=Bs(n,{relative:h});return j.useCallback(k=>{if(Qy(k,a)){k.preventDefault();let _=s!==void 0?s:As(b)===As(v),T=()=>x(n,{replace:_,state:i,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m});p?j.startTransition(()=>T()):T()}},[b,x,v,s,i,a,n,u,h,f,m,p])}var b0=0,y0=()=>`__${String(++b0)}__`;function v0(){let{router:n}=Hg("useSubmit"),{basename:a}=j.useContext(Ut),s=By(),i=n.fetch,u=n.navigate;return j.useCallback(async(h,f={})=>{let{action:m,method:p,encType:x,formData:b,body:v}=Zy(h,a);if(f.navigate===!1){let k=f.fetcherKey||y0();await i(k,s,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||p,formEncType:f.encType||x,flushSync:f.flushSync})}else await u(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||p,formEncType:f.encType||x,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,u,a,s])}function w0(n,{relative:a}={}){let{basename:s}=j.useContext(Ut),i=j.useContext(Kt);qe(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),h={...Bs(n||".",{relative:a})},f=Wt();if(n==null){h.search=f.search;let m=new URLSearchParams(h.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let b=m.toString();h.search=b?`?${b}`:""}}return(!n||n===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(h.pathname=h.pathname==="/"?s:Sa([s,h.pathname])),As(h)}function _0(n,{relative:a}={}){let s=j.useContext(Eg);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Hg("useViewTransitionState"),u=Bs(n,{relative:a});if(!s.isTransitioning)return!1;let h=Na(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Na(s.nextLocation.pathname,i)||s.nextLocation.pathname;return gi(u.pathname,f)!=null||gi(u.pathname,h)!=null}const k0=({cartCount:n,onSearch:a,onNavigate:s,currentView:i,theme:u,onToggleTheme:h,searchQuery:f})=>{const[m,p]=j.useState(!1),[x,b]=j.useState(!1);j.useEffect(()=>{if(n===0)return;p(!0);const _=setTimeout(()=>{p(!1)},200);return()=>clearTimeout(_)},[n]);const v=_=>{a(_.target.value)},k=_=>{s(_),b(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-solid border-[#e6e0db] dark:border-white/5 bg-white dark:bg-[#2c241b]/95 backdrop-blur-md px-4 md:px-10 lg:px-40 py-3 transition-colors duration-300",children:o.jsxs("div",{className:"flex items-center justify-between gap-4 md:gap-8 max-w-[1280px] mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[o.jsx("button",{className:"lg:hidden -ml-2 p-2 text-text-main dark:text-white rounded-lg hover:bg-background-light dark:hover:bg-white/5 transition-colors",onClick:()=>b(!x),"aria-label":"Toggle menu",children:o.jsx("span",{className:"material-symbols-outlined text-2xl align-middle",children:x?"close":"menu"})}),o.jsxs("div",{className:"flex items-center gap-3 text-text-main dark:text-white cursor-pointer group",onClick:()=>s("menu"),children:[o.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300 shadow-sm",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"restaurant"})}),o.jsxs("div",{className:"flex flex-col -gap-1 hidden sm:flex",children:[o.jsx("span",{className:"text-xl font-black leading-none tracking-tighter font-['Outfit'] group-hover:text-primary transition-colors",children:"PAYPYA"}),o.jsx("span",{className:"text-[10px] font-bold leading-none tracking-[0.2em] text-primary uppercase ml-0.5",children:"Coffee & Eatery"})]})]}),o.jsxs("nav",{className:"hidden lg:flex items-center gap-9",children:[o.jsx("button",{onClick:()=>s("menu"),className:`text-sm font-bold leading-normal pb-0.5 transition-colors ${i==="menu"?"text-primary border-b-2 border-primary":"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary"}`,children:"Menu"}),o.jsx("button",{onClick:()=>s("locations"),className:`text-sm font-bold leading-normal pb-0.5 transition-colors ${i==="locations"?"text-primary border-b-2 border-primary":"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary"}`,children:"Locations"}),o.jsx("button",{onClick:()=>s("orders"),className:`text-sm font-bold leading-normal pb-0.5 transition-colors ${i==="orders"?"text-primary border-b-2 border-primary":"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary"}`,children:"Orders"}),o.jsx("button",{onClick:()=>s("contact"),className:`text-sm font-bold leading-normal pb-0.5 transition-colors ${i==="contact"?"text-primary border-b-2 border-primary":"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary"}`,children:"Contact"})]})]}),o.jsxs("div",{className:"flex flex-1 justify-end gap-3 md:gap-6 items-center",children:[o.jsx("label",{className:"flex flex-col min-w-40 !h-10 max-w-64 hidden md:block group",children:o.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full overflow-hidden bg-background-light dark:bg-white/5 border border-transparent focus-within:border-primary transition-colors",children:[o.jsx("div",{className:"text-text-secondary dark:text-gray-400 flex border-none items-center justify-center pl-4",children:o.jsx("span",{className:"material-symbols-outlined text-xl",children:"search"})}),o.jsx("input",{type:"text",value:f,onChange:v,className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden text-text-main dark:text-white focus:outline-0 focus:ring-0 border-none bg-transparent h-full placeholder:text-text-secondary dark:placeholder:text-gray-500 px-3 pl-2 text-sm font-normal leading-normal",placeholder:"Search menu..."})]})}),o.jsx("button",{onClick:h,className:"size-10 flex items-center justify-center rounded-lg text-text-secondary dark:text-gray-300 hover:bg-background-light dark:hover:bg-white/10 transition-colors",title:u==="light"?"Switch to Dark Mode":"Switch to Light Mode",children:o.jsx("span",{className:"material-symbols-outlined text-xl",children:u==="light"?"dark_mode":"light_mode"})}),o.jsxs("button",{onClick:()=>s("cart"),className:`relative flex items-center justify-center gap-2 h-10 px-4 text-sm font-bold rounded-lg transition-all shadow-sm active:scale-95 ${i==="cart"?"bg-primary-dark text-white":"bg-primary hover:bg-primary-dark text-white"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"shopping_cart"}),o.jsx("span",{className:"hidden sm:inline",children:"Cart"}),n>0&&o.jsx("span",{className:`ml-1 bg-white text-primary text-xs px-1.5 py-0.5 rounded-full font-extrabold transition-transform duration-200 ${m?"scale-150":"scale-100"}`,children:n})]})]})]})}),x&&o.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:()=>b(!1)}),o.jsxs("div",{className:"absolute top-[65px] left-0 w-full bg-white dark:bg-[#2c241b] border-b border-[#e6e0db] dark:border-white/5 shadow-xl animate-slide-down p-4 flex flex-col gap-4",children:[o.jsxs("div",{className:"flex md:hidden items-center bg-background-light dark:bg-white/5 rounded-lg px-4 py-3 border border-transparent focus-within:border-primary transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined text-text-secondary dark:text-gray-400 mr-3",children:"search"}),o.jsx("input",{type:"text",placeholder:"Search menu...",className:"bg-transparent border-none w-full text-text-main dark:text-white focus:ring-0 p-0 text-base placeholder:text-gray-400",value:f,onChange:v,autoFocus:!0})]}),o.jsxs("nav",{className:"flex flex-col gap-1",children:[o.jsxs("button",{onClick:()=>k("menu"),className:`flex items-center gap-3 px-4 py-3 rounded-xl text-left font-bold transition-all ${i==="menu"?"bg-primary/10 text-primary dark:text-primary":"text-text-main dark:text-white hover:bg-background-light dark:hover:bg-white/5"}`,children:[o.jsx("span",{className:"material-symbols-outlined",children:"restaurant_menu"}),"Menu"]}),o.jsxs("button",{onClick:()=>k("locations"),className:`flex items-center gap-3 px-4 py-3 rounded-xl text-left font-bold transition-all ${i==="locations"?"bg-primary/10 text-primary dark:text-primary":"text-text-main dark:text-white hover:bg-background-light dark:hover:bg-white/5"}`,children:[o.jsx("span",{className:"material-symbols-outlined",children:"storefront"}),"Locations"]}),o.jsxs("button",{onClick:()=>k("orders"),className:`flex items-center gap-3 px-4 py-3 rounded-xl text-left font-bold transition-all ${i==="orders"?"bg-primary/10 text-primary dark:text-primary":"text-text-main dark:text-white hover:bg-background-light dark:hover:bg-white/5"}`,children:[o.jsx("span",{className:"material-symbols-outlined",children:"receipt_long"}),"Orders"]}),o.jsxs("button",{onClick:()=>k("contact"),className:`flex items-center gap-3 px-4 py-3 rounded-xl text-left font-bold transition-all ${i==="contact"?"bg-primary/10 text-primary dark:text-primary":"text-text-main dark:text-white hover:bg-background-light dark:hover:bg-white/5"}`,children:[o.jsx("span",{className:"material-symbols-outlined",children:"mail"}),"Contact"]})]})]})]})]})},j0=()=>o.jsxs("footer",{className:"mt-auto border-t border-[#f4f2f0] dark:border-white/5 bg-white dark:bg-[#2c241b] py-12 transition-colors duration-300",children:[o.jsxs("div",{className:"max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"col-span-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-main dark:text-white mb-4",children:[o.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"restaurant_menu"})}),o.jsx("span",{className:"text-xl font-bold",children:"PAYPYA Cafe"})]}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm leading-relaxed mb-4",children:"Crafting culinary experiences since 2012. Quality ingredients, local sourcing, and a passion for great taste."}),o.jsxs("div",{className:"flex items-start gap-2 text-text-secondary dark:text-gray-400 text-sm",children:[o.jsx("span",{className:"material-symbols-outlined text-sm mt-0.5",children:"location_on"}),o.jsx("p",{children:"Jl. Waiwerang Sagu, Waiwerang Kota, Kec. Adonara Tim., Kabupaten Flores Timur, Nusa Tenggara Tim."})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm mb-4 uppercase tracking-wider text-text-main dark:text-white",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2 text-text-secondary dark:text-gray-400 text-sm font-medium",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Menu"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Reservations"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Our Story"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Careers"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm mb-4 uppercase tracking-wider text-text-main dark:text-white",children:"Opening Hours"}),o.jsxs("ul",{className:"space-y-2 text-text-secondary dark:text-gray-400 text-sm font-medium",children:[o.jsx("li",{children:"Mon - Fri: 11.00 - 00:00"}),o.jsx("li",{children:"Sat - Sun: 17:00 - 00:00"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm mb-4 uppercase tracking-wider text-text-main dark:text-white",children:"Newsletter"}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("p",{className:"text-xs text-text-secondary dark:text-gray-400",children:"Subscribe for latest updates and offers."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{className:"bg-background-light dark:bg-white/5 border-none rounded-lg text-sm px-3 py-2 w-full focus:ring-1 focus:ring-primary text-text-main dark:text-white placeholder:text-gray-400",placeholder:"Your email",type:"email"}),o.jsx("button",{className:"bg-primary hover:bg-primary-dark text-white px-3 py-2 rounded-lg text-sm font-bold transition-colors",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"send"})})]})]})]})]}),o.jsxs("div",{className:"max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 mt-12 pt-8 border-t border-[#f4f2f0] dark:border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-text-secondary dark:text-gray-500",children:[o.jsx("p",{children:" 2024 PAYPYA Cafe Inc. All rights reserved."}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("span",{className:"cursor-pointer hover:text-primary transition-colors",children:"Privacy Policy"}),o.jsx("span",{className:"cursor-pointer hover:text-primary transition-colors",children:"Terms of Service"}),o.jsxs("div",{className:"flex gap-4 ml-4",children:[o.jsx("span",{className:"material-symbols-outlined text-lg cursor-pointer hover:text-primary transition-colors",children:"public"}),o.jsx("span",{className:"material-symbols-outlined text-lg cursor-pointer hover:text-primary transition-colors",children:"photo_camera"})]})]})]})]});function wi(n,a){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(n);u<i.length;u++)a.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(n,i[u])&&(s[i[u]]=n[i[u]]);return s}function S0(n,a,s,i){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(b){try{x(i.next(b))}catch(v){f(v)}}function p(b){try{x(i.throw(b))}catch(v){f(v)}}function x(b){b.done?h(b.value):u(b.value).then(m,p)}x((i=i.apply(n,a||[])).next())})}const N0=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class Tu extends Error{constructor(a,s="FunctionsError",i){super(a),this.name=s,this.context=i}}class E0 extends Tu{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Jm extends Tu{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Xm extends Tu{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var uu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(uu||(uu={}));class T0{constructor(a,{headers:s={},customFetch:i,region:u=uu.Any}={}){this.url=a,this.headers=s,this.region=u,this.fetch=N0(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return S0(this,arguments,void 0,function*(s,i={}){var u;let h,f;try{const{headers:m,method:p,body:x,signal:b,timeout:v}=i;let k={},{region:_}=i;_||(_=this.region);const T=new URL(`${this.url}/${s}`);_&&_!=="any"&&(k["x-region"]=_,T.searchParams.set("forceFunctionRegion",_));let R;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",R=x):typeof x=="string"?(k["Content-Type"]="text/plain",R=x):typeof FormData<"u"&&x instanceof FormData?R=x:(k["Content-Type"]="application/json",R=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?R=JSON.stringify(x):R=x;let N=b;v&&(f=new AbortController,h=setTimeout(()=>f.abort(),v),b?(N=f.signal,b.addEventListener("abort",()=>f.abort())):N=f.signal);const O=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),m),body:R,signal:N}).catch(Z=>{throw new E0(Z)}),D=O.headers.get("x-relay-error");if(D&&D==="true")throw new Jm(O);if(!O.ok)throw new Xm(O);let C=((u=O.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),V;return C==="application/json"?V=yield O.json():C==="application/octet-stream"||C==="application/pdf"?V=yield O.blob():C==="text/event-stream"?V=O:C==="multipart/form-data"?V=yield O.formData():V=yield O.text(),{data:V,error:null,response:O}}catch(m){return{data:null,error:m,response:m instanceof Xm||m instanceof Jm?m.context:void 0}}finally{h&&clearTimeout(h)}})}}var A0=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},O0=class{constructor(n){var a,s,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let u=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,m=null,p=null,x=h.status,b=h.statusText;if(h.ok){var v,k;if(s.method!=="HEAD"){var _;const O=await h.text();O===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((_=s.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?m=O:m=JSON.parse(O))}const R=(v=s.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),N=(k=h.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");R&&N&&N.length>1&&(p=parseInt(N[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,x=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var T;const R=await h.text();try{f=JSON.parse(R),Array.isArray(f)&&h.status===404&&(m=[],f=null,x=200,b="OK")}catch{h.status===404&&R===""?(x=204,b="No Content"):f={message:R}}if(f&&s.isMaybeSingle&&(!(f==null||(T=f.details)===null||T===void 0)&&T.includes("0 rows"))&&(f=null,x=200,b="OK"),f&&s.shouldThrowOnError)throw new A0(f)}return{error:f,data:m,count:p,status:x,statusText:b}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let m="",p="",x="";const b=h==null?void 0:h.cause;if(b){var v,k,_,T;const O=(v=b==null?void 0:b.message)!==null&&v!==void 0?v:"",D=(k=b==null?void 0:b.code)!==null&&k!==void 0?k:"";m=`${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"FetchError"}: ${h==null?void 0:h.message}`,m+=`

Caused by: ${(T=b==null?void 0:b.name)!==null&&T!==void 0?T:"Error"}: ${O}`,D&&(m+=` (${D})`),b!=null&&b.stack&&(m+=`
${b.stack}`)}else{var R;m=(R=h==null?void 0:h.stack)!==null&&R!==void 0?R:""}const N=this.url.toString().length;return(h==null?void 0:h.name)==="AbortError"||(h==null?void 0:h.code)==="ABORT_ERR"?(x="",p="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((b==null?void 0:b.name)==="HeadersOverflowError"||(b==null?void 0:b.code)==="UND_ERR_HEADERS_OVERFLOW")&&(x="",p="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(p+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:m,hint:p,code:x},data:null,count:null,status:0,statusText:""}})),u.then(n,a)}returns(){return this}overrideTypes(){return this}},C0=class extends O0{select(n){let a=!1;const s=(n??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:s,foreignTable:i,referencedTable:u=i}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${n}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:s=a}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,a,{foreignTable:s,referencedTable:i=s}={}){const u=typeof i>"u"?"offset":`${i}.offset`,h=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(h,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:s=!1,buffers:i=!1,wal:u=!1,format:h="text"}={}){var f;const m=[n?"analyze":null,a?"verbose":null,s?"settings":null,i?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${p}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Zm=new RegExp("[,()]");var yn=class extends C0{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const s=Array.from(new Set(a)).map(i=>typeof i=="string"&&Zm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,a){const s=Array.from(new Set(a)).map(i=>typeof i=="string"&&Zm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:s,type:i}={}){let u="";i==="plain"?u="pl":i==="phrase"?u="ph":i==="websearch"&&(u="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${u}fts${h}.${a}`),this}match(n){return Object.entries(n).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(n,a,s){return this.url.searchParams.append(n,`not.${a}.${s}`),this}or(n,{foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,a,s){return this.url.searchParams.append(n,`${a}.${s}`),this}},R0=class{constructor(n,{headers:a={},schema:s,fetch:i,urlLengthLimit:u=8e3}){this.url=n,this.headers=new Headers(a),this.schema=s,this.fetch=i,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,a){const{head:s=!1,count:i}=a??{},u=s?"HEAD":"GET";let h=!1;const f=(n??"*").split("").map(x=>/\s/.test(x)&&!h?"":(x==='"'&&(h=!h),x)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),i&&p.append("Prefer",`count=${i}`),new yn({method:u,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:a,defaultToNull:s=!0}={}){var i;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),s||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(m.length>0){const p=[...new Set(m)].map(x=>`"${x}"`);h.searchParams.set("columns",p.join(","))}}return new yn({method:u,url:h,headers:f,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:a,ignoreDuplicates:s=!1,count:i,defaultToNull:u=!0}={}){var h;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),i&&p.append("Prefer",`count=${i}`),u||p.append("Prefer","missing=default"),Array.isArray(n)){const x=n.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(x.length>0){const b=[...new Set(x)].map(v=>`"${v}"`);m.searchParams.set("columns",b.join(","))}}return new yn({method:f,url:m,headers:p,schema:this.schema,body:n,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:a}={}){var s;const i="PATCH",{url:u,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new yn({method:i,url:u,headers:h,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var a;const s="DELETE",{url:i,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new yn({method:s,url:i,headers:u,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Os(n){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Os(n)}function D0(n,a){if(Os(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,a);if(Os(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function U0(n){var a=D0(n,"string");return Os(a)=="symbol"?a:a+""}function z0(n,a,s){return(a=U0(a))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function Fm(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,i)}return s}function si(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Fm(Object(s),!0).forEach(function(i){z0(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Fm(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}var M0=class $g{constructor(a,{headers:s={},schema:i,fetch:u,timeout:h,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(s),this.schemaName=i,this.urlLengthLimit=f;const m=u??globalThis.fetch;h!==void 0&&h>0?this.fetch=(p,x)=>{const b=new AbortController,v=setTimeout(()=>b.abort(),h),k=x==null?void 0:x.signal;if(k){if(k.aborted)return clearTimeout(v),m(p,x);const _=()=>{clearTimeout(v),b.abort()};return k.addEventListener("abort",_,{once:!0}),m(p,si(si({},x),{},{signal:b.signal})).finally(()=>{clearTimeout(v),k.removeEventListener("abort",_)})}return m(p,si(si({},x),{},{signal:b.signal})).finally(()=>clearTimeout(v))}:this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new R0(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new $g(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,s={},{head:i=!1,get:u=!1,count:h}={}){var f;let m;const p=new URL(`${this.url}/rpc/${a}`);let x;const b=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(b)),v=i&&Object.values(s).some(b);v?(m="POST",x=s):i||u?(m=i?"HEAD":"GET",Object.entries(s).filter(([_,T])=>T!==void 0).map(([_,T])=>[_,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([_,T])=>{p.searchParams.append(_,T)})):(m="POST",x=s);const k=new Headers(this.headers);return v?k.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&k.set("Prefer",`count=${h}`),new yn({method:m,url:p,headers:k,schema:this.schemaName,body:x,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class L0{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const u=i.node,h=parseInt(u.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const i=this.getWebSocketConstructor();return new i(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const B0="2.95.2",q0=`realtime-js/${B0}`,H0="1.0.0",Gg="2.0.0",Wm=Gg,du=1e4,$0=1e3,G0=100;var er;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(er||(er={}));var Fe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Fe||(Fe={}));var Zt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Zt||(Zt={}));var hu;(function(n){n.websocket="websocket"})(hu||(hu={}));var jr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(jr||(jr={}));class Y0{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,i;const u=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var s,i;const u=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,s,i){var u,h;const f=a.topic,m=(u=a.ref)!==null&&u!==void 0?u:"",p=(h=a.join_ref)!==null&&h!==void 0?h:"",x=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},v=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+x.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+k);let T=new DataView(_),R=0;T.setUint8(R++,this.KINDS.userBroadcastPush),T.setUint8(R++,p.length),T.setUint8(R++,m.length),T.setUint8(R++,f.length),T.setUint8(R++,x.length),T.setUint8(R++,v.length),T.setUint8(R++,s),Array.from(p,O=>T.setUint8(R++,O.charCodeAt(0))),Array.from(m,O=>T.setUint8(R++,O.charCodeAt(0))),Array.from(f,O=>T.setUint8(R++,O.charCodeAt(0))),Array.from(x,O=>T.setUint8(R++,O.charCodeAt(0))),Array.from(v,O=>T.setUint8(R++,O.charCodeAt(0)));var N=new Uint8Array(_.byteLength+i.byteLength);return N.set(new Uint8Array(_),0),N.set(new Uint8Array(i),_.byteLength),N.buffer}decode(a,s){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return s(i)}if(typeof a=="string"){const i=JSON.parse(a),[u,h,f,m,p]=i;return s({join_ref:u,ref:h,topic:f,event:m,payload:p})}return s({})}_binaryDecode(a){const s=new DataView(a),i=s.getUint8(0),u=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,s,u)}}_decodeUserBroadcast(a,s,i){const u=s.getUint8(1),h=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let p=this.HEADER_LENGTH+4;const x=i.decode(a.slice(p,p+u));p=p+u;const b=i.decode(a.slice(p,p+h));p=p+h;const v=i.decode(a.slice(p,p+f));p=p+f;const k=a.slice(p,a.byteLength),_=m===this.JSON_ENCODING?JSON.parse(i.decode(k)):k,T={type:this.BROADCAST_EVENT,event:b,payload:_};return f>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a==null?void 0:a.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>s.includes(i)))}}class Yg{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Re||(Re={}));const eg=(n,a,s={})=>{var i;const u=(i=s.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((h,f)=>(h[f]=I0(f,n,a,u),h),{}):{}},I0=(n,a,s,i)=>{const u=a.find(m=>m.name===n),h=u==null?void 0:u.type,f=s[n];return h&&!i.includes(h)?Ig(h,f):fu(f)},Ig=(n,a)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Q0(a,s)}switch(n){case Re.bool:return K0(a);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return V0(a);case Re.json:case Re.jsonb:return P0(a);case Re.timestamp:return J0(a);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return fu(a);default:return fu(a)}},fu=n=>n,K0=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},V0=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},P0=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Q0=(n,a)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let h;const f=n.slice(1,s);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(m=>Ig(a,m))}return n},J0=n=>typeof n=="string"?n.replace(" ","T"):n,Kg=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class tu{constructor(a,s,i={},u=du){this.channel=a,this.event=s,this.payload=i,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var i;return this._hasReceived(a)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var tg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(tg||(tg={}));class Es{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,u,h,f),this.pendingDiffs.forEach(p=>{this.state=Es.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Es.syncDiff(this.state,u,h,f),m())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,i,u){const h=this.cloneDeep(a),f=this.transformState(s),m={},p={};return this.map(h,(x,b)=>{f[x]||(p[x]=b)}),this.map(f,(x,b)=>{const v=h[x];if(v){const k=b.map(N=>N.presence_ref),_=v.map(N=>N.presence_ref),T=b.filter(N=>_.indexOf(N.presence_ref)<0),R=v.filter(N=>k.indexOf(N.presence_ref)<0);T.length>0&&(m[x]=T),R.length>0&&(p[x]=R)}else m[x]=b}),this.syncDiff(h,{joins:m,leaves:p},i,u)}static syncDiff(a,s,i,u){const{joins:h,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),u||(u=()=>{}),this.map(h,(m,p)=>{var x;const b=(x=a[m])!==null&&x!==void 0?x:[];if(a[m]=this.cloneDeep(p),b.length>0){const v=a[m].map(_=>_.presence_ref),k=b.filter(_=>v.indexOf(_.presence_ref)<0);a[m].unshift(...k)}i(m,b,p)}),this.map(f,(m,p)=>{let x=a[m];if(!x)return;const b=p.map(v=>v.presence_ref);x=x.filter(v=>b.indexOf(v.presence_ref)<0),a[m]=x,u(m,x,p),x.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(i=>s(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,i)=>{const u=a[i];return"metas"in u?s[i]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[i]=u,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ag;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(ag||(ag={}));var Ts;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ts||(Ts={}));var ja;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class _n{constructor(a,s={config:{}},i){var u,h;if(this.topic=a,this.params=s,this.socket=i,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new Yg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Es(this),this.broadcastEndpointURL=Kg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var i,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,x=(u=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,v={},k={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:x,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>a==null?void 0:a(ja.CHANNEL_ERROR,_)),this._onClose(()=>a==null?void 0:a(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:k},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){a==null||a(ja.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,N=(T=R==null?void 0:R.length)!==null&&T!==void 0?T:0,O=[];for(let D=0;D<N;D++){const C=R[D],{filter:{event:V,schema:Z,table:I,filter:Q}}=C,le=_&&_[D];if(le&&le.event===V&&_n.isFilterValueEqual(le.schema,Z)&&_n.isFilterValueEqual(le.table,I)&&_n.isFilterValueEqual(le.filter,Q))O.push(Object.assign(Object.assign({},C),{id:le.id}));else{this.unsubscribe(),this.state=Fe.errored,a==null||a(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,a&&a(ja.SUBSCRIBED);return}}).receive("error",_=>{this.state=Fe.errored,a==null||a(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,i){return this.state===Fe.joined&&a===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,s,i)}async httpSend(a,s,i={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=i.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const x=await m.json();p=x.error||x.message||p}catch{}return Promise.reject(new Error(p))}async send(a,s={}){var i,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((u=x.body)===null||u===void 0?void 0:u.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,m,p;const x=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),x.receive("ok",()=>h("ok")),x.receive("error",()=>h("error")),x.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Fe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(u=>{i=new tu(this,Zt.leave,{},a),i.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(a,s,i){const u=new AbortController,h=setTimeout(()=>u.abort(),i),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(h),f}_push(a,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new tu(this,a,s,i);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>G0){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,i){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,i){var u,h;const f=a.toLocaleLowerCase(),{close:m,error:p,leave:x,join:b}=Zt;if(i&&[m,p,x,b].indexOf(f)>=0&&i!==this._joinRef())return;let k=this._onMessage(f,s,i);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(_=>{var T,R,N;return((T=_.filter)===null||T===void 0?void 0:T.event)==="*"||((N=(R=_.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(_=>_.callback(k,i)):(h=this.bindings[f])===null||h===void 0||h.filter(_=>{var T,R,N,O,D,C;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const V=_.id,Z=(T=_.filter)===null||T===void 0?void 0:T.event;return V&&((R=s.ids)===null||R===void 0?void 0:R.includes(V))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const V=(D=(O=_==null?void 0:_.filter)===null||O===void 0?void 0:O.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return V==="*"||V===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof k=="object"&&"ids"in k){const T=k.data,{schema:R,table:N,commit_timestamp:O,type:D,errors:C}=T;k=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:O,eventType:D,new:{},old:{},errors:C}),this._getPayloadRecords(T))}_.callback(k,i)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,i){const u=a.toLocaleLowerCase(),h={type:u,filter:s,callback:i};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(a,s){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===i&&_n.isEqual(u.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const i in a)if(a[i]!==s[i])return!1;return!0}static isFilterValueEqual(a,s){return(a??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Zt.close,{},a)}_onError(a){this._on(Zt.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=eg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=eg(a.columns,a.old_record)),s}}const au=()=>{},li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},X0=[1e3,2e3,5e3,1e4],Z0=1e4,F0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W0{constructor(a,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=du,this.transport=null,this.heartbeatIntervalMs=li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=au,this.ref=0,this.reconnectTimer=null,this.vsn=Wm,this.logger=au,this.conn=null,this.sendBuffer=[],this.serializer=new Y0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${hu.websocket}`,this.httpEndpoint=Kg(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L0.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,i){this.logger(a,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case er.connecting:return jr.Connecting;case er.open:return jr.Open;case er.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const i=`realtime:${a}`,u=this.getChannels().find(h=>h.topic===i);if(u)return u;{const h=new _n(`realtime:${a}`,s,this);return this.channels.push(h),h}}push(a){const{topic:s,event:i,payload:u,ref:h}=a,f=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${i} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close($0,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},li.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",x)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:u,payload:h,ref:f}=s,m=f?`(${f})`:"",p=h.status||"";this.log("receive",`${p} ${i} ${u} ${m}`.trim(),h),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(u,h,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===er.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===er.open||this.conn.readyState===er.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Zt.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const i=a.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${a}${i}${u}`}_workerObjectUrl(a){let s;if(a)s=a;else{const i=new Blob([F0],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s,i=!1;if(a)s=a,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const h={access_token:s,version:q0};s&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(Zt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(s)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Yg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,i,u,h,f,m,p,x,b,v,k,_;switch(this.transport=(s=a==null?void 0:a.transport)!==null&&s!==void 0?s:null,this.timeout=(i=a==null?void 0:a.timeout)!==null&&i!==void 0?i:du,this.heartbeatIntervalMs=(u=a==null?void 0:a.heartbeatIntervalMs)!==null&&u!==void 0?u:li.HEARTBEAT_INTERVAL,this.worker=(h=a==null?void 0:a.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=a==null?void 0:a.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a==null?void 0:a.heartbeatCallback)!==null&&m!==void 0?m:au,this.vsn=(p=a==null?void 0:a.vsn)!==null&&p!==void 0?p:Wm,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=a==null?void 0:a.reconnectAfterMs)!==null&&x!==void 0?x:(T=>X0[T-1]||Z0),this.vsn){case H0:this.encode=(b=a==null?void 0:a.encode)!==null&&b!==void 0?b:((T,R)=>R(JSON.stringify(T))),this.decode=(v=a==null?void 0:a.decode)!==null&&v!==void 0?v:((T,R)=>R(JSON.parse(T)));break;case Gg:this.encode=(k=a==null?void 0:a.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(_=a==null?void 0:a.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var Cs=class extends Error{constructor(n,a){var s;super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((s=a.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ev(n,a,s){const i=new URL(a,n);if(s)for(const[u,h]of Object.entries(s))h!==void 0&&i.searchParams.set(u,h);return i.toString()}async function tv(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function av(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:u,body:h,headers:f}){const m=ev(n.baseUrl,i,u),p=await tv(n.auth),x=await a(m,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...p,...f},body:h?JSON.stringify(h):void 0}),b=await x.text(),v=(x.headers.get("content-type")||"").includes("application/json"),k=v&&b?JSON.parse(b):b;if(!x.ok){const _=v?k:void 0,T=_==null?void 0:_.error;throw new Cs((T==null?void 0:T.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:_})}return{status:x.status,headers:x.headers,data:k}}}}function ii(n){return n.join("")}var rv=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:ii(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,a){const s={namespace:n.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ii(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ii(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ii(n.namespace)}`}),!0}catch(a){if(a instanceof Cs&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(s){if(s instanceof Cs&&s.status===409)return;throw s}}};function fn(n){return n.join("")}var nv=class{constructor(n,a="",s){this.client=n,this.prefix=a,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(n,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(s){if(s instanceof Cs&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(s){if(s instanceof Cs&&s.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw s}}},sv=class{constructor(n){var i;let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=av({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new rv(this.client,a),this.tableOps=new nv(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},_i=class extends Error{constructor(n,a="storage",s,i){super(n),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=i}};function ki(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var oi=class extends _i{constructor(n,a,s,i="storage"){super(n,i,a,s),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vg=class extends _i{constructor(n,a,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const lv=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),iv=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mu=n=>{if(Array.isArray(n))return n.map(s=>mu(s));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([s,i])=>{const u=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[u]=mu(i)}),a},ov=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Rs(n){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Rs(n)}function cv(n,a){if(Rs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,a);if(Rs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function uv(n){var a=cv(n,"string");return Rs(a)=="symbol"?a:a+""}function dv(n,a,s){return(a=uv(a))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function rg(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,i)}return s}function oe(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?rg(Object(s),!0).forEach(function(i){dv(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):rg(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const ng=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},hv=async(n,a,s,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const u=n,h=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const m=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||h+"";a(new oi(ng(f),h,m,i))}).catch(()=>{if(i==="vectors"){const f=h+"";a(new oi(u.statusText||`HTTP ${h} error`,h,f,i))}else{const f=h+"";a(new oi(u.statusText||`HTTP ${h} error`,h,f,i))}});else{const f=h+"";a(new oi(u.statusText||`HTTP ${h} error`,h,f,i))}}else a(new Vg(ng(n),n,i))},fv=(n,a,s,i)=>{const u={method:n,headers:(a==null?void 0:a.headers)||{}};return n==="GET"||n==="HEAD"||!i?oe(oe({},u),s):(iv(i)?(u.headers=oe({"Content-Type":"application/json"},a==null?void 0:a.headers),u.body=JSON.stringify(i)):u.body=i,a!=null&&a.duplex&&(u.duplex=a.duplex),oe(oe({},u),s))};async function js(n,a,s,i,u,h,f){return new Promise((m,p)=>{n(s,fv(a,i,u,h)).then(x=>{if(!x.ok)throw x;if(i!=null&&i.noResolveJson)return x;if(f==="vectors"){const b=x.headers.get("content-type");if(x.headers.get("content-length")==="0"||x.status===204)return{};if(!b||!b.includes("application/json"))return{}}return x.json()}).then(x=>m(x)).catch(x=>hv(x,p,i,f))})}function Pg(n="storage"){return{get:async(a,s,i,u)=>js(a,"GET",s,i,u,void 0,n),post:async(a,s,i,u,h)=>js(a,"POST",s,u,h,i,n),put:async(a,s,i,u,h)=>js(a,"PUT",s,u,h,i,n),head:async(a,s,i,u)=>js(a,"HEAD",s,oe(oe({},i),{},{noResolveJson:!0}),u,void 0,n),remove:async(a,s,i,u,h)=>js(a,"DELETE",s,u,h,i,n)}}const mv=Pg("storage"),{get:Ds,post:Xt,put:gu,head:gv,remove:Au}=mv,Dt=Pg("vectors");var En=class{constructor(n,a={},s,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.fetch=lv(s),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var a=this;try{return{data:await n(),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ki(s))return{data:null,error:s};throw s}}},pv=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ki(a))return{data:null,error:a};throw a}}};let Qg;Qg=Symbol.toStringTag;var xv=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[Qg]="BlobDownloadBuilder",this.promise=null}asStream(){return new pv(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ki(a))return{data:null,error:a};throw a}}};const bv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yv=class extends En{constructor(n,a={},s,i){super(n,a,i,"storage"),this.bucketId=s}async uploadOrUpdate(n,a,s,i){var u=this;return u.handleOperation(async()=>{let h;const f=oe(oe({},sg),i);let m=oe(oe({},u.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",u.encodeMetadata(p)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),p&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(p))):(h=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(p))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),i!=null&&i.headers&&(m=oe(oe({},m),i.headers));const x=u._removeEmptyFolders(a),b=u._getFinalPath(x),v=await(n=="PUT"?gu:Xt)(u.fetch,`${u.url}/object/${b}`,h,oe({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:x,id:v.Id,fullPath:v.Key}})}async upload(n,a,s){return this.uploadOrUpdate("POST",n,a,s)}async uploadToSignedUrl(n,a,s,i){var u=this;const h=u._removeEmptyFolders(n),f=u._getFinalPath(h),m=new URL(u.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",a),u.handleOperation(async()=>{let p;const x=oe({upsert:sg.upsert},i),b=oe(oe({},u.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",x.cacheControl)):(p=s,b["cache-control"]=`max-age=${x.cacheControl}`,b["content-type"]=x.contentType),{path:h,fullPath:(await gu(u.fetch,m.toString(),p,{headers:b})).Key}})}async createSignedUploadUrl(n,a){var s=this;return s.handleOperation(async()=>{let i=s._getFinalPath(n);const u=oe({},s.headers);a!=null&&a.upsert&&(u["x-upsert"]="true");const h=await Xt(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:u}),f=new URL(s.url+h.url),m=f.searchParams.get("token");if(!m)throw new _i("No token returned by API");return{signedUrl:f.toString(),path:n,token:m}})}async update(n,a,s){return this.uploadOrUpdate("PUT",n,a,s)}async move(n,a,s){var i=this;return i.handleOperation(async()=>await Xt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:i.headers}))}async copy(n,a,s){var i=this;return i.handleOperation(async()=>({path:(await Xt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,a,s){var i=this;return i.handleOperation(async()=>{let u=i._getFinalPath(n),h=await Xt(i.fetch,`${i.url}/object/sign/${u}`,oe({expiresIn:a},s!=null&&s.transform?{transform:s.transform}:{}),{headers:i.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${i.url}${h.signedURL}${f}`)}})}async createSignedUrls(n,a,s){var i=this;return i.handleOperation(async()=>{const u=await Xt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:a,paths:n},{headers:i.headers}),h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u.map(f=>oe(oe({},f),{},{signedUrl:f.signedURL?encodeURI(`${i.url}${f.signedURL}${h}`):null}))})}download(n,a){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),u=i?`?${i}`:"",h=this._getFinalPath(n),f=()=>Ds(this.fetch,`${this.url}/${s}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new xv(f,this.shouldThrowOnError)}async info(n){var a=this;const s=a._getFinalPath(n);return a.handleOperation(async()=>mu(await Ds(a.fetch,`${a.url}/object/info/${s}`,{headers:a.headers})))}async exists(n){var a=this;const s=a._getFinalPath(n);try{return await gv(a.fetch,`${a.url}/object/${s}`,{headers:a.headers}),{data:!0,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ki(i)&&i instanceof Vg){const u=i.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,a){const s=this._getFinalPath(n),i=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&i.push(u);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}async remove(n){var a=this;return a.handleOperation(async()=>await Au(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}))}async list(n,a,s){var i=this;return i.handleOperation(async()=>{const u=oe(oe(oe({},bv),a),{},{prefix:n||""});return await Xt(i.fetch,`${i.url}/object/list/${i.bucketId}`,u,{headers:i.headers},s)})}async listV2(n,a){var s=this;return s.handleOperation(async()=>{const i=oe({},n);return await Xt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},a)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const vv="2.95.2",qs={"X-Client-Info":`storage-js/${vv}`};var wv=class extends En{constructor(n,a={},s,i){const u=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const h=u.href.replace(/\/$/,""),f=oe(oe({},qs),a);super(h,f,s,"storage")}async listBuckets(n){var a=this;return a.handleOperation(async()=>{const s=a.listBucketOptionsToQueryString(n);return await Ds(a.fetch,`${a.url}/bucket${s}`,{headers:a.headers})})}async getBucket(n){var a=this;return a.handleOperation(async()=>await Ds(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}))}async createBucket(n,a={public:!1}){var s=this;return s.handleOperation(async()=>await Xt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,a){var s=this;return s.handleOperation(async()=>await gu(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var a=this;return a.handleOperation(async()=>await Xt(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}))}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Au(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},_v=class extends En{constructor(n,a={},s){const i=n.replace(/\/$/,""),u=oe(oe({},qs),a);super(i,u,s,"storage")}async createBucket(n){var a=this;return a.handleOperation(async()=>await Xt(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}))}async listBuckets(n){var a=this;return a.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const i=s.toString(),u=i?`${a.url}/bucket?${i}`:`${a.url}/bucket`;return await Ds(a.fetch,u,{headers:a.headers})})}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Au(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}))}from(n){var a=this;if(!ov(n))throw new _i("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new sv({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}},kv=class extends En{constructor(n,a={},s){const i=n.replace(/\/$/,""),u=oe(oe({},qs),{},{"Content-Type":"application/json"},a);super(i,u,s,"vectors")}async createIndex(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{})}async getIndex(n,a){var s=this;return s.handleOperation(async()=>await Dt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:s.headers}))}async listIndexes(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}))}async deleteIndex(n,a){var s=this;return s.handleOperation(async()=>await Dt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:s.headers})||{})}},jv=class extends En{constructor(n,a={},s){const i=n.replace(/\/$/,""),u=oe(oe({},qs),{},{"Content-Type":"application/json"},a);super(i,u,s,"vectors")}async putVectors(n){var a=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{})}async getVectors(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}))}async listVectors(n){var a=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}))}async queryVectors(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}))}async deleteVectors(n){var a=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{})}},Sv=class extends En{constructor(n,a={},s){const i=n.replace(/\/$/,""),u=oe(oe({},qs),{},{"Content-Type":"application/json"},a);super(i,u,s,"vectors")}async createBucket(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{})}async getBucket(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}))}async listBuckets(n={}){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}))}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Dt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{})}},Nv=class extends Sv{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new Ev(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,s=this;return a().call(s,n)}async getBucket(n){var a=()=>super.getBucket,s=this;return a().call(s,n)}async listBuckets(n={}){var a=()=>super.listBuckets,s=this;return a().call(s,n)}async deleteBucket(n){var a=()=>super.deleteBucket,s=this;return a().call(s,n)}},Ev=class extends kv{constructor(n,a,s,i){super(n,a,i),this.vectorBucketName=s}async createIndex(n){var a=()=>super.createIndex,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,s=this;return a().call(s,s.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,s=this;return a().call(s,s.vectorBucketName,n)}index(n){return new Tv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Tv=class extends jv{constructor(n,a,s,i,u){super(n,a,u),this.vectorBucketName=s,this.indexName=i}async putVectors(n){var a=()=>super.putVectors,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var a=()=>super.getVectors,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,s=this;return a().call(s,oe(oe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Av=class extends wv{constructor(n,a={},s,i){super(n,a,s,i)}from(n){return new yv(this.url,this.headers,n,this.fetch)}get vectors(){return new Nv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _v(this.url+"/iceberg",this.headers,this.fetch)}};const Jg="2.95.2",vn=30*1e3,pu=3,ru=pu*vn,Ov="http://localhost:9999",Cv="supabase.auth.token",Rv={"X-Client-Info":`gotrue-js/${Jg}`},xu="X-Supabase-Api-Version",Xg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uv=600*1e3;class Us extends Error{constructor(a,s,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function te(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class zv extends Us{constructor(a,s,i){super(a,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Mv(n){return te(n)&&n.name==="AuthApiError"}class Sr extends Us{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class Ea extends Us{constructor(a,s,i,u){super(a,i,u),this.name=s,this.status=i}}class Rt extends Ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nu(n){return te(n)&&n.name==="AuthSessionMissingError"}class mn extends Ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ci extends Ea{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ui extends Ea{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lv(n){return te(n)&&n.name==="AuthImplicitGrantRedirectError"}class lg extends Ea{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bv extends Ea{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bu extends Ea{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function su(n){return te(n)&&n.name==="AuthRetryableFetchError"}class ig extends Ea{constructor(a,s,i){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class yu extends Ea{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),og=` 	
\r=`.split(""),qv=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<og.length;a+=1)n[og[a].charCodeAt(0)]=-2;for(let a=0;a<pi.length;a+=1)n[pi[a].charCodeAt(0)]=a;return n})();function cg(n,a,s){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(pi[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(pi[i]),a.queuedBits-=6}}function Zg(n,a,s){const i=qv[n];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ug(n){const a=[],s=f=>{a.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{Gv(f,i,s)};for(let f=0;f<n.length;f+=1)Zg(n.charCodeAt(f),u,h);return a.join("")}function Hv(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function $v(n,a){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const u=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Hv(i,a)}}function Gv(n,a,s){if(a.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function kn(n){const a=[],s={queue:0,queuedBits:0},i=u=>{a.push(u)};for(let u=0;u<n.length;u+=1)Zg(n.charCodeAt(u),s,i);return new Uint8Array(a)}function Yv(n){const a=[];return $v(n,s=>a.push(s)),new Uint8Array(a)}function Nr(n){const a=[],s={queue:0,queuedBits:0},i=u=>{a.push(u)};return n.forEach(u=>cg(u,s,i)),cg(null,s,i),a.join("")}function Iv(n){return Math.round(Date.now()/1e3)+n}function Kv(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},Fg=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function Vv(n){const a={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,h)=>{a[h]=u})}catch{}return s.searchParams.forEach((i,u)=>{a[u]=i}),a}const Wg=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),Pv=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",wn=async(n,a,s)=>{await n.setItem(a,JSON.stringify(s))},_r=async(n,a)=>{const s=await n.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},it=async(n,a)=>{await n.removeItem(a)};class ji{constructor(){this.promise=new ji.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}ji.promiseConstructor=Promise;function di(n){const a=n.split(".");if(a.length!==3)throw new yu("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!Dv.test(a[i]))throw new yu("JWT not in base64url format");return{header:JSON.parse(ug(a[0])),payload:JSON.parse(ug(a[1])),signature:kn(a[2]),raw:{header:a[0],payload:a[1]}}}async function Qv(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function Jv(n,a){return new Promise((i,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await n(h);if(!a(h,null,f)){i(f);return}}catch(f){if(!a(h,f)){u(f);return}}})()})}function Xv(n){return("0"+n.toString(16)).substr(-2)}function Zv(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let u="";for(let h=0;h<56;h++)u+=s.charAt(Math.floor(Math.random()*i));return u}return crypto.getRandomValues(a),Array.from(a,Xv).join("")}async function Fv(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(i);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function Wv(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Fv(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(n,a,s=!1){const i=Zv();let u=i;s&&(u+="/PASSWORD_RECOVERY"),await wn(n,`${a}-code-verifier`,u);const h=await Wv(i);return[h,i===h?"plain":"s256"]}const ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tw(n){const a=n.headers.get(xu);if(!a||!a.match(ew))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function aw(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function rw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pn(n){if(!nw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lu(){const n={};return new Proxy(n,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sw(n,a){return new Proxy(n,{get:(s,i,u)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const h=i.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,u)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,i,u)}})}function dg(n){return JSON.parse(JSON.stringify(n))}const kr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lw=[502,503,504];async function hg(n){var a;if(!Pv(n))throw new bu(kr(n),0);if(lw.includes(n.status))throw new bu(kr(n),n.status);let s;try{s=await n.json()}catch(h){throw new Sr(kr(h),h)}let i;const u=tw(n);if(u&&u.getTime()>=Xg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new ig(kr(s),n.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Rt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new ig(kr(s),n.status,s.weak_password.reasons);throw new zv(kr(s),n.status||500,i)}const iw=(n,a,s,i)=>{const u={method:n,headers:(a==null?void 0:a.headers)||{}};return n==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),u.body=JSON.stringify(i),Object.assign(Object.assign({},u),s))};async function ie(n,a,s,i){var u;const h=Object.assign({},i==null?void 0:i.headers);h[xu]||(h[xu]=Xg["2024-01-01"].name),i!=null&&i.jwt&&(h.Authorization=`Bearer ${i.jwt}`);const f=(u=i==null?void 0:i.query)!==null&&u!==void 0?u:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await ow(n,a,s+m,{headers:h,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function ow(n,a,s,i,u,h){const f=iw(a,i,u,h);let m;try{m=await n(s,Object.assign({},f))}catch(p){throw console.error(p),new bu(kr(p),0)}if(m.ok||await hg(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(p){await hg(p)}}function Jt(n){var a;let s=null;dw(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Iv(n.expires_in)));const i=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:s,user:i},error:null}}function fg(n){const a=Jt(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(a.data.weak_password=n.weak_password),a}function tr(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function cw(n){return{data:n,error:null}}function uw(n){const{action_link:a,email_otp:s,hashed_token:i,redirect_to:u,verification_type:h}=n,f=wi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:i,redirect_to:u,verification_type:h},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function mg(n){return n}function dw(n){return n.access_token&&n.refresh_token&&n.expires_in}const iu=["global","local","others"];class hw{constructor({url:a="",headers:s={},fetch:i}){this.url=a,this.headers=s,this.fetch=Wg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=iu[0]){if(iu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iu.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,s={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:tr})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:s}=a,i=wi(a,["options"]),u=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(u.new_email=i==null?void 0:i.newEmail,delete u.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:uw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:tr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,i,u,h,f,m,p;try{const x={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a==null?void 0:a.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(h=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:mg});if(b.error)throw b.error;const v=await b.json(),k=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);x[`${N}Page`]=R}),x.total=parseInt(k)),{data:Object.assign(Object.assign({},v),x),error:null}}catch(x){if(te(x))return{data:{users:[]},error:x};throw x}}async getUserById(a){pn(a);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:tr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){pn(a);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:tr})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,s=!1){pn(a);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:tr})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){pn(a.userId);try{const{data:s,error:i}=await ie(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:i}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteFactor(a){pn(a.userId),pn(a.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,i,u,h,f,m,p;try{const x={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a==null?void 0:a.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(h=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:mg});if(b.error)throw b.error;const v=await b.json(),k=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);x[`${N}Page`]=R}),x.total=parseInt(k)),{data:Object.assign(Object.assign({},v),x),error:null}}catch(x){if(te(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}}function gg(n={}){return{getItem:a=>n[a]||null,setItem:(a,s)=>{n[a]=s},removeItem:a=>{delete n[a]}}}const xn={debug:!!(globalThis&&Fg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ep extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class fw extends ep{}async function mw(n,a,s){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async u=>{if(u){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,u.name);try{return await s()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,u.name)}}else{if(a===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(xn.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tp(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function pw(n){return parseInt(n,16)}function xw(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function bw(n){var a;const{chainId:s,domain:i,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:m,requestId:p,resources:x,scheme:b,uri:v,version:k}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=tp(n.address),T=b?`${b}://${i}`:i,R=n.statement?`${n.statement}
`:"",N=`${T} wants you to sign in with your Ethereum account:
${_}

${R}`;let O=`URI: ${v}
Version: ${k}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(O+=`
Expiration Time: ${u.toISOString()}`),m&&(O+=`
Not Before: ${m.toISOString()}`),p&&(O+=`
Request ID: ${p}`),x){let D=`
Resources:`;for(const C of x){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);D+=`
- ${C}`}O+=D}return`${N}
${O}`}class Je extends Error{constructor({message:a,code:s,cause:i,name:u}){var h;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(h=u??(i instanceof Error?i.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class xi extends Je{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function yw({error:n,options:a}){var s,i,u;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((i=h.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Je({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(ap(f)){if(h.rp.id!==f)return new Je({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function vw({error:n,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Je({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(ap(i)){if(s.rpId!==i)return new Je({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class ww{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const _w=new ww;function kw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:s,excludeCredentials:i}=n,u=wi(n,["challenge","user","excludeCredentials"]),h=kn(a).buffer,f=Object.assign(Object.assign({},s),{id:kn(s.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:h,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const x=i[p];m.excludeCredentials[p]=Object.assign(Object.assign({},x),{id:kn(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function jw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:s}=n,i=wi(n,["challenge","allowCredentials"]),u=kn(a).buffer,h=Object.assign(Object.assign({},i),{challenge:u});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];h.allowCredentials[f]=Object.assign(Object.assign({},m),{id:kn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function Sw(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:Nr(new Uint8Array(n.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Nw(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),u=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Nr(new Uint8Array(u.authenticatorData)),clientDataJSON:Nr(new Uint8Array(u.clientDataJSON)),signature:Nr(new Uint8Array(u.signature)),userHandle:u.userHandle?Nr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function ap(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function pg(){var n,a;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Ew(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",a)}:{data:null,error:new xi("Empty credential response",a)}}catch(a){return{data:null,error:yw({error:a,options:n})}}}async function Tw(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",a)}:{data:null,error:new xi("Empty credential response",a)}}catch(a){return{data:null,error:vw({error:a,options:n})}}}const Aw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ow={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bi(...n){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),i={};for(const u of n)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))i[h]=f;else if(s(f))i[h]=f;else if(a(f)){const m=i[h];a(m)?i[h]=bi(m,f):i[h]=bi(f)}else i[h]=f}return i}function Cw(n,a){return bi(Aw,n,a||{})}function Rw(n,a){return bi(Ow,n,a||{})}class Dw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:i,signal:u},h){var f;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!m)return{data:null,error:p};const x=u??_w.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const v=i;if(v)b.name=`${b.id}:${v}`;else{const _=(await this.client.getUser()).data.user,T=((f=_==null?void 0:_.user_metadata)===null||f===void 0?void 0:f.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";b.name=`${b.id}:${T}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=Cw(m.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:v,error:k}=await Ew({publicKey:b,signal:x});return v?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:v}},error:null}:{data:null,error:k}}case"request":{const b=Rw(m.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:v,error:k}=await Tw(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:x}));return v?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:v}},error:null}:{data:null,error:k}}}}catch(m){return te(m)?{data:null,error:m}:{data:null,error:new Sr("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn authentication")};try{if(!pg())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:i},signal:u},{request:h});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Sr("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn registration")};try{if(!pg())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var v;return(v=b.data)===null||v===void 0?void 0:v.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===a&&k.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:p,error:x}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:u},{create:h});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:x}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Sr("Unexpected error in register",f)}}}}gw();const Uw={url:Ov,storageKey:Cv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function xg(n,a,s){return await s()}const bn={};class zs{get jwks(){var a,s;return(s=(a=bn[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=bn[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:a})}constructor(a){var s,i,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},Uw),a);if(this.storageKey=h.storageKey,this.instanceID=(s=zs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ot()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new hw({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Wg(h.fetch),this.lock=h.lock||xg,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ot()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=mw:this.lock=xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Fg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gg(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=gg(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},i="none";if(ot()&&(s=Vv(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),ot()&&this.detectSessionInUrl&&i!=="none"){const{data:u,error:h}=await this._getSessionFromURL(s,i);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Lv(h)){const p=(a=h.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return te(s)?this._returnResult({error:s}):this._returnResult({error:new Sr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,i,u;try{const h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=a==null?void 0:a.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(u=a==null?void 0:a.options)===null||u===void 0?void 0:u.captchaToken}},xform:Jt}),{data:f,error:m}=h;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(h){if(te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var s,i,u;try{let h;if("email"in a){const{email:b,password:v,options:k}=a;let _=null,T=null;this.flowType==="pkce"&&([_,T]=await gn(this.storage,this.storageKey)),h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:b,password:v,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:_,code_challenge_method:T},xform:Jt})}else if("phone"in a){const{phone:b,password:v,options:k}=a;h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(i=k==null?void 0:k.data)!==null&&i!==void 0?i:{},channel:(u=k==null?void 0:k.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Jt})}else throw new ci("You must provide either an email or phone number and a password");const{data:f,error:m}=h;if(m||!f)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(h){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let s;if("email"in a){const{email:h,password:f,options:m}=a;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:fg})}else if("phone"in a){const{phone:h,password:f,options:m}=a;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:fg})}else throw new ci("You must provide either an email or phone number and a password");const{data:i,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!i||!i.session||!i.user){const h=new mn;return this._returnResult({data:{user:null,session:null},error:h})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:u})}catch(s){if(te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,i,u,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,i,u,h,f,m,p,x,b,v,k;let _,T;if("message"in a)_=a.message,T=a.signature;else{const{chain:R,wallet:N,statement:O,options:D}=a;let C;if(ot())if(typeof N=="object")C=N;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")C=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const V=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href),Z=await C.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=tp(Z[0]);let Q=(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Q){const K=await C.request({method:"eth_chainId"});Q=pw(K)}const le={domain:V.host,address:I,statement:O,uri:V.href,version:"1",chainId:Q,nonce:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=D==null?void 0:D.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=D==null?void 0:D.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(x=D==null?void 0:D.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(b=D==null?void 0:D.signInWithEthereum)===null||b===void 0?void 0:b.resources};_=bw(le),T=await C.request({method:"personal_sign",params:[xw(_),I]})}try{const{data:R,error:N}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:T},!((v=a.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(k=a.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Jt});if(N)throw N;if(!R||!R.session||!R.user){const O=new mn;return this._returnResult({data:{user:null,session:null},error:O})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(te(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(a){var s,i,u,h,f,m,p,x,b,v,k,_;let T,R;if("message"in a)T=a.message,R=a.signature;else{const{chain:N,wallet:O,statement:D,options:C}=a;let V;if(ot())if(typeof O=="object")V=O;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))V=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=O}const Z=new URL((s=C==null?void 0:C.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const I=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),D?{statement:D}:null));let Q;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")Q=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)Q=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)T=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),R=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${Z.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(u=(i=C==null?void 0:C.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((m=C==null?void 0:C.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((x=C==null?void 0:C.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(b=C==null?void 0:C.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const I=await V.signMessage(new TextEncoder().encode(T),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=I}}try{const{data:N,error:O}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Nr(R)},!((k=a.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Jt});if(O)throw O;if(!N||!N.session||!N.user){const D=new mn;return this._returnResult({data:{user:null,session:null},error:D})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:O})}catch(N){if(te(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const s=await _r(this.storage,`${this.storageKey}-code-verifier`),[i,u]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Bv;const{data:h,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:Jt});if(await it(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const m=new mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:s,provider:i,token:u,access_token:h,nonce:f}=a,m=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Jt}),{data:p,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!p||!p.session||!p.user){const b=new mn;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:x})}catch(s){if(te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,i,u,h,f;try{if("email"in a){const{email:m,options:p}=a;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await gn(this.storage,this.storageKey));const{error:v}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:b},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in a){const{phone:m,options:p}=a,{data:x,error:b}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p==null?void 0:p.data)!==null&&u!==void 0?u:{},create_user:(h=p==null?void 0:p.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:b})}throw new ci("You must provide either an email or phone number.")}catch(m){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,i;try{let u,h;"options"in a&&(u=(s=a.options)===null||s===void 0?void 0:s.redirectTo,h=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Jt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,x=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var s,i,u,h,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await gn(this.storage,this.storageKey));const x=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((u=a==null?void 0:a.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:cw});return!((h=x.data)===null||h===void 0)&&h.url&&ot()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)throw i;if(!s)throw new Rt;const{error:u}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:i,type:u,options:h}=a,{error:f}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:i,type:u,options:h}=a,{data:f,error:m}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new ci("You must provide either an email or phone number and a type")}catch(s){if(te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<ru:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const f=await _r(this.userStorage,this.storageKey+"-user");f!=null&&f.user?a.user=f.user:a.user=lu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=sw(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(a){try{return a?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:tr}):await this._useSession(async s=>{var i,u,h;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:tr})})}catch(s){if(te(s))return nu(s)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async i=>{const{data:u,error:h}=i;if(h)throw h;if(!u.session)throw new Rt;const f=u.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await gn(this.storage,this.storageKey));const{data:x,error:b}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:tr});if(b)throw b;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Rt;const s=Date.now()/1e3;let i=s,u=!0,h=null;const{payload:f}=di(a.access_token);if(f.exp&&(i=f.exp,u=i<=s),u){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});h={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(te(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var i;if(!a){const{data:f,error:m}=s;if(m)throw m;a=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(a!=null&&a.refresh_token))throw new Rt;const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!ot())throw new ui("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ui(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ui("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new lg("No code detected.");const{data:D,error:C}=await this._exchangeCodeForSession(a.code);if(C)throw C;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:m,expires_at:p,token_type:x}=a;if(!h||!m||!f||!x)throw new ui("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(m);let k=b+v;p&&(k=parseInt(p));const _=k-b;_*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const T=k-v;b-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,k,b):b-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,k,b);const{data:R,error:N}=await this._getUser(h);if(N)throw N;const O={provider_token:i,provider_refresh_token:u,access_token:h,expires_in:v,expires_at:k,refresh_token:f,token_type:x,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:a.type},error:null})}catch(i){if(te(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:u,error:h}=s;if(h&&!nu(h))return this._returnResult({error:h});const f=(i=u.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Mv(m)&&(m.status===404||m.status===401||m.status===403)||nu(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=Kv(),i={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async s=>{var i,u;try{const{data:{session:h},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,s={}){let i=null,u=null;this.flowType==="pkce"&&([i,u]=await gn(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:i,error:u}=await this._useSession(async h=>{var f,m,p,x,b;const{data:v,error:k}=h;if(k)throw k;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",_,{headers:this.headers,jwt:(b=(x=v.session)===null||x===void 0?void 0:x.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return ot()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:a.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(te(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var i;try{const{error:u,data:{session:h}}=s;if(u)throw u;const{options:f,provider:m,token:p,access_token:x,nonce:b}=a,v=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=h==null?void 0:h.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:p,access_token:x,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jt}),{data:k,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new mn}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:_}))}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var i,u;const{data:h,error:f}=s;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(i=h.session)===null||i===void 0?void 0:i.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Jv(async u=>(u>0&&await Qv(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Jt})),(u,h)=>{const f=200*Math.pow(2,u);return h&&su(h)&&Date.now()+f-i<vn})}catch(i){if(this._debug(s,"error",i),te(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",i),ot()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const u=await _r(this.storage,this.storageKey);if(u&&this.userStorage){let f=await _r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await wn(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f==null?void 0:f.user)!==null&&a!==void 0?a:lu()}else if(u&&!u.user&&!u.user){const f=await _r(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await it(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,u)):u.user=lu()}if(this._debug(i,"session from storage",u),!this._isValidSession(u)){this._debug(i,"session is not valid"),u!==null&&await this._removeSession();return}const h=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ru;if(this._debug(i,`session has${h?"":" not"} expired with margin of ${ru}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),su(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(i,"error",u),console.error(u);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var s,i;if(!a)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ji;const{data:h,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!h.session)throw new Rt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(u,"error",h),te(h)){const f={data:null,error:h};return su(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,s,i=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:s});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},a),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await wn(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const h=dg(u);await wn(this.storage,this.storageKey,h)}else{const u=dg(s);await wn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((i.expires_at*1e3-a)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${vn}ms, refresh threshold is ${pu} ticks`),u<=pu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ep)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,i){const u=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&u.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&u.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[h,f]=await gn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(i!=null&&i.queryParams){const h=new URLSearchParams(i.queryParams);u.push(h.toString())}return i!=null&&i.skipBrowserRedirect&&u.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var i;const{data:u,error:h}=s;return h?this._returnResult({data:null,error:h}):await ie(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var i,u;const{data:h,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:x}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=h==null?void 0:h.session)===null||i===void 0?void 0:i.access_token});return x?this._returnResult({data:null,error:x}):(a.factorType==="totp"&&p.type==="totp"&&(!((u=p==null?void 0:p.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Sw(a.webauthn.credential_response):Nw(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:kw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:jw(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=s==null?void 0:s.factors)!==null&&a!==void 0?a:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(a){var s,i,u,h;if(a)try{const{payload:_}=di(a);let T=null;_.aal&&(T=_.aal);let R=T;const{data:{user:N},error:O}=await this.getUser(a);if(O)return this._returnResult({data:null,error:O});((i=(s=N==null?void 0:N.factors)===null||s===void 0?void 0:s.filter(V=>V.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(R="aal2");const C=_.amr||[];return{data:{currentLevel:T,nextLevel:R,currentAuthenticationMethods:C},error:null}}catch(_){if(te(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=di(f.access_token);let x=null;p.aal&&(x=p.aal);let b=x;((h=(u=f.user.factors)===null||u===void 0?void 0:u.filter(_=>_.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(b="aal2");const k=p.amr||[];return{data:{currentLevel:x,nextLevel:b,currentAuthenticationMethods:k},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:i},error:u}=s;return u?this._returnResult({data:null,error:u}):i?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:u},error:h}=i;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Rt});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ot()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:u},error:h}=i;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Rt});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ot()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;return i?this._returnResult({data:null,error:i}):s?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:i},error:u}=s;return u?this._returnResult({data:null,error:u}):i?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let i=s.keys.find(m=>m.kid===a);if(i)return i;const u=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+Uv>u)return i;const{data:h,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,i=h.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,s={}){try{let i=a;if(!i){const{data:_,error:T}=await this.getSession();if(T||!_.session)return this._returnResult({data:null,error:T});i=_.session.access_token}const{header:u,payload:h,signature:f,raw:{header:m,payload:p}}=di(i);s!=null&&s.allowExpired||aw(h.exp);const x=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!x){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:h,header:u,signature:f},error:null}}const b=rw(u.alg),v=await crypto.subtle.importKey("jwk",x,b,!0,["verify"]);if(!await crypto.subtle.verify(b,v,f,Yv(`${m}.${p}`)))throw new yu("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}}zs.nextInstanceID={};const zw=zs,Mw="2.95.2";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const Lw={"X-Client-Info":`supabase-js-${Ns}/${Mw}`},Bw={headers:Lw},qw={schema:"public"},Hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$w={};function Ms(n){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ms(n)}function Gw(n,a){if(Ms(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,a);if(Ms(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function Yw(n){var a=Gw(n,"string");return Ms(a)=="symbol"?a:a+""}function Iw(n,a,s){return(a=Yw(a))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function bg(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,i)}return s}function Ge(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?bg(Object(s),!0).forEach(function(i){Iw(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):bg(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const Kw=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),Vw=()=>Headers,Pw=(n,a,s)=>{const i=Kw(s),u=Vw();return async(h,f)=>{var m;const p=(m=await a())!==null&&m!==void 0?m:n;let x=new u(f==null?void 0:f.headers);return x.has("apikey")||x.set("apikey",n),x.has("Authorization")||x.set("Authorization",`Bearer ${p}`),i(h,Ge(Ge({},f),{},{headers:x}))}};function Qw(n){return n.endsWith("/")?n:n+"/"}function Jw(n,a){var s,i;const{db:u,auth:h,realtime:f,global:m}=n,{db:p,auth:x,realtime:b,global:v}=a,k={db:Ge(Ge({},p),u),auth:Ge(Ge({},x),h),realtime:Ge(Ge({},b),f),storage:{},global:Ge(Ge(Ge({},v),m),{},{headers:Ge(Ge({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?k.accessToken=n.accessToken:delete k.accessToken,k}function Xw(n){const a=n==null?void 0:n.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Zw=class extends zw{constructor(n){super(n)}},Fw=class{constructor(n,a,s){var i,u;this.supabaseUrl=n,this.supabaseKey=a;const h=Xw(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:qw,realtime:$w,auth:Ge(Ge({},Hw),{},{storageKey:f}),global:Bw},p=Jw(s??{},m);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(u=p.global.headers)!==null&&u!==void 0?u:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=p.auth)!==null&&x!==void 0?x:{},this.headers,p.global.fetch)}this.fetch=Pw(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new M0(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new Av(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new T0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,s)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,s;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:u,storageKey:h,flowType:f,lock:m,debug:p,throwOnError:x},b,v){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zw({url:this.authUrl.href,headers:Ge(Ge({},k),b),storageKey:h,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:u,flowType:f,lock:m,debug:p,throwOnError:x,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new W0(this.realtimeUrl.href,Ge(Ge({},n),{},{params:Ge(Ge({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,a,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ww=(n,a,s)=>new Fw(n,a,s);function e_(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const a=n.version;if(a==null)return!1;const s=a.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}e_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t_="https://vqfrhibmaelnqwvheupg.supabase.co",a_="sb_publishable_qj_GNojhjSxRMntWTWPDrA_yRaqfFkS",De=Ww(t_,a_,{auth:{persistSession:!0,autoRefreshToken:!0}}),rp=j.createContext(void 0),r_=({children:n})=>{const[a,s]=j.useState(null),[i,u]=j.useState(null),[h,f]=j.useState(!0);j.useEffect(()=>{De.auth.getSession().then(({data:{session:b}})=>{u(b),s((b==null?void 0:b.user)??null),f(!1)});const{data:{subscription:x}}=De.auth.onAuthStateChange((b,v)=>{u(v),s((v==null?void 0:v.user)??null),f(!1)});return()=>{x.unsubscribe()}},[]);const p={user:a,session:i,loading:h,signOut:async()=>{await De.auth.signOut()}};return o.jsx(rp.Provider,{value:p,children:n})},Si=()=>{const n=j.useContext(rp);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},Le=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),n_=({item:n,onAddToCart:a})=>{var b;const[s,i]=j.useState(1),u=()=>i(v=>v+1),h=()=>i(v=>v>1?v-1:1),f=()=>{a(n,s),i(1)},m="6282324093711",p=encodeURIComponent(`Halo Kaka, saya mau pesan menu ini ${s} x ${n.name}`),x=`https://wa.me/${m}?text=${p}`;return o.jsxs("div",{className:"group flex flex-col gap-3 pb-4 bg-white dark:bg-[#2c241b] rounded-xl overflow-hidden border border-[#f4f2f0] dark:border-white/5 hover:shadow-xl hover:border-primary/20 dark:hover:border-primary/20 transition-all duration-300 h-full",children:[o.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[o.jsx("div",{className:"w-full h-full bg-center bg-no-repeat bg-cover transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:`url("${n.image}")`}}),o.jsx("div",{className:"absolute top-3 right-3 bg-white/95 dark:bg-[#2c241b]/95 backdrop-blur-sm px-2.5 py-1 rounded-md text-sm font-bold shadow-sm text-primary",children:Le(n.price)}),n.badge&&o.jsx("div",{className:"absolute top-3 left-3 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider shadow-sm",children:n.badge})]}),o.jsxs("div",{className:"px-5 pb-5 flex flex-col flex-1",children:[o.jsx("div",{className:"flex justify-between items-start mb-1",children:o.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight group-hover:text-primary transition-colors",children:n.name})}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm font-normal leading-relaxed mb-4 line-clamp-2",children:n.description}),(n.tags||n.rating||n.calories)&&o.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[n.rating&&o.jsxs("div",{className:"flex items-center text-yellow-500 gap-1",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),o.jsx("span",{className:"text-xs font-bold text-text-main dark:text-gray-200",children:n.rating})]}),n.calories&&o.jsxs("span",{className:"text-xs text-text-secondary dark:text-gray-400 font-medium",children:[n.calories," cal"]}),(b=n.tags)==null?void 0:b.map(v=>o.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded ${v==="Spicy"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":v==="Vegan"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:v},v))]}),o.jsxs("div",{className:"flex items-center justify-between mt-auto mb-3 pt-3 border-t border-[#f4f2f0] dark:border-white/10",children:[o.jsx("span",{className:"text-sm font-bold text-text-main dark:text-white",children:"Quantity"}),o.jsxs("div",{className:"flex items-center bg-background-light dark:bg-white/5 rounded-lg p-1 gap-1",children:[o.jsx("button",{onClick:h,className:"size-8 flex items-center justify-center rounded-md bg-white dark:bg-white/10 text-text-main dark:text-white shadow-sm hover:text-primary dark:hover:text-primary active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:s<=1,children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"remove"})}),o.jsx("span",{className:"w-8 text-center text-sm font-bold text-text-main dark:text-white",children:s}),o.jsx("button",{onClick:u,className:"size-8 flex items-center justify-center rounded-md bg-white dark:bg-white/10 text-text-main dark:text-white shadow-sm hover:text-primary dark:hover:text-primary active:scale-95 transition-all",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]})]}),o.jsxs("div",{className:"flex flex-col gap-2.5",children:[o.jsxs("button",{onClick:f,className:"w-full py-2.5 bg-background-light dark:bg-white/5 hover:bg-primary hover:text-white dark:hover:bg-primary text-text-main dark:text-white rounded-lg font-bold text-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_shopping_cart"}),"Add to Order"]}),o.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"w-full py-2.5 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-lg font-bold text-sm transition-all flex items-center justify-center gap-2 active:scale-95 shadow-sm",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.248-.57-.397M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.711 2.592 2.654-.698c.93.509 1.693.803 2.805.803 3.181 0 5.768-2.587 5.768-5.766.001-3.182-2.585-5.784-5.767-5.784zm9.391 3.66c-.366-1.055-.957-2.005-1.713-2.768a8.312 8.312 0 0 0-2.825-1.742c-1.11-.383-2.288-.582-3.486-.582-5.462 0-9.92 4.195-9.92 9.429 0 1.956.574 3.737 1.547 5.385l-1.026 3.864 3.998-1.055c1.474.832 3.129 1.295 4.888 1.295 5.925 0 10.748-4.819 10.748-10.744 0-1.08-.2-2.115-.561-3.082h-1.65v.001z"})}),"Order via WhatsApp"]})]})]})]})},s_=({items:n,onUpdateQuantity:a,onRemoveItem:s,onBackToMenu:i,onCheckout:u})=>{const[h,f]=Wa.useState(""),[m,p]=Wa.useState(""),[x,b]=Wa.useState(!1),[v,k]=Wa.useState(!1),[_,T]=Wa.useState("cashier"),R=n.reduce((D,C)=>D+C.price*C.quantity,0),N=R;Wa.useEffect(()=>{const D=localStorage.getItem("paypya_customer_name"),C=localStorage.getItem("paypya_table_number"),V=localStorage.getItem("paypya_table_locked")==="true";D&&f(D),C&&p(C),k(V)},[]);const O=async()=>{if(!h.trim()||!m.trim()){alert("Tolong isi Nama dan Nomor Meja Anda");return}try{if(b(!0),await u(n,R,h,m,_),_==="wa_checkout"){const D="6282324093711";let C=`*PESANAN BARU*
`;C+=`Nama: ${h}
`,C+=`Meja: ${m}
`,C+=`Metode: WhatsApp Checkout
`,C+=`----------------------------

`,n.forEach(Z=>{C+=`${Z.quantity}x ${Z.name} - ${Le(Z.price*Z.quantity)}
`}),C+=`
----------------------------
`,C+=`*Total: ${Le(R)}*`,C+=`

Mohon segera diproses ya Kaka, Terima Kasih! `;const V=`https://wa.me/${D}?text=${encodeURIComponent(C)}`;window.open(V,"_blank")}else alert("Pemesanan Berhasil! Silakan tunjukkan Invoice Anda ke kasir untuk melakukan pembayaran.")}catch(D){console.error("Checkout error:",D),alert("Gagal memproses pesanan. Silakan coba lagi.")}finally{b(!1)}};return n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-[60vh] text-center px-4 animate-fade-in",children:[o.jsx("div",{className:"bg-primary/5 dark:bg-primary/10 p-8 rounded-full mb-6",children:o.jsx("span",{className:"material-symbols-outlined text-6xl text-primary opacity-50",children:"shopping_cart_off"})}),o.jsx("h2",{className:"text-2xl font-bold text-text-main dark:text-white mb-3",children:"Your cart is empty"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 mb-8 max-w-md",children:"Looks like you haven't added anything to your cart yet. Explore our menu to find something delicious!"}),o.jsxs("button",{onClick:i,className:"px-8 py-3 bg-primary hover:bg-primary-dark text-white rounded-xl font-bold shadow-lg shadow-primary/20 transition-all active:scale-95 flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"restaurant_menu"}),"Browse Menu"]})]}):o.jsxs("div",{className:"w-full max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-8 animate-fade-in",children:[o.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary font-medium mb-8 transition-colors group",children:[o.jsx("span",{className:"material-symbols-outlined text-xl group-hover:-translate-x-1 transition-transform",children:"arrow_back"}),"Back to Menu"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main dark:text-white mb-8",children:"Your Cart"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-12",children:[o.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6",children:n.map(D=>o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-white dark:bg-[#2c241b] rounded-2xl border border-[#f4f2f0] dark:border-white/5 shadow-sm hover:shadow-md transition-all",children:[o.jsx("div",{className:"w-full sm:w-32 aspect-square sm:aspect-[4/3] rounded-xl overflow-hidden shrink-0 relative",children:o.jsx("img",{src:D.image,alt:D.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex flex-col flex-1 justify-between gap-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-white leading-tight mb-1",children:D.name}),o.jsx("p",{className:"text-sm text-text-secondary dark:text-gray-400 line-clamp-1",children:D.description})]}),o.jsx("button",{onClick:()=>s(D.id),className:"text-text-secondary dark:text-gray-400 hover:text-red-500 transition-colors p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Remove item",children:o.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),o.jsxs("div",{className:"flex items-end justify-between mt-auto",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center bg-background-light dark:bg-white/5 rounded-lg p-1 gap-1",children:[o.jsx("button",{onClick:()=>a(D.id,D.quantity-1),className:"size-7 flex items-center justify-center rounded-md bg-white dark:bg-white/10 text-text-main dark:text-white shadow-sm hover:text-primary dark:hover:text-primary active:scale-95 disabled:opacity-50 transition-all",disabled:D.quantity<=1,children:o.jsx("span",{className:"material-symbols-outlined text-base",children:"remove"})}),o.jsx("span",{className:"w-8 text-center text-sm font-bold text-text-main dark:text-white",children:D.quantity}),o.jsx("button",{onClick:()=>a(D.id,D.quantity+1),className:"size-7 flex items-center justify-center rounded-md bg-white dark:bg-white/10 text-text-main dark:text-white shadow-sm hover:text-primary dark:hover:text-primary active:scale-95 transition-all",children:o.jsx("span",{className:"material-symbols-outlined text-base",children:"add"})})]})}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-xs text-text-secondary dark:text-gray-400 mb-0.5",children:[Le(D.price)," / unit"]}),o.jsx("p",{className:"text-lg font-bold text-primary",children:Le(D.price*D.quantity)})]})]})]})]},D.id))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white dark:bg-[#2c241b] rounded-2xl border border-[#f4f2f0] dark:border-white/5 shadow-lg p-6 sticky top-28",children:[o.jsx("h3",{className:"text-xl font-bold text-text-main dark:text-white mb-6",children:"Order Summary"}),o.jsxs("div",{className:"flex flex-col gap-4 mb-6 pb-6 border-b border-[#f4f2f0] dark:border-white/10",children:[o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("label",{className:"text-xs font-black text-text-secondary dark:text-gray-400 uppercase tracking-wider",children:"Customer Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg",children:"person"}),o.jsx("input",{type:"text",placeholder:"E.g. John Doe",value:h,onChange:D=>f(D.target.value),className:"w-full bg-background-light dark:bg-white/5 border border-[#f4f2f0] dark:border-white/10 rounded-xl pl-10 pr-4 py-2.5 text-sm font-bold text-text-main dark:text-white outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all underline-none"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-xs font-black text-text-secondary dark:text-gray-400 uppercase tracking-wider",children:"Table Number"}),v&&o.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-500 uppercase tracking-tight",children:[o.jsx("span",{className:"material-symbols-outlined text-xs",children:"lock"}),"Locked by QR"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg",children:"table_restaurant"}),o.jsx("input",{type:"text",placeholder:"E.g. 12",value:m,onChange:D=>!v&&p(D.target.value),readOnly:v,className:`w-full bg-background-light dark:bg-white/5 border border-[#f4f2f0] dark:border-white/10 rounded-xl pl-10 pr-4 py-2.5 text-sm font-bold text-text-main dark:text-white outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all underline-none ${v?"opacity-70 cursor-not-allowed bg-gray-50 dark:bg-white/5":""}`})]})]})]}),o.jsx("div",{className:"flex flex-col gap-3 mb-6 pb-6 border-b border-[#f4f2f0] dark:border-white/10",children:o.jsxs("div",{className:"flex justify-between text-text-secondary dark:text-gray-400 text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsx("span",{className:"font-medium text-text-main dark:text-white",children:Le(R)})]})}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("span",{className:"text-lg font-bold text-text-main dark:text-white",children:"Total"}),o.jsx("span",{className:"text-2xl font-black text-primary",children:Le(N)})]}),o.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[o.jsx("label",{className:"text-[10px] font-black text-text-secondary dark:text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Metode Pembayaran"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>T("cashier"),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border transition-all ${_==="cashier"?"bg-primary/10 border-primary text-primary shadow-sm":"bg-background-light dark:bg-white/5 border-[#f4f2f0] dark:border-white/10 text-text-secondary dark:text-gray-400 hover:border-gray-300"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"payments"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"Kasir"})]}),o.jsxs("button",{onClick:()=>T("wa_checkout"),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border transition-all ${_==="wa_checkout"?"bg-[#25D366]/10 border-[#25D366] text-[#25D366] shadow-sm":"bg-background-light dark:bg-white/5 border-[#f4f2f0] dark:border-white/10 text-text-secondary dark:text-gray-400 hover:border-gray-300"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"chat"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"WhatsApp"})]})]})]}),o.jsx("button",{onClick:O,disabled:x||!h.trim()||!m.trim(),className:`w-full py-4 rounded-2xl font-black text-white text-lg transition-all active:scale-[0.98] shadow-xl flex items-center justify-center gap-3 ${_==="wa_checkout"?"bg-[#25D366] hover:bg-[#20bd5a] shadow-[#25D366]/20":"bg-primary hover:bg-primary-dark shadow-primary/20"} ${x?"opacity-70 cursor-not-allowed":""}`,children:x?"Memproses...":_==="wa_checkout"?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"material-symbols-outlined",children:"send"}),"Checkout via WA"]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"material-symbols-outlined",children:"receipt_long"}),"Pesan Sekarang"]})}),o.jsx("p",{className:"text-center text-xs text-text-secondary dark:text-gray-400 mt-3",children:"Proceed to send your order details directly to our staff."})]})})]})]})};async function l_(){const{data:n,error:a}=await De.from("locations").select("*").order("display_order",{ascending:!0});if(a)throw a;return n}const i_="/assets/locationpageimage-CGb6iTT0.jpeg",o_=()=>{const[n,a]=j.useState([]),[s,i]=j.useState(!0);return j.useEffect(()=>{async function u(){try{i(!0);const f=(await l_()).slice(0,1).map(m=>({...m,image_url:i_,address:"Jl. Waiwerang Sagu, Waiwerang Kota, Kec. Adonara Tim.",city:"Kabupaten Flores Timur, Nusa Tenggara Tim.",map_url:"https://maps.app.goo.gl/HjaqEKW3vso7Gkyg7",hours:[{day:"Mon - Fri",time:"11.00 - 00:00"},{day:"Sat - Sun",time:"17:00 - 00:00"}]}));a(f)}catch(h){console.error("Failed to load locations:",h)}finally{i(!1)}}u()},[]),s?o.jsx("div",{className:"w-full flex items-center justify-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):o.jsxs("div",{className:"w-full max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-12 animate-fade-in",children:[o.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main dark:text-white mb-4 tracking-tight",children:"Visit Us"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-lg",children:"Experience our atmosphere in person. Enjoy free Wi-Fi, comfortable seating, and the aroma of freshly brewed coffee."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-12",children:n.map((u,h)=>o.jsxs("div",{className:`flex flex-col ${h%2===0?"lg:flex-row":"lg:flex-row-reverse"} bg-white dark:bg-[#2c241b] rounded-3xl overflow-hidden shadow-sm border border-[#f4f2f0] dark:border-white/5 hover:shadow-xl transition-shadow duration-300`,children:[o.jsxs("div",{className:"w-full lg:w-1/2 h-64 lg:h-auto relative overflow-hidden group",children:[o.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url(${u.image_url})`}}),o.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"})]}),o.jsxs("div",{className:"w-full lg:w-1/2 p-8 md:p-12 flex flex-col justify-center",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"storefront"}),o.jsx("span",{className:"text-primary font-bold tracking-widest uppercase text-xs",children:"Our Store"})]}),o.jsx("h2",{className:"text-3xl font-bold text-text-main dark:text-white mb-6",children:u.name}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"size-10 rounded-full bg-background-light dark:bg-white/5 flex items-center justify-center shrink-0 text-text-secondary dark:text-gray-400",children:o.jsx("span",{className:"material-symbols-outlined",children:"location_on"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-text-main dark:text-white",children:"Address"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 leading-relaxed",children:u.address}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400",children:u.city})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"size-10 rounded-full bg-background-light dark:bg-white/5 flex items-center justify-center shrink-0 text-text-secondary dark:text-gray-400",children:o.jsx("span",{className:"material-symbols-outlined",children:"schedule"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-text-main dark:text-white",children:"Opening Hours"}),u.hours.map((f,m)=>o.jsxs("div",{className:"flex gap-4 text-text-secondary dark:text-gray-400",children:[o.jsx("span",{className:"w-20",children:f.day}),o.jsx("span",{children:f.time})]},m))]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"size-10 rounded-full bg-background-light dark:bg-white/5 flex items-center justify-center shrink-0 text-text-secondary dark:text-gray-400",children:o.jsx("span",{className:"material-symbols-outlined",children:"call"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-text-main dark:text-white",children:"Contact"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400",children:u.phone}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400",children:u.email})]})]})]}),o.jsxs("a",{href:u.map_url,target:"_blank",rel:"noopener noreferrer",className:"mt-8 inline-flex items-center justify-center gap-2 px-6 py-3 bg-text-main dark:bg-white hover:bg-primary dark:hover:bg-primary text-white dark:text-text-main dark:hover:text-white rounded-xl font-bold transition-all w-fit active:scale-95 shadow-lg shadow-gray-200 dark:shadow-none",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"map"}),"Get Directions"]})]})]},u.id))})]})};async function c_(n){const{data:a,error:s}=await De.from("contact_messages").insert({...n,status:"Unread"}).select().single();if(s)throw s;return a}const u_=()=>{const[n,a]=j.useState({name:"",email:"",message:""}),[s,i]=j.useState(!1),u=f=>{a(m=>({...m,[f.target.name]:f.target.value}))},h=async f=>{f.preventDefault();try{i(!0),await c_(n),alert(`Thank you, ${n.name}! We have received your message.`),a({name:"",email:"",message:""})}catch(m){console.error("Failed to send message:",m),alert("Failed to send message. Please try again.")}finally{i(!1)}};return o.jsxs("div",{className:"w-full max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-12 animate-fade-in",children:[o.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main dark:text-white mb-4 tracking-tight",children:"Get in Touch"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-lg",children:"Have a question or feedback? We'd love to hear from you. Fill out the form below or reach out to us directly."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"bg-white dark:bg-[#2c241b] p-8 rounded-3xl border border-[#f4f2f0] dark:border-white/5 shadow-sm",children:[o.jsx("h2",{className:"text-2xl font-bold text-text-main dark:text-white mb-6",children:"Send us a Message"}),o.jsxs("form",{onSubmit:h,className:"flex flex-col gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-text-main dark:text-gray-200 mb-2",children:"Name"}),o.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:n.name,onChange:u,className:"w-full px-4 py-3 rounded-xl bg-background-light dark:bg-white/5 border border-transparent focus:border-primary focus:ring-0 text-text-main dark:text-white transition-all placeholder:text-gray-400",placeholder:"Your name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-text-main dark:text-gray-200 mb-2",children:"Email"}),o.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:n.email,onChange:u,className:"w-full px-4 py-3 rounded-xl bg-background-light dark:bg-white/5 border border-transparent focus:border-primary focus:ring-0 text-text-main dark:text-white transition-all placeholder:text-gray-400",placeholder:"your@email.com"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-bold text-text-main dark:text-gray-200 mb-2",children:"Message"}),o.jsx("textarea",{id:"message",name:"message",required:!0,rows:4,value:n.message,onChange:u,className:"w-full px-4 py-3 rounded-xl bg-background-light dark:bg-white/5 border border-transparent focus:border-primary focus:ring-0 text-text-main dark:text-white transition-all resize-none placeholder:text-gray-400",placeholder:"How can we help you?"})]}),o.jsx("button",{type:"submit",disabled:s,className:`mt-2 w-full py-3.5 bg-primary hover:bg-primary-dark text-white rounded-xl font-bold text-base transition-all active:scale-95 shadow-lg shadow-primary/20 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Sending...":"Send Message"})]})]}),o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs("div",{className:"bg-white dark:bg-[#2c241b] p-8 rounded-3xl border border-[#f4f2f0] dark:border-white/5 shadow-sm flex items-start gap-5",children:[o.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0 text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"mail"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-text-main dark:text-white mb-1",children:"Email Us"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 mb-2",children:"For general inquiries and support."}),o.jsx("a",{href:"mailto:hello@paypya.com",className:"text-primary font-bold hover:underline",children:"hello@paypya.com"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-[#2c241b] p-8 rounded-3xl border border-[#f4f2f0] dark:border-white/5 shadow-sm flex items-start gap-5",children:[o.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0 text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"call"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-text-main dark:text-white mb-1",children:"Call Us"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 mb-2",children:"Mon-Fri from 8am to 5pm."}),o.jsx("a",{href:"tel:+628123456789",className:"text-primary font-bold hover:underline",children:"+62 812 3456 789"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-[#2c241b] p-8 rounded-3xl border border-[#f4f2f0] dark:border-white/5 shadow-sm flex items-start gap-5",children:[o.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0 text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"chat"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-text-main dark:text-white mb-1",children:"Live Chat"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 mb-2",children:"Chat with our support team in real-time."}),o.jsx("button",{className:"text-primary font-bold hover:underline text-left",children:"Start Chat"})]})]})]})]})]})},d_=({onBackToMenu:n,onViewInvoice:a})=>{const[s,i]=j.useState([]);return j.useEffect(()=>{try{const u=localStorage.getItem("paypya_orders");u&&i(JSON.parse(u))}catch(u){console.error("Failed to load orders",u)}},[]),s.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-[60vh] text-center px-4 animate-fade-in",children:[o.jsx("div",{className:"bg-primary/5 dark:bg-primary/10 p-8 rounded-full mb-6",children:o.jsx("span",{className:"material-symbols-outlined text-6xl text-primary opacity-50",children:"receipt_long"})}),o.jsx("h2",{className:"text-2xl font-bold text-text-main dark:text-white mb-3",children:"No orders yet"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 mb-8 max-w-md",children:"You haven't placed any orders yet. Once you do, they will show up here."}),o.jsxs("button",{onClick:n,className:"px-8 py-3 bg-primary hover:bg-primary-dark text-white rounded-xl font-bold shadow-lg shadow-primary/20 transition-all active:scale-95 flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"restaurant_menu"}),"Browse Menu"]})]}):o.jsxs("div",{className:"w-full max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-8 animate-fade-in",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary font-medium mb-8 transition-colors group",children:[o.jsx("span",{className:"material-symbols-outlined text-xl group-hover:-translate-x-1 transition-transform",children:"arrow_back"}),"Back to Menu"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main dark:text-white mb-8",children:"Order History"}),o.jsx("div",{className:"flex flex-col gap-6",children:s.map(u=>o.jsxs("div",{className:"bg-white dark:bg-[#2c241b] rounded-2xl border border-[#f4f2f0] dark:border-white/5 shadow-sm p-6 overflow-hidden",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-6 pb-6 border-b border-[#f4f2f0] dark:border-white/5",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_bag"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-text-main dark:text-white",children:["Order #",u.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-text-secondary dark:text-gray-400",children:[new Date(u.date).toLocaleDateString()," at ",new Date(u.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx("p",{className:"text-2xl font-black text-primary",children:Le(u.total)}),o.jsxs("button",{onClick:()=>a(u),className:"text-xs font-bold text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary flex items-center gap-1 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"description"}),"View Invoice"]})]})]}),o.jsx("div",{className:"space-y-4",children:u.items.map((h,f)=>o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"size-12 rounded-lg bg-gray-100 dark:bg-white/5 overflow-hidden shrink-0",children:o.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-text-main dark:text-white text-sm sm:text-base",children:[o.jsxs("span",{className:"text-primary mr-2",children:[h.quantity,"x"]}),h.name]}),o.jsxs("p",{className:"text-xs text-text-secondary dark:text-gray-400 sm:hidden",children:[Le(h.price)," / unit"]})]})]}),o.jsx("p",{className:"font-bold text-text-main dark:text-white text-sm sm:text-base",children:Le(h.price*h.quantity)})]},f))})]},u.id))})]})},np=({order:n,onBack:a})=>{const s=j.useRef(null),i=()=>{window.print()},u=()=>{if(!s.current)return;const f=s.current,m={margin:0,filename:`Invoice-${n.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf().set(m).from(f).save()},h=()=>{const f="6282324093711";let m=`*INVOICE ORDER #${n.id}*
`;m+=`Customer: ${n.customerName||"Guest"}
`,n.tableNumber&&(m+=`Meja: ${n.tableNumber}
`),m+=`Tanggal: ${new Date(n.date).toLocaleDateString()}
`,m+=`Total: ${Le(n.total)}

`,m+=`Detail Pesanan:
`,n.items.forEach(x=>{m+=`- ${x.quantity}x ${x.name} (${Le(x.price*x.quantity)})
`}),m+=`
Terima kasih telah memesan di PAYPYA Cafe! `;const p=`https://wa.me/${f}?text=${encodeURIComponent(m)}`;window.open(p,"_blank")};return o.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-zinc-900 py-8 px-4 animate-fade-in print:bg-white print:p-0",children:[o.jsx("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          body {
            print-color-adjust: exact !important;
            -webkit-print-color-adjust: exact !important;
          }
          .animate-fade-in {
            animation: none !important;
          }
        }
      `}),o.jsxs("div",{className:"max-w-3xl mx-auto mb-6 flex flex-wrap justify-between items-center gap-4 print:hidden",children:[o.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary dark:text-gray-400 hover:text-text-main dark:hover:text-white transition-colors font-medium",children:[o.jsx("span",{className:"material-symbols-outlined font-variation-settings-fill",children:"arrow_back"}),"Back"]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-xl font-bold text-sm shadow-md transition-all active:scale-95",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"send"}),"WhatsApp"]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-900 text-white rounded-xl font-bold text-sm shadow-md transition-all active:scale-95",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"download"}),"Save PDF"]}),o.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-xl font-bold text-sm shadow-md transition-all active:scale-95",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"print"}),"Print"]})]})]}),o.jsxs("div",{ref:s,className:"max-w-3xl mx-auto bg-white dark:bg-[#2c241b] rounded-2xl shadow-xl overflow-hidden print:shadow-none print:rounded-none print:w-full print:max-w-none dark:print:bg-white dark:print:text-black",children:[o.jsx("div",{className:"bg-primary/5 dark:bg-white/5 p-8 sm:p-12 border-b border-[#e6e0db] dark:border-white/10 print:bg-gray-50 dark:print:bg-gray-50",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 text-primary mb-6",children:[o.jsx("div",{className:"size-12 rounded-xl bg-primary text-white flex items-center justify-center shadow-lg shadow-primary/20",children:o.jsx("span",{className:"material-symbols-outlined text-2xl font-variation-settings-fill",children:"restaurant_menu"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-black tracking-tight text-text-main dark:text-white dark:print:text-black leading-none",children:"PAYPYA"}),o.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] opacity-60",children:"Cafe & Resto"})]})]}),o.jsxs("div",{className:"text-xs text-text-secondary dark:text-gray-400 dark:print:text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-bold text-text-main dark:text-white dark:print:text-black",children:"PAYPYA Cafe"}),o.jsx("p",{children:"Jl. Waiwerang Sagu, Waiwerang Kota, Kec. Adonara Tim."}),o.jsx("p",{children:"Kabupaten Flores Timur, Nusa Tenggara Tim."}),o.jsx("p",{children:"hello@paypya.com | +62 823 2409 3711"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("h2",{className:"text-5xl font-black text-slate-200 dark:text-white/10 dark:print:text-gray-200 mb-1 leading-none select-none",children:"INVOICE"}),o.jsxs("p",{className:"text-primary font-black text-xl mb-4",children:["#",n.id]}),o.jsxs("div",{className:"text-xs text-text-secondary dark:text-gray-400 dark:print:text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Date: ",o.jsx("span",{className:"font-bold text-text-main dark:text-white dark:print:text-black",children:new Date(n.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),o.jsxs("p",{children:["Time: ",o.jsx("span",{className:"font-bold text-text-main dark:text-white dark:print:text-black",children:new Date(n.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsx("span",{className:`font-black uppercase text-[10px] tracking-widest px-3 py-1 rounded-lg ${n.status==="Completed"?"bg-emerald-100 text-emerald-800":n.status==="Cancelled"?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:n.status||"Pending"})})]})]})]})}),o.jsxs("div",{className:"px-8 sm:px-12 py-8 bg-[#fdfdfd] dark:bg-white/2 border-b border-[#e6e0db] dark:border-white/10 grid grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-black text-text-secondary dark:text-gray-500 uppercase tracking-widest mb-2",children:"Billed To"}),o.jsx("h3",{className:"text-lg font-black text-text-main dark:text-white dark:print:text-black leading-tight mb-1",children:n.customerName||"Guest Customer"}),n.tableNumber&&o.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-primary/10 text-primary rounded-md",children:[o.jsx("span",{className:"material-symbols-outlined text-sm font-variation-settings-fill",children:"table_restaurant"}),o.jsxs("span",{className:"text-xs font-black tracking-tight",children:["Table ",n.tableNumber]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[10px] font-black text-text-secondary dark:text-gray-500 uppercase tracking-widest mb-2",children:"Payment Status"}),o.jsxs("div",{className:"flex items-center justify-end gap-2 text-emerald-600 font-black",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"check_circle"}),o.jsx("span",{className:"text-sm",children:"Paid via Counter"})]}),o.jsx("p",{className:"text-[10px] text-text-secondary opacity-60 mt-1 italic",children:"Vat Inc. 10%"})]})]}),o.jsxs("div",{className:"p-8 sm:p-12",children:[o.jsx("div",{className:"overflow-x-auto no-scrollbar",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-slate-900/5 dark:border-white/10 text-[10px] uppercase font-black tracking-[0.2em] text-text-secondary dark:text-gray-500",children:[o.jsx("th",{className:"pb-6",children:"Item Description"}),o.jsx("th",{className:"pb-6 text-center",children:"Qty"}),o.jsx("th",{className:"pb-6 text-right",children:"Unit Price"}),o.jsx("th",{className:"pb-6 text-right",children:"Total Amount"})]})}),o.jsx("tbody",{className:"text-sm text-text-main dark:text-white dark:print:text-black",children:n.items.map((f,m)=>o.jsxs("tr",{className:"border-b border-[#f4f2f0] dark:border-white/5 last:border-0 hover:bg-gray-50/50 dark:hover:bg-white/2 transition-colors",children:[o.jsxs("td",{className:"py-6 pr-4",children:[o.jsx("p",{className:"font-bold text-base leading-tight mb-0.5",children:f.name}),o.jsx("p",{className:"text-xs text-text-secondary dark:text-gray-400 dark:print:text-gray-500 line-clamp-1 opacity-70 italic",children:f.description})]}),o.jsx("td",{className:"py-6 text-center font-bold",children:f.quantity}),o.jsx("td",{className:"py-6 text-right whitespace-nowrap opacity-70 tracking-tight",children:Le(f.price)}),o.jsx("td",{className:"py-6 text-right font-black whitespace-nowrap text-primary tracking-tight text-base",children:Le(f.price*f.quantity)})]},m))})]})}),o.jsx("div",{className:"mt-12 pt-8 border-t-2 border-slate-900/5 dark:border-white/10 flex justify-end",children:o.jsxs("div",{className:"w-full sm:w-72 space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-text-secondary dark:text-gray-400 dark:print:text-gray-600",children:[o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Subtotal"}),o.jsx("span",{className:"font-black text-text-main dark:text-white dark:print:text-black tracking-tight",children:Le(n.total)})]}),o.jsxs("div",{className:"flex justify-between text-text-secondary dark:text-gray-400 dark:print:text-gray-600",children:[o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Service Fee"}),o.jsx("span",{className:"font-black text-text-main dark:text-white dark:print:text-black tracking-tight",children:Le(0)})]}),o.jsxs("div",{className:"flex justify-between items-center bg-primary/5 dark:bg-primary/10 p-4 rounded-xl border border-primary/10",children:[o.jsx("span",{className:"text-sm font-black text-text-main dark:text-white dark:print:text-black uppercase tracking-widest",children:"Grand Total"}),o.jsx("span",{className:"text-2xl font-black text-primary tracking-tighter",children:Le(n.total)})]})]})}),o.jsxs("div",{className:"mt-24 pt-12 border-t border-dashed border-[#e6e0db] dark:border-white/10 flex flex-col md:flex-row justify-between items-center gap-8 opacity-70",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h3",{className:"text-sm font-black text-text-main dark:text-white dark:print:text-black mb-1",children:"PAYPYA Cafe"}),o.jsx("p",{className:"text-[10px] text-text-secondary dark:text-gray-500 max-w-[240px]",children:"Jl. Waiwerang Sagu, Waiwerang Kota, Kec. Adonara Tim., Kabupaten Flores Timur. Thank you for dining with us!"})]}),o.jsxs("div",{className:"flex items-center gap-4 text-text-secondary dark:text-gray-500",children:[o.jsxs("div",{className:"text-center px-4 border-r border-[#e6e0db] dark:border-white/10",children:[o.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest mb-1",children:"Wifi Pass"}),o.jsx("p",{className:"text-xs font-bold text-primary italic",children:"paypyacafe2024"})]}),o.jsxs("div",{className:"text-center px-4",children:[o.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest mb-1",children:"Instagram"}),o.jsx("p",{className:"text-xs font-bold text-text-main dark:text-white dark:print:text-black tracking-tight",children:"@paypya.cafe"})]})]})]}),o.jsx("div",{className:"mt-8 text-center border-t border-[#f4f2f0] dark:border-white/5 pt-8 print:mt-12",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-text-secondary dark:text-gray-500 text-[10px] font-bold uppercase tracking-[0.3em]",children:[o.jsx("span",{className:"material-symbols-outlined text-sm font-variation-settings-fill",children:"verified"}),"Original Digital Invoice"]})})]})]})]})},sa=({items:n,className:a=""})=>n.length===0?null:o.jsx("nav",{"aria-label":"Breadcrumb",className:`flex items-center gap-2 overflow-x-auto no-scrollbar whitespace-nowrap py-2.5 px-3 rounded-xl transition-all duration-300 backdrop-blur-md bg-white/5 border border-white/10 shadow-sm ${a}`,children:o.jsx("ol",{className:"flex items-center gap-2 m-0 p-0 list-none",children:n.map((s,i)=>{const u=s.isLast||s.active||i===n.length-1;return o.jsxs("li",{className:"flex items-center gap-2 group",children:[i>0&&o.jsx("span",{className:"material-symbols-outlined text-slate-300 dark:text-slate-600 text-[18px] select-none animate-in fade-in slide-in-from-left-1 duration-500 delay-150",children:"chevron_right"}),o.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded-lg transition-all duration-300 ${u?"text-text-main-light dark:text-white font-bold bg-primary/10 dark:bg-primary/20 scale-105":"text-text-sub-light dark:text-text-sub-dark hover:text-primary dark:hover:text-blue-400 hover:bg-white/10"}`,children:[s.icon&&o.jsx("span",{className:`material-symbols-outlined text-[18px] transition-all duration-300 group-hover:scale-110 ${u?"text-primary":"text-slate-400 group-hover:text-primary"}`,children:s.icon}),s.path&&!u?o.jsx(ut,{to:s.path,className:"text-[14px] tracking-tight decoration-none outline-none font-medium",children:s.label}):s.onClick&&!u?o.jsx("button",{onClick:s.onClick,className:"text-[14px] tracking-tight decoration-none outline-none border-none bg-transparent p-0 cursor-pointer font-medium text-inherit",children:s.label}):o.jsx("span",{className:"text-[14px] tracking-tight font-bold",children:s.label})]})]},i)})})});function sp(n){return{id:n.id,label:n.name,slug:n.slug,icon:n.icon,description:n.description,displayOrder:n.display_order}}function lp(n){return{id:n.id,name:n.name,description:n.description,price:n.price,image:n.image_url,categoryId:n.category_id,rating:n.rating??void 0,calories:n.calories??void 0,tags:n.tags??void 0,badge:n.badge??void 0,isAvailable:n.is_available}}async function Er(){const{data:n,error:a}=await De.from("categories").select("*").order("display_order",{ascending:!0});if(a)throw console.error("Error fetching categories:",a),a;return n||[]}async function h_(n){const{data:a,error:s}=await De.from("categories").select("*").eq("id",n).single();if(s)throw console.error("Error fetching category:",s),s;return a}async function f_(n){const{data:a,error:s}=await De.from("categories").insert([n]).select().single();if(s)throw console.error("Error creating category:",s),s;return a}async function m_(n,a){const{data:s,error:i}=await De.from("categories").update(a).eq("id",n).select().single();if(i)throw console.error("Error updating category:",i),i;return s}async function yg(n){const{error:a}=await De.from("categories").delete().eq("id",n);if(a)throw console.error("Error deleting category:",a),a}async function Ni(n){let a=De.from("products").select("*").order("created_at",{ascending:!1});if(n!=null&&n.categoryId&&(a=a.eq("category_id",n.categoryId)),(n==null?void 0:n.isAvailable)!==void 0&&(a=a.eq("is_available",n.isAvailable)),n!=null&&n.searchQuery){const u=`%${n.searchQuery}%`;a=a.or(`name.ilike.${u},description.ilike.${u}`)}const{data:s,error:i}=await a;if(i)throw console.error("Error fetching products:",i),i;return s||[]}async function g_(n){const{data:a,error:s}=await De.from("products").select("*").eq("id",n).single();if(s)throw console.error("Error fetching product:",s),s;return a}async function p_(n){const{data:a,error:s}=await De.from("products").insert([n]).select().single();if(s)throw console.error("Error creating product:",s),s;return a}async function x_(n,a){const{data:s,error:i}=await De.from("products").update(a).eq("id",n).select().single();if(i)throw console.error("Error updating product:",i),i;return s}async function vg(n){const{error:a}=await De.from("products").delete().eq("id",n);if(a)throw console.error("Error deleting product:",a),a}async function ip(n){const a=n.name.split(".").pop(),i=`products/${`${Math.random().toString(36).substring(2)}-${Date.now()}.${a}`}`,{error:u}=await De.storage.from("paypya-bucket").upload(i,n,{cacheControl:"3600",upsert:!1});if(u)throw console.error("Error uploading image:",u),u;const{data:h}=De.storage.from("paypya-bucket").getPublicUrl(i);return h.publicUrl}async function op(){const{data:n,error:a}=await De.from("orders").select("*, order_items(*, products(name))").order("created_at",{ascending:!1});if(a)throw a;return n}async function cp(n,a){const s=new Date,i=`${s.getDate().toString().padStart(2,"0")}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getFullYear()}`,u=Math.random().toString(36).slice(2,8).toUpperCase(),h=`ORD-${i}-${u}`,{data:f,error:m}=await De.from("orders").insert({...n,order_number:h,status:"Pending"}).select().single();if(m)throw m;const p=a.map(b=>({...b,order_id:f.id})),{error:x}=await De.from("order_items").insert(p);if(x)throw x;return f}async function b_(n,a){const{data:s,error:i}=await De.from("orders").update({status:a}).eq("id",n).select().single();if(i)throw i;return s}async function y_(n){const{error:a}=await De.from("orders").delete().eq("id",n);if(a)throw a}async function v_(){const{data:n,error:a}=await De.from("orders").select("total_amount, status");if(a)throw a;const s=n.reduce((u,h)=>u+Number(h.total_amount),0),i=n.length;return{totalRevenue:s,totalOrders:i}}const hi=8;function w_(){const[n,a]=j.useState([]),[s,i]=j.useState([]),[u,h]=j.useState(""),[f,m]=j.useState(""),[p,x]=j.useState([]),[b,v]=j.useState("menu"),[k,_]=j.useState(null),[T,R]=j.useState("light"),[N,O]=j.useState(!0),[D,C]=j.useState(1),[V,Z]=j.useState(null),{user:I}=Si(),Q=na();j.useEffect(()=>{I&&Q("/dashboard")},[I,Q]),j.useEffect(()=>{async function w(){try{O(!0),Z(null);const P=(await Er()).map(sp);a(P),P.length>0&&!u&&h(P[0].id);const re=(await Ni({isAvailable:!0})).map(lp);i(re)}catch(L){console.error("Error loading data:",L),Z("Failed to load menu data. Please refresh the page.")}finally{O(!1)}}w()},[]),j.useEffect(()=>{const L=new URLSearchParams(window.location.search).get("table");L&&(localStorage.setItem("paypya_table_number",L),localStorage.setItem("paypya_table_locked","true"),console.log("Detected table number from URL:",L))},[]),j.useEffect(()=>{const w=localStorage.getItem("theme");w?R(w):window.matchMedia("(prefers-color-scheme: dark)").matches&&R("dark")},[]),j.useEffect(()=>{T==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",T)},[T]);const le=()=>{R(w=>w==="light"?"dark":"light")},K=n.find(w=>w.id===u),me=p.reduce((w,L)=>w+L.quantity,0),we=f.trim().length>0,ue=j.useMemo(()=>{const w=f.toLowerCase().trim();return w.length>0?s.filter(L=>{var P;return L.name.toLowerCase().includes(w)||L.description.toLowerCase().includes(w)||((P=L.tags)==null?void 0:P.some(X=>X.toLowerCase().includes(w)))}):s.filter(L=>L.categoryId===u)},[u,f,s]);j.useEffect(()=>{C(1)},[u,f]);const Xe=Math.ceil(ue.length/hi),mt=j.useMemo(()=>{const w=(D-1)*hi;return ue.slice(w,w+hi)},[ue,D]),ht=(w,L)=>{x(P=>P.find(re=>re.id===w.id)?P.map(re=>re.id===w.id?{...re,quantity:re.quantity+L}:re):[...P,{...w,quantity:L}])},q=(w,L)=>{L<1||x(P=>P.map(X=>X.id===w?{...X,quantity:L}:X))},J=w=>{x(L=>L.filter(P=>P.id!==w))},Y=async(w,L,P,X,re)=>{try{O(!0);const de=await cp({total_amount:L,customer_name:P,table_number:X,payment_method:re},w.map(Ue=>({product_id:Ue.id,quantity:Ue.quantity,price_at_time:Ue.price}))),_e={id:de.id,order_number:de.order_number,date:new Date().toISOString(),items:w,total:L,status:"Pending",customerName:P,tableNumber:X,paymentMethod:re},tt=JSON.parse(localStorage.getItem("paypya_orders")||"[]");localStorage.setItem("paypya_orders",JSON.stringify([_e,...tt])),x([]),_(_e),v("invoice")}catch(de){console.error("Failed to place order:",de),alert("Failed to place order. Please try again.")}finally{O(!1)}},ne=()=>{const w={label:"Home",icon:"home",onClick:()=>{v("menu"),m("")}};if(b==="cart")return[w,{label:"Your Cart",active:!0,icon:"shopping_cart"}];if(b==="locations")return[w,{label:"Locations",active:!0,icon:"storefront"}];if(b==="contact")return[w,{label:"Contact",active:!0,icon:"mail"}];if(b==="orders")return[w,{label:"Orders",active:!0,icon:"receipt_long"}];const L=[w,{label:"Menu",onClick:()=>{v("menu"),m("")}}];return we?L.push({label:`Search: "${f}"`,active:!0,icon:"search"}):K?L.push({label:K.label,active:!0,icon:K.icon}):L[1].active=!0,L},ge=()=>b==="locations"?o.jsx(o_,{}):b==="contact"?o.jsx(u_,{}):b==="orders"?o.jsx(d_,{onBackToMenu:()=>v("menu"),onViewInvoice:w=>{_(w),v("invoice")}}):b==="invoice"&&k?o.jsx(np,{order:k,onBack:()=>v("orders")}):b==="cart"?o.jsx(s_,{items:p,onUpdateQuantity:q,onRemoveItem:J,onBackToMenu:()=>{v("menu"),m("")},onCheckout:Y}):N?o.jsx("div",{className:"max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-8",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),o.jsx("p",{className:"mt-4 text-text-secondary dark:text-gray-400 text-lg",children:"Loading menu..."})]})}):V?o.jsx("div",{className:"max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-8",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[o.jsx("span",{className:"material-symbols-outlined text-6xl mb-4 text-red-500",children:"error"}),o.jsx("p",{className:"text-xl font-semibold text-text-main dark:text-white mb-2",children:"Oops! Something went wrong"}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 mb-4",children:V}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-primary text-white font-bold rounded-lg hover:bg-primary-dark transition-colors",children:"Refresh Page"})]})}):o.jsxs("div",{className:"max-w-[1280px] mx-auto px-4 md:px-10 lg:px-40 py-8",children:[o.jsx(sa,{items:ne()}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-text-main dark:text-white text-4xl md:text-5xl font-black leading-tight tracking-tight",children:we?"Search Results":K==null?void 0:K.label}),o.jsxs("span",{className:"bg-primary/10 dark:bg-primary/20 text-primary px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider hidden sm:inline-block",children:[ue.length," Items"]})]}),o.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-lg font-normal leading-normal max-w-2xl",children:we?`Found ${ue.length} results for "${f}"`:K==null?void 0:K.description})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-[#2c241b] border border-[#e6e0db] dark:border-white/5 rounded-lg text-sm font-bold text-text-main dark:text-white hover:border-primary dark:hover:border-primary transition-colors shadow-sm",children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"tune"}),"Filter"]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-[#2c241b] border border-[#e6e0db] dark:border-white/5 rounded-lg text-sm font-bold text-text-main dark:text-white hover:border-primary dark:hover:border-primary transition-colors shadow-sm",children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"sort"}),"Sort"]})]})]}),o.jsx("div",{className:"mb-10 border-b border-[#e6e0db] dark:border-white/10 animate-fade-in",style:{animationDelay:"0.1s"},children:o.jsx("div",{className:"flex gap-8 overflow-x-auto no-scrollbar pb-1",children:n.map(w=>o.jsxs("button",{onClick:()=>{h(w.id),m("")},className:`group flex flex-col items-center justify-center min-w-[80px] pb-4 pt-2 border-b-[3px] transition-all duration-300 ${u===w.id&&!we?"border-primary text-primary":"border-transparent text-text-secondary dark:text-gray-500 hover:text-primary dark:hover:text-primary"}`,children:[o.jsx("span",{className:`material-symbols-outlined mb-1 text-2xl group-hover:scale-110 transition-transform ${u===w.id&&!we?"font-variation-settings-fill":""}`,children:w.icon}),o.jsx("p",{className:"text-sm font-bold tracking-wide whitespace-nowrap",children:w.label})]},w.id))})}),o.jsxs("div",{className:"flex gap-3 mb-8 flex-wrap animate-fade-in",style:{animationDelay:"0.2s"},children:[o.jsxs("button",{className:"flex h-9 items-center justify-center gap-x-2 rounded-xl bg-white dark:bg-[#2c241b] border border-[#e6e0db] dark:border-white/5 px-4 shadow-sm hover:border-primary dark:hover:border-primary transition-colors group",children:[o.jsx("span",{className:"text-text-main dark:text-white text-sm font-medium",children:"Price Range"}),o.jsx("span",{className:"material-symbols-outlined text-lg text-text-secondary dark:text-gray-400 group-hover:text-primary",children:"expand_more"})]}),o.jsxs("button",{className:"flex h-9 items-center justify-center gap-x-2 rounded-xl bg-primary/10 dark:bg-primary/20 border border-primary/30 px-4 shadow-sm hover:bg-primary/20 transition-colors",children:[o.jsx("span",{className:"text-primary text-sm font-bold",children:"In Stock"}),o.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"check"})]}),o.jsxs("button",{className:"flex h-9 items-center justify-center gap-x-2 rounded-xl bg-white dark:bg-[#2c241b] border border-[#e6e0db] dark:border-white/5 px-4 shadow-sm hover:border-primary dark:hover:border-primary transition-colors group",children:[o.jsx("span",{className:"text-text-main dark:text-white text-sm font-medium",children:"Dietary"}),o.jsx("span",{className:"material-symbols-outlined text-lg text-text-secondary dark:text-gray-400 group-hover:text-primary",children:"expand_more"})]})]}),mt.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 animate-fade-in",style:{animationDelay:"0.3s"},children:mt.map(w=>o.jsx(n_,{item:w,onAddToCart:ht},w.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-text-secondary dark:text-gray-500 animate-fade-in",children:[o.jsx("span",{className:"material-symbols-outlined text-6xl mb-4 opacity-20",children:"search_off"}),o.jsx("p",{className:"text-xl font-semibold",children:"No items found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters."}),we&&o.jsx("button",{onClick:()=>m(""),className:"mt-4 text-primary font-bold hover:underline",children:"Clear Search"})]}),!we&&ue.length>hi&&o.jsxs("div",{className:"flex justify-center mt-8 gap-2 animate-fade-in",children:[o.jsx("button",{onClick:()=>C(w=>Math.max(1,w-1)),disabled:D===1,className:`size-10 rounded-lg flex items-center justify-center border border-[#e6e0db] dark:border-white/5 bg-white dark:bg-[#2c241b] transition-colors ${D===1?"opacity-50 cursor-not-allowed text-gray-400":"hover:bg-primary/5 dark:hover:bg-primary/10 hover:border-primary text-text-secondary dark:text-gray-400"}`,children:o.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),Array.from({length:Xe},(w,L)=>L+1).map(w=>o.jsx("button",{onClick:()=>C(w),className:`size-10 rounded-lg flex items-center justify-center font-bold transition-all ${D===w?"bg-primary text-white shadow-md shadow-primary/20 scale-110":"border border-[#e6e0db] dark:border-white/5 bg-white dark:bg-[#2c241b] hover:bg-primary/5 dark:hover:bg-primary/10 hover:border-primary text-text-secondary dark:text-gray-400"}`,children:w},w)),o.jsx("button",{onClick:()=>C(w=>Math.min(Xe,w+1)),disabled:D===Xe,className:`size-10 rounded-lg flex items-center justify-center border border-[#e6e0db] dark:border-white/5 bg-white dark:bg-[#2c241b] transition-colors ${D===Xe?"opacity-50 cursor-not-allowed text-gray-400":"hover:bg-primary/5 dark:hover:bg-primary/10 hover:border-primary text-text-secondary dark:text-gray-400"}`,children:o.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]});return o.jsxs("div",{className:"relative flex min-h-screen flex-col bg-background-light dark:bg-background-dark font-display transition-colors duration-300",children:[o.jsx(k0,{cartCount:me,onSearch:m,onNavigate:v,currentView:b,theme:T,onToggleTheme:le,searchQuery:f}),o.jsx("main",{className:"flex-1 w-full",children:ge()}),o.jsx(j0,{})]})}var W=(n=>(n.DASHBOARD="/dashboard",n.CATEGORIES="/dashboard/categories",n.CATEGORY_CREATE="/dashboard/categories/new",n.CATEGORY_EDIT="/dashboard/categories/:id/edit",n.PRODUCTS="/dashboard/products",n.PRODUCT_CREATE="/dashboard/products/new",n.PRODUCT_EDIT="/dashboard/products/:id/edit",n.ORDERS="/dashboard/orders",n.POS="/dashboard/pos",n.QR_GENERATOR="/dashboard/qr-generator",n.SETTINGS="/dashboard/settings",n.LOGIN="/login",n.REGISTER="/register",n))(W||{});const __=({isOpen:n,onClose:a,user:s})=>{var p;const i=Wt(),u=x=>x===W.CATEGORIES?i.pathname.startsWith(W.CATEGORIES):i.pathname===x,h=x=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors group ${u(x)?"bg-primary/10 text-primary dark:text-blue-400 font-bold":"text-text-sub-light dark:text-text-sub-dark hover:bg-slate-100 dark:hover:bg-slate-800 font-medium"}`,f=x=>`material-symbols-outlined text-2xl transition-colors ${u(x)?"fill-1":"group-hover:text-primary"}`,m=()=>{a()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 backdrop-blur-sm transition-opacity duration-300 md:hidden ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:a,"aria-hidden":"true"}),o.jsxs("aside",{className:`
        fixed top-0 bottom-0 left-0 z-50 w-64 bg-surface-light dark:bg-surface-dark border-r border-border-light dark:border-border-dark flex flex-col justify-between p-4 transition-transform duration-300 ease-in-out md:relative md:translate-x-0 flex-shrink-0
        ${n?"translate-x-0 shadow-2xl":"-translate-x-full"}
      `,children:[o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between px-2",children:[o.jsxs("div",{className:"flex gap-3 items-center",children:[o.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-lg size-10 shadow-sm",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuDw6Nbm04dEc5u32nWL3PFYexvLOFUX-UOVtJtd0PSc3mIMrAK761bDOJiyqYMEaiHShwI5nSiznc7eOUz09hIOeXS8zwUVa31m4bdKvxmv2irYSPPrkHmwVgNHBFPHtbbYf7tXn-TOeHRXEN7nWGa1Z8g9JCWW9q4_KHS0p07_semZqsmOGtWECIwgosik9aEI-ekwsomRPHW_7McEcuyexeZ7oLoMvRqkuOOwRKnHKAFpZvjxp38awJL2_WC5m80SyHLrRfbCrwsM")'}}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-text-main-light dark:text-white text-lg font-bold leading-tight",children:"PAYPYA Cafe"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-xs font-normal",children:"Management System"})]})]}),o.jsx("button",{onClick:a,className:"md:hidden p-1 rounded-md text-text-sub-light hover:bg-slate-100 dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary/20",children:o.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),o.jsxs("nav",{className:"flex flex-col gap-2",children:[o.jsxs(ut,{to:W.DASHBOARD,onClick:m,className:h(W.DASHBOARD),children:[o.jsx("span",{className:f(W.DASHBOARD),children:"dashboard"}),o.jsx("p",{className:"text-sm",children:"Dashboard"})]}),o.jsxs(ut,{to:W.CATEGORIES,onClick:m,className:h(W.CATEGORIES),children:[o.jsx("span",{className:f(W.CATEGORIES),children:"category"}),o.jsx("p",{className:"text-sm",children:"Menu Categories"})]}),o.jsxs(ut,{to:W.PRODUCTS,onClick:m,className:h(W.PRODUCTS),children:[o.jsx("span",{className:f(W.PRODUCTS),children:"inventory_2"}),o.jsx("p",{className:"text-sm",children:"Products"})]}),o.jsxs(ut,{to:W.ORDERS,onClick:m,className:h(W.ORDERS),children:[o.jsx("span",{className:f(W.ORDERS),children:"receipt_long"}),o.jsx("p",{className:"text-sm",children:"Manage Orders"})]}),o.jsxs(ut,{to:W.POS,onClick:m,className:h(W.POS),children:[o.jsx("span",{className:f(W.POS),children:"point_of_sale"}),o.jsx("p",{className:"text-sm",children:"POS System"})]}),o.jsxs(ut,{to:W.QR_GENERATOR,onClick:m,className:h(W.QR_GENERATOR),children:[o.jsx("span",{className:f(W.QR_GENERATOR),children:"qr_code_2"}),o.jsx("p",{className:"text-sm",children:"QR Generator"})]})]})]}),o.jsx("div",{className:"border-t border-border-light dark:border-border-dark pt-4",children:o.jsxs("div",{className:"flex items-center gap-3 px-2",children:[o.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full size-9 border border-border-light dark:border-border-dark",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBT_1e8ecPhLYfBtAnsSR0uRyhh9iv_A_kP0rhKVH3HkXnaw_Ke6G4V-WqV09GRyX8eG6Ne625-Np8LuCtnAI5_m24uoup7OU0d1dBfoVt-MKxAMV9OgYrvhdA7Qmfwf1H6k0VbXFkmmF6TG4Zzw6ah6VvSUqplDA-DrVgDkBYY-J87V84_KLlC9rEKgmlqzObWS_Yz0F5OlObIJRE5KKxrS3uDGAGM5eaDDXEBltAZpc5CMG75cu7SMYpur_QEwNBe8fd-CdD4rSIS")'}}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("p",{className:"text-text-main-light dark:text-white text-sm font-semibold truncate",children:((p=s==null?void 0:s.user_metadata)==null?void 0:p.full_name)||"Admin User"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-xs truncate",children:(s==null?void 0:s.email)||"admin@flavorhub.com"})]})]})})]})]})};async function k_(n,a,s){const{data:i,error:u}=await De.auth.signUp({email:n,password:a,options:{data:{full_name:s}}});if(u)throw console.error("Error signing up:",u),u;return{data:i,error:u}}async function j_(n,a){const{data:s,error:i}=await De.auth.signInWithPassword({email:n,password:a});if(i)throw console.error("Error signing in:",i),i;return{data:s,error:i}}async function S_(){const{error:n}=await De.auth.signOut();if(n)throw console.error("Error signing out:",n),n}const N_=({onMenuToggle:n,theme:a,onToggleTheme:s})=>{const i=Wt(),u=async()=>{await S_()},f=(()=>{const m=i.pathname,p=[{label:"Admin",path:W.DASHBOARD,icon:"home"}];return m===W.DASHBOARD||m==="/"?(p[0].isLast=!0,p):(m.includes("/categories")?(p.push({label:"Categories",path:W.CATEGORIES,icon:"category"}),m.includes("/new")?p.push({label:"New Category",isLast:!0}):m.includes("/edit")?p.push({label:"Edit Category",isLast:!0}):p[p.length-1].isLast=!0):m.includes("/products")?(p.push({label:"Products",path:W.PRODUCTS,icon:"restaurant_menu"}),m.includes("/new")?p.push({label:"New Product",isLast:!0}):m.includes("/edit")?p.push({label:"Edit Product",isLast:!0}):p[p.length-1].isLast=!0):m.includes("/orders")&&p.push({label:"Orders",path:W.ORDERS,icon:"receipt_long",isLast:!0}),p)})();return o.jsxs("header",{className:"h-16 flex items-center justify-between px-4 md:px-8 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex-shrink-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("button",{onClick:n,className:"md:hidden flex items-center justify-center p-2 -ml-2 rounded-lg text-text-main-light dark:text-white hover:bg-background-light dark:hover:bg-slate-800 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20","aria-label":"Toggle menu",children:o.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),o.jsx("div",{className:"hidden sm:block",children:o.jsx(sa,{items:f})})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("label",{className:"hidden md:flex relative group",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"material-symbols-outlined text-text-sub-light dark:text-text-sub-dark group-focus-within:text-primary",children:"search"})}),o.jsx("input",{className:"block w-64 pl-10 pr-3 py-2 rounded-lg border-none bg-background-light dark:bg-slate-800 text-sm text-text-main-light dark:text-white placeholder-text-sub-light dark:placeholder-gray-500 focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"Search...",type:"text"})]}),o.jsxs("div",{className:"flex items-center gap-3 border-l border-border-light dark:border-border-dark pl-6",children:[o.jsxs("button",{className:"flex items-center justify-center p-2 rounded-lg text-text-sub-light dark:text-text-sub-dark hover:bg-background-light dark:hover:bg-slate-800 hover:text-primary transition-colors relative",children:[o.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),o.jsx("span",{className:"absolute top-2 right-2 size-2 bg-red-500 rounded-full border-2 border-surface-light dark:border-surface-dark"})]}),o.jsx("button",{onClick:s,className:"flex items-center justify-center p-2 rounded-lg text-text-sub-light dark:text-text-sub-dark hover:bg-background-light dark:hover:bg-slate-800 transition-colors",title:a==="dark"?"Switch to Light Mode":"Switch to Dark Mode",children:o.jsx("span",{className:"material-symbols-outlined",children:a==="dark"?"light_mode":"dark_mode"})}),o.jsx("button",{onClick:u,className:"flex items-center justify-center p-2 rounded-lg text-text-sub-light dark:text-text-sub-dark hover:bg-red-50 hover:text-red-500 dark:hover:bg-slate-800 transition-colors",title:"Logout",children:o.jsx("span",{className:"material-symbols-outlined",children:"logout"})})]})]})]})},E_=()=>{const[n,a]=j.useState({categoriesCount:0,productsCount:0,unavailableCount:0,totalRevenue:0,totalOrders:0}),[s,i]=j.useState([]),[u,h]=j.useState([]),[f,m]=j.useState(!0);j.useEffect(()=>{async function x(){try{m(!0);const[b,v,k,_]=await Promise.all([Er(),Ni(),op(),v_()]),T=b.map(sp),R=v.map(lp);a({categoriesCount:T.length,productsCount:R.length,unavailableCount:R.filter(N=>!N.isAvailable).length,totalRevenue:_.totalRevenue,totalOrders:_.totalOrders}),i(R.slice(0,3)),h(k.slice(0,5).map(N=>({id:N.order_number,customer:N.customer_name,items:N.order_items.map(O=>`${O.quantity}x ${O.products.name}`).join(", "),total:Le(Number(N.total_amount)),status:N.status,time:new Date(N.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})))}catch(b){console.error("Error loading dashboard stats:",b)}finally{m(!1)}}x()},[]);const p=[{label:"Total Revenue",value:Le(n.totalRevenue),trend:"0%",isPositive:!0,icon:"payments",color:"bg-blue-500"},{label:"Total Orders",value:n.totalOrders.toString(),trend:"0%",isPositive:!0,icon:"shopping_bag",color:"bg-purple-500"},{label:"Menu Items",value:n.productsCount.toString(),trend:"+0",isPositive:!0,icon:"restaurant_menu",color:"bg-emerald-500"},{label:"Active Categories",value:n.categoriesCount.toString(),trend:"+0",isPositive:!0,icon:"category",color:"bg-orange-500"}];return f?o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):o.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 bg-background-light dark:bg-background-dark",children:o.jsxs("div",{className:"max-w-[1440px] mx-auto flex flex-col gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-black text-text-main-light dark:text-white",children:"Dashboard Overview"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark",children:"Welcome back, here is what's happening today."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:p.map((x,b)=>o.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm flex items-start justify-between group hover:border-primary/30 transition-colors",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm font-medium text-text-sub-light dark:text-text-sub-dark",children:x.label}),o.jsx("h3",{className:"text-2xl font-bold text-text-main-light dark:text-white",children:x.value}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("span",{className:`text-xs font-bold ${x.isPositive?"text-emerald-500":"text-red-500"}`,children:x.trend}),o.jsx("span",{className:"text-xs text-text-sub-light dark:text-text-sub-dark",children:"vs last month"})]})]}),o.jsx("div",{className:`p-3 rounded-lg ${x.color} text-white shadow-lg shadow-primary/10 group-hover:scale-110 transition-transform`,children:o.jsx("span",{className:"material-symbols-outlined",children:x.icon})})]},b))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[o.jsx("h3",{className:"font-bold text-text-main-light dark:text-white",children:"Recent Orders"}),o.jsx(ut,{to:W.ORDERS,className:"text-sm text-primary hover:text-blue-600 font-medium",children:"View All"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-background-light/50 dark:bg-slate-800/50",children:[o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase",children:"Order ID"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase",children:"Customer"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase hidden sm:table-cell",children:"Items"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase",children:"Total"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase text-right",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:u.map(x=>o.jsxs("tr",{className:"hover:bg-background-light dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-text-main-light dark:text-white",children:x.id}),o.jsx("td",{className:"px-6 py-4 text-sm text-text-sub-light dark:text-text-sub-dark",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-text-main-light dark:text-white font-medium",children:x.customer}),o.jsx("span",{className:"text-xs opacity-70",children:x.time})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-text-sub-light dark:text-text-sub-dark hidden sm:table-cell truncate max-w-xs",children:x.items}),o.jsx("td",{className:"px-6 py-4 text-sm font-bold text-text-main-light dark:text-white",children:x.total}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold
                          ${x.status==="Completed"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300":x.status==="Cooking"?"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:x.status})})]},x.id))})]})})]}),o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"bg-primary rounded-xl p-6 text-white shadow-lg shadow-blue-500/20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute -right-4 -top-4 text-white/10",children:o.jsx("span",{className:"material-symbols-outlined text-[150px]",children:"inventory_2"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Add New Product"}),o.jsx("p",{className:"text-blue-100 mb-6 text-sm",children:"Expand your menu by adding new dishes, drinks or desserts."}),o.jsxs(ut,{to:W.PRODUCT_CREATE,className:"inline-flex items-center gap-2 bg-white text-primary px-4 py-2.5 rounded-lg font-bold text-sm hover:bg-blue-50 transition-colors shadow-sm",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"}),"Create Product"]})]})]}),o.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-6 flex-1",children:[o.jsx("h3",{className:"font-bold text-text-main-light dark:text-white mb-4",children:"Popular Items"}),o.jsxs("div",{className:"flex flex-col gap-4",children:[s.map((x,b)=>o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-border-light dark:border-border-dark last:border-0 last:pb-0",children:[o.jsx("div",{className:"size-12 rounded-lg bg-gray-100 bg-center bg-cover flex-shrink-0",style:{backgroundImage:`url('${x.image}')`}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-semibold text-text-main-light dark:text-white line-clamp-1",children:x.name}),o.jsx("p",{className:"text-xs text-text-sub-light dark:text-text-sub-dark",children:"Available"})]}),o.jsx("div",{className:"text-sm font-bold text-text-main-light dark:text-white flex-shrink-0",children:Le(x.price)})]},x.id)),s.length===0&&o.jsx("p",{className:"text-sm text-text-sub-light dark:text-text-sub-dark italic",children:"No products yet"})]})]})]})]})]})})},Ou=({isOpen:n,onClose:a,onConfirm:s,title:i,message:u,confirmLabel:h="Confirm",cancelLabel:f="Cancel",isDestructive:m=!1})=>n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm transition-opacity",onClick:a,"aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:o.jsxs("div",{className:"w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-xl shadow-2xl border border-border-light dark:border-border-dark transform transition-all scale-100 opacity-100 pointer-events-auto p-6 flex flex-col gap-4",role:"dialog","aria-modal":"true",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-full flex-shrink-0 ${m?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-600"}`,children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:m?"warning":"info"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-text-main-light dark:text-white leading-tight mb-2",children:i}),o.jsx("p",{className:"text-sm text-text-sub-light dark:text-text-sub-dark leading-relaxed",children:u})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 mt-2",children:[o.jsx("button",{onClick:a,className:"px-4 py-2 rounded-lg text-sm font-medium text-text-sub-light dark:text-text-sub-dark hover:bg-background-light dark:hover:bg-slate-800 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-200 dark:focus:ring-slate-700",children:f}),o.jsx("button",{onClick:()=>{s(),a()},className:`px-4 py-2 rounded-lg text-sm font-bold text-white shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 ${m?"bg-red-500 hover:bg-red-600 focus:ring-red-500 shadow-red-500/20":"bg-primary hover:bg-blue-600 focus:ring-primary shadow-blue-500/20"}`,children:h})]})]})})]}):null,T_=()=>{const[n,a]=j.useState([]),[s,i]=j.useState(!0),[u,h]=j.useState(new Set),[f,m]=j.useState(!1),[p,x]=j.useState(null);j.useEffect(()=>{b()},[]);async function b(){try{i(!0);const N=await Er();a(N)}catch(N){console.error("Error loading categories:",N)}finally{i(!1)}}const v=N=>{N.target.checked?h(new Set(n.map(O=>O.id))):h(new Set)},k=N=>{const O=new Set(u);O.has(N)?O.delete(N):O.add(N),h(O)},_=N=>{x(N),m(!0)},T=async()=>{if(p){try{await yg(p),a(n.filter(N=>N.id!==p))}catch{alert("Failed to delete category")}x(null)}else if(u.size>0)try{await Promise.all(Array.from(u).map(N=>yg(N))),a(n.filter(N=>!u.has(N.id))),h(new Set)}catch{alert("Failed to delete some categories")}};if(s)return o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})});const R=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Categories",isLast:!0,icon:"category"}];return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-24 relative",children:[o.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6",children:[o.jsx(sa,{items:R}),o.jsx("div",{className:"w-full @container",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 rounded-xl border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h3",{className:"text-lg font-bold text-text-main-light dark:text-white",children:"Manage Categories"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-sm",children:"View, edit, and organize your menu categories below."})]}),o.jsxs(ut,{to:W.CATEGORY_CREATE,className:"flex items-center gap-2 bg-primary hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg text-sm font-semibold transition-colors shadow-lg shadow-blue-500/20",children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),o.jsx("span",{children:"Add New Category"})]})]})}),o.jsx("div",{className:"rounded-xl border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-background-light/50 dark:bg-slate-800/50 border-b border-border-light dark:border-border-dark",children:[o.jsx("th",{className:"px-6 py-4 w-12",children:o.jsx("div",{className:"flex items-center",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer",checked:n.length>0&&u.size===n.length,onChange:v})})}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider w-20",children:"Icon"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Category Name"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider hidden sm:table-cell",children:"Slug"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider text-right w-32",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:[n.map(N=>o.jsxs("tr",{className:`group transition-colors ${u.has(N.id)?"bg-blue-50 dark:bg-blue-900/10":"hover:bg-background-light dark:hover:bg-slate-800/50"}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex items-center",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer",checked:u.has(N.id),onChange:()=>k(N.id)})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"size-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary border border-border-light dark:border-border-dark overflow-hidden",children:N.icon?o.jsx("span",{className:"material-symbols-outlined",children:N.icon}):o.jsx("span",{className:"material-symbols-outlined",children:"category"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-semibold text-text-main-light dark:text-white",children:N.name})}),o.jsx("td",{className:"px-6 py-4 hidden sm:table-cell",children:o.jsx("code",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-text-sub-light dark:text-text-sub-dark",children:N.slug})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(ut,{to:W.CATEGORY_EDIT.replace(":id",N.id),className:"p-1.5 text-text-sub-light dark:text-text-sub-dark hover:text-primary hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"})}),o.jsx("button",{onClick:()=>_(N.id),className:"p-1.5 text-text-sub-light dark:text-text-sub-dark hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]})})]},N.id)),n.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-text-sub-light dark:text-text-sub-dark italic",children:'No categories found. Click "Add New Category" to get started.'})})]})]})})})]}),o.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 z-30 transition-all duration-300 ease-in-out transform ${u.size>0?"translate-y-0 opacity-100":"translate-y-20 opacity-0 pointer-events-none"}`,children:o.jsxs("div",{className:"bg-text-main-light dark:bg-white text-white dark:text-text-main-light rounded-full shadow-2xl px-6 py-3 flex items-center gap-6 min-w-[320px] justify-between border border-white/10 dark:border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"flex items-center justify-center bg-white/20 dark:bg-black/10 rounded-full w-6 h-6 text-xs font-bold",children:u.size}),o.jsx("span",{className:"text-sm font-medium",children:"Items Selected"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>h(new Set),className:"text-sm font-medium text-gray-300 dark:text-slate-500 hover:text-white dark:hover:text-black px-3 py-1.5 rounded-lg hover:bg-white/10 dark:hover:bg-black/5 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 text-sm font-bold bg-red-500 hover:bg-red-600 text-white px-4 py-1.5 rounded-full transition-colors shadow-md shadow-red-500/30",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"}),"Delete"]})]})]})}),o.jsx(Ou,{isOpen:f,onClose:()=>{m(!1),x(null)},onConfirm:T,title:"Delete Category",message:p?"Are you sure you want to delete this category? This action cannot be undone.":`Are you sure you want to delete ${u.size} categories? This action cannot be undone.`,confirmLabel:"Delete",isDestructive:!0})]})},A_=()=>{const n=na(),[a,s]=j.useState({name:"",slug:"",icon:"category",description:"",display_order:0}),[i,u]=j.useState(!1),h=async m=>{m.preventDefault();try{u(!0);const p=a.slug||a.name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");await f_({...a,slug:p}),n(W.CATEGORIES)}catch(p){console.error("Error creating category:",p),alert("Failed to create category")}finally{u(!1)}},f=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Categories",path:W.CATEGORIES,icon:"category"},{label:"Create Category",isLast:!0}];return o.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto relative scroll-smooth bg-background-light dark:bg-background-dark",children:o.jsxs("div",{className:"flex-1 max-w-[1200px] mx-auto w-full p-6 md:p-10",children:[o.jsxs("header",{className:"flex flex-col gap-4 mb-8",children:[o.jsx(sa,{items:f}),o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main-light dark:text-white tracking-tight",children:"Create New Category"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-base md:text-lg",children:"Add a new category to organize your menu items efficiently."})]}),o.jsxs("form",{onSubmit:h,className:"flex flex-col gap-8 bg-surface-light dark:bg-surface-dark rounded-xl p-6 md:p-8 shadow-sm border border-border-light dark:border-border-dark",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Category Name"}),o.jsx("input",{required:!0,value:a.name,onChange:m=>s({...a,name:m.target.value}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"e.g., Appetizers, Main Course",type:"text"})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Slug (Optional)"}),o.jsx("input",{value:a.slug,onChange:m=>s({...a,slug:m.target.value}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"e.g., appetizers",type:"text"})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Icon Name (Material Symbol)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-12 w-12 flex items-center justify-center bg-primary/10 rounded-lg text-primary",children:o.jsx("span",{className:"material-symbols-outlined",children:a.icon})}),o.jsx("input",{value:a.icon,onChange:m=>s({...a,icon:m.target.value}),className:"flex-1 h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"e.g., category, lunch_dining",type:"text"})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[o.jsxs("label",{className:"flex flex-col gap-2 h-full",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:m=>s({...a,description:m.target.value}),className:"w-full flex-1 min-h-[140px] px-4 py-3 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none transition-all",placeholder:"Describe what kind of items belong in this category..."}),o.jsxs("span",{className:"text-xs text-text-sub-light dark:text-text-sub-dark text-right",children:[a.description.length,"/200 characters"]})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Display Order"}),o.jsx("input",{type:"number",value:a.display_order,onChange:m=>s({...a,display_order:parseInt(m.target.value)||0}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"e.g., 0"})]})]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-800"}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>n(W.CATEGORIES),type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-primary text-white font-medium hover:bg-blue-600 shadow-md shadow-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Category"})]})]})]})})},O_=()=>{const{id:n}=Cg(),a=na(),[s,i]=j.useState(null),[u,h]=j.useState(!0),[f,m]=j.useState(!1);j.useEffect(()=>{async function b(){if(n)try{h(!0);const v=await h_(n);v?i(v):a(W.CATEGORIES)}catch(v){console.error("Error loading category:",v),a(W.CATEGORIES)}finally{h(!1)}}b()},[n,a]);const p=async b=>{if(b.preventDefault(),!(!n||!s))try{m(!0);const{id:v,created_at:k,updated_at:_,...T}=s;await m_(n,T),a(W.CATEGORIES)}catch(v){console.error("Error updating category:",v),alert("Failed to update category")}finally{m(!1)}};if(u)return o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})});if(!s)return null;const x=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Categories",path:W.CATEGORIES,icon:"category"},{label:`Edit ${s.name}`,isLast:!0}];return o.jsx("div",{className:"flex-1 p-8 bg-background-light dark:bg-background-dark overflow-y-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto w-full flex flex-col gap-8",children:[o.jsx(sa,{items:x}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("h1",{className:"text-3xl font-black text-text-main-light dark:text-white tracking-tight",children:"Edit Category"}),o.jsxs("p",{className:"text-text-sub-light dark:text-text-sub-dark text-base",children:["Update the details for the '",s.name,"' category. Changes will reflect immediately on the customer menu."]})]}),o.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-8 shadow-sm",children:o.jsxs("form",{className:"flex flex-col gap-8",onSubmit:p,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-semibold text-text-main-light dark:text-white",htmlFor:"categoryName",children:"Category Name"}),o.jsx("input",{id:"categoryName",type:"text",required:!0,value:s.name,onChange:b=>i({...s,name:b.target.value}),className:"w-full rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-text-main-light dark:text-white px-4 py-3 text-base focus:border-primary focus:ring-1 focus:ring-primary placeholder:text-text-sub-light dark:placeholder:text-text-sub-dark outline-none transition-all"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-semibold text-text-main-light dark:text-white",htmlFor:"slug",children:"Slug"}),o.jsx("input",{id:"slug",type:"text",required:!0,value:s.slug,onChange:b=>i({...s,slug:b.target.value}),className:"w-full rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-text-main-light dark:text-white px-4 py-3 text-base focus:border-primary focus:ring-1 focus:ring-primary placeholder:text-text-sub-light dark:placeholder:text-text-sub-dark outline-none transition-all"})]})]}),o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-semibold text-text-main-light dark:text-white",children:"Icon Name (Material Symbol)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-12 w-12 flex items-center justify-center bg-primary/10 rounded-lg text-primary",children:o.jsx("span",{className:"material-symbols-outlined",children:s.icon||"category"})}),o.jsx("input",{value:s.icon||"",onChange:b=>i({...s,icon:b.target.value}),className:"flex-1 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-text-main-light dark:text-white px-4 py-3 text-base focus:border-primary focus:ring-1 focus:ring-primary placeholder:text-text-sub-light dark:placeholder:text-text-sub-dark outline-none transition-all",placeholder:"e.g., category, lunch_dining",type:"text"})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-semibold text-text-main-light dark:text-white",children:"Display Order"}),o.jsx("input",{type:"number",value:s.display_order,onChange:b=>i({...s,display_order:parseInt(b.target.value)||0}),className:"w-full rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-text-main-light dark:text-white px-4 py-3 text-base focus:border-primary focus:ring-1 focus:ring-primary placeholder:text-text-sub-light dark:placeholder:text-text-sub-dark outline-none transition-all"})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-semibold text-text-main-light dark:text-white",htmlFor:"description",children:"Description (Optional)"}),o.jsx("textarea",{id:"description",rows:4,value:s.description||"",onChange:b=>i({...s,description:b.target.value}),className:"w-full rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-text-main-light dark:text-white px-4 py-3 text-base focus:border-primary focus:ring-1 focus:ring-primary placeholder:text-text-sub-light dark:placeholder:text-text-sub-dark outline-none resize-none transition-all"})]}),o.jsx("hr",{className:"border-border-light dark:border-border-dark"}),o.jsxs("div",{className:"flex items-center justify-end gap-4",children:[o.jsx("button",{type:"button",disabled:f,onClick:()=>a(W.CATEGORIES),className:"px-6 py-2.5 rounded-lg border border-border-light dark:border-border-dark text-text-main-light dark:text-white font-semibold hover:bg-background-light dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:f,className:"px-6 py-2.5 rounded-lg bg-primary text-white font-semibold shadow-lg shadow-primary/30 hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50",children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"save"}),f?"Saving...":"Update Category"]})]})]})})]})})},Ss=8,C_=()=>{const[n,a]=j.useState([]),[s,i]=j.useState([]),[u,h]=j.useState(!0),[f,m]=j.useState("All Items"),[p,x]=j.useState(""),[b,v]=j.useState(new Set),[k,_]=j.useState(1),[T,R]=j.useState(!1),[N,O]=j.useState(null);j.useEffect(()=>{D()},[]);async function D(){try{h(!0);const[Y,ne]=await Promise.all([Ni(),Er()]);a(Y),i(ne)}catch(Y){console.error("Error loading data:",Y)}finally{h(!1)}}const C=new Map(s.map(Y=>[Y.id,Y.name])),V=n.filter(Y=>{const ne=C.get(Y.category_id)||"Uncategorized",ge=f==="All Items"||ne===f,w=Y.name.toLowerCase().includes(p.toLowerCase())||Y.id.toLowerCase().includes(p.toLowerCase())||ne.toLowerCase().includes(p.toLowerCase());return ge&&w}),Z=Math.ceil(V.length/Ss),I=V.slice((k-1)*Ss,k*Ss),Q=["All Items",...s.map(Y=>Y.name)],le=Y=>Y.is_available?"In Stock":"Out of Stock",K=Y=>{switch(Y){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800";case"Out of Stock":return"bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-400 border-rose-200 dark:border-rose-800";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},me=Y=>{if(Y.target.checked){const ne=new Set(b);V.forEach(ge=>ne.add(ge.id)),v(ne)}else{const ne=new Set(b);V.forEach(ge=>ne.delete(ge.id)),v(ne)}},we=Y=>{const ne=new Set(b);ne.has(Y)?ne.delete(Y):ne.add(Y),v(ne)},ue=Y=>{O(Y),R(!0)},Xe=()=>{O(null),R(!0)},mt=async()=>{try{if(N){await vg(N),a(n.filter(ne=>ne.id!==N));const Y=new Set(b);Y.delete(N),v(Y)}else await Promise.all(Array.from(b).map(Y=>vg(Y))),a(n.filter(Y=>!b.has(Y.id))),v(new Set)}catch{alert("Failed to delete items")}O(null)},ht=V.length>0&&V.every(Y=>b.has(Y.id)),q=Y=>{Y>=1&&Y<=Z&&_(Y)};if(u)return o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})});const J=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Products",isLast:!0,icon:"restaurant_menu"}];return o.jsxs("div",{className:"flex-1 w-full max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-32 relative overflow-y-auto",children:[o.jsx(sa,{items:J}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-text-main-light dark:text-white",children:"Menu Items"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-base",children:"Manage your food and beverage catalog"})]}),o.jsxs(ut,{to:W.PRODUCT_CREATE,className:"flex items-center justify-center gap-2 h-11 px-6 rounded-lg bg-primary hover:bg-blue-600 text-white font-bold transition-colors shadow-lg shadow-blue-500/20",children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),o.jsx("span",{children:"Add New Menu"})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6 bg-surface-light dark:bg-surface-dark p-4 rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[o.jsxs("div",{className:"relative flex-1 min-w-[280px]",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"search"})}),o.jsx("input",{value:p,onChange:Y=>{x(Y.target.value),_(1)},className:"block w-full h-11 pl-10 pr-3 rounded-lg border-none bg-background-light dark:bg-slate-800 text-text-main-light dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-primary focus:bg-white dark:focus:bg-slate-900 transition-all font-medium border border-border-light dark:border-border-dark",placeholder:"Search menu items...",type:"text"})]}),o.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 lg:pb-0 no-scrollbar",children:Q.map(Y=>o.jsx("button",{onClick:()=>{m(Y),_(1)},className:`shrink-0 h-10 px-4 rounded-lg font-medium text-sm transition-colors ${f===Y?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold":"bg-background-light dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:Y},Y))})]}),o.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-background-light/50 dark:bg-slate-800/50 border-b border-border-light dark:border-border-dark",children:[o.jsx("th",{className:"px-6 py-4 w-12",children:o.jsx("div",{className:"flex items-center",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer",checked:ht,onChange:me})})}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider w-20",children:"Image"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Product Name"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:I.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-text-sub-light dark:text-text-sub-dark",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"search_off"}),o.jsx("p",{children:"No items found matching your criteria."})]})}):I.map(Y=>{const ne=b.has(Y.id),ge=le(Y);return o.jsxs("tr",{className:`group transition-colors ${ne?"bg-blue-50 dark:bg-blue-900/10":"hover:bg-background-light dark:hover:bg-slate-800/50"}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex items-center",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer",checked:ne,onChange:()=>we(Y.id)})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"size-12 rounded-lg bg-gray-100 dark:bg-slate-700 bg-center bg-cover border border-border-light dark:border-border-dark shadow-sm",style:{backgroundImage:`url('${Y.image_url}')`}})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-text-main-light dark:text-white",children:Y.name}),o.jsx("span",{className:"text-xs text-text-sub-light dark:text-text-sub-dark font-mono opacity-50",children:Y.id.substring(0,8)})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-text-sub-light dark:text-text-sub-dark",children:C.get(Y.category_id)||"Uncategorized"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:"text-sm font-bold text-text-main-light dark:text-white",children:["$",Y.price.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${K(ge)}`,children:ge})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(ut,{to:W.PRODUCT_EDIT.replace(":id",Y.id),className:"p-1.5 text-text-sub-light dark:text-text-sub-dark hover:text-primary hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"})}),o.jsx("button",{onClick:()=>ue(Y.id),className:"p-1.5 text-text-sub-light dark:text-text-sub-dark hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]})})]},Y.id)})})]})}),V.length>0&&o.jsxs("div",{className:"px-6 py-4 border-t border-border-light dark:border-border-dark flex flex-col sm:flex-row items-center justify-between gap-4 bg-surface-light dark:bg-surface-dark",children:[o.jsxs("p",{className:"text-sm text-text-sub-light dark:text-text-sub-dark",children:["Showing ",o.jsx("span",{className:"font-medium text-text-main-light dark:text-white",children:(k-1)*Ss+1})," to"," ",o.jsx("span",{className:"font-medium text-text-main-light dark:text-white",children:Math.min(k*Ss,V.length)})," of"," ",o.jsx("span",{className:"font-medium text-text-main-light dark:text-white",children:V.length})," results"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>q(k-1),disabled:k===1,className:"flex items-center justify-center p-2 rounded-lg text-text-main-light dark:text-white hover:bg-background-light dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-border-light dark:border-slate-700",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"chevron_left"})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Z},(Y,ne)=>ne+1).map(Y=>o.jsx("button",{onClick:()=>q(Y),className:`w-8 h-8 rounded-lg text-sm font-medium flex items-center justify-center transition-colors ${k===Y?"bg-primary text-white shadow-md shadow-primary/30":"text-text-sub-light dark:text-text-sub-dark hover:bg-background-light dark:hover:bg-slate-700"}`,children:Y},Y))}),o.jsx("button",{onClick:()=>q(k+1),disabled:k===Z,className:"flex items-center justify-center p-2 rounded-lg text-text-main-light dark:text-white hover:bg-background-light dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-border-light dark:border-slate-700",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"chevron_right"})})]})]})]}),o.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 z-30 transition-all duration-300 ease-in-out transform ${b.size>0?"translate-y-0 opacity-100":"translate-y-20 opacity-0 pointer-events-none"}`,children:o.jsxs("div",{className:"bg-text-main-light dark:bg-white text-white dark:text-text-main-light rounded-full shadow-2xl px-6 py-3 flex items-center gap-6 min-w-[320px] justify-between border border-white/10 dark:border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"flex items-center justify-center bg-white/20 dark:bg-black/10 rounded-full w-6 h-6 text-xs font-bold",children:b.size}),o.jsx("span",{className:"text-sm font-medium",children:"Items Selected"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>v(new Set),className:"text-sm font-medium text-gray-300 dark:text-slate-500 hover:text-white dark:hover:text-black px-3 py-1.5 rounded-lg hover:bg-white/10 dark:hover:bg-black/5 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:Xe,className:"flex items-center gap-2 text-sm font-bold bg-red-500 hover:bg-red-600 text-white px-4 py-1.5 rounded-full transition-colors shadow-md shadow-red-500/30",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"}),"Delete"]})]})]})}),o.jsx(Ou,{isOpen:T,onClose:()=>{R(!1),O(null)},onConfirm:mt,title:N?"Delete Product?":"Delete Selected Products?",message:N?"Are you sure you want to delete this product? This action cannot be undone.":`Are you sure you want to delete ${b.size} selected products? This action cannot be undone.`,confirmLabel:"Delete",isDestructive:!0})]})},R_=()=>{const n=na(),[a,s]=j.useState([]),[i,u]=j.useState(!1),[h,f]=j.useState(!0),[m,p]=j.useState({name:"",description:"",price:0,category_id:"",is_available:!0,image_url:""}),[x,b]=j.useState(null),[v,k]=j.useState(null);j.useEffect(()=>{async function N(){try{const O=await Er();s(O),O.length>0&&p(D=>({...D,category_id:O[0].id}))}catch(O){console.error("Error loading categories:",O)}finally{f(!1)}}N()},[]);const _=N=>{var D;const O=(D=N.target.files)==null?void 0:D[0];if(O){b(O);const C=new FileReader;C.onloadend=()=>{k(C.result)},C.readAsDataURL(O)}},T=async N=>{if(N.preventDefault(),!m.category_id){alert("Please select a category");return}try{u(!0);let O=m.image_url;x&&(O=await ip(x)),await p_({...m,image_url:O}),n(W.PRODUCTS)}catch(O){console.error("Error creating product:",O),alert("Failed to create product")}finally{u(!1)}},R=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Products",path:W.PRODUCTS,icon:"restaurant_menu"},{label:"Add Product",isLast:!0}];return h?o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):o.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto relative scroll-smooth bg-background-light dark:bg-background-dark",children:o.jsxs("div",{className:"flex-1 max-w-[1200px] mx-auto w-full p-6 md:p-10",children:[o.jsxs("header",{className:"flex flex-col gap-4 mb-8",children:[o.jsx(sa,{items:R}),o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main-light dark:text-white tracking-tight",children:"Create New Product"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-base md:text-lg",children:"Add a new item to your menu."})]}),o.jsxs("form",{onSubmit:T,className:"flex flex-col gap-8 bg-surface-light dark:bg-surface-dark rounded-xl p-6 md:p-8 shadow-sm border border-border-light dark:border-border-dark",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Product Name"}),o.jsx("input",{required:!0,value:m.name,onChange:N=>p({...m,name:N.target.value}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all shadow-sm",placeholder:"e.g., Spicy Chicken Wings",type:"text"})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Description"}),o.jsx("textarea",{required:!0,value:m.description,onChange:N=>p({...m,description:N.target.value}),rows:5,className:"w-full px-4 py-3 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none transition-all shadow-sm",placeholder:"Ingredients, allergies, etc."})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Price (IDR)"}),o.jsx("input",{required:!0,value:m.price,onChange:N=>p({...m,price:parseFloat(N.target.value)||0}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all shadow-sm",placeholder:"0.00",type:"number",min:"0",step:"0.01"})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Category"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{required:!0,value:m.category_id,onChange:N=>p({...m,category_id:N.target.value}),className:"w-full h-12 px-4 pr-10 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all appearance-none cursor-pointer shadow-sm",children:[o.jsx("option",{value:"",disabled:!0,children:"Select a category"}),a.map(N=>o.jsx("option",{value:N.id,children:N.name},N.id))]}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500 material-symbols-outlined",children:"expand_more"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Product Image"}),o.jsxs("div",{className:"relative group cursor-pointer flex flex-col items-center justify-center w-full aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 hover:bg-primary/5 hover:border-primary dark:hover:border-primary transition-all duration-300 overflow-hidden shadow-sm",children:[v?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:v,alt:"Preview",className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center text-white",children:[o.jsx("span",{className:"material-symbols-outlined text-3xl mb-1",children:"edit"}),o.jsx("span",{className:"text-xs font-bold",children:"Change Image"})]})]}):o.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400 group-hover:text-primary transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl",children:"add_a_photo"}),o.jsx("span",{className:"text-sm font-medium",children:"Upload Image"})]}),o.jsx("input",{className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",type:"file",accept:"image/*",onChange:_})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Availability"}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-text-main-light dark:text-white",children:"Active on Menu"}),o.jsx("span",{className:"text-xs text-slate-500",children:"Enable/disable this product."})]}),o.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",checked:m.is_available,onChange:N=>p({...m,is_available:N.target.checked})}),o.jsx("div",{className:"relative w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/40 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]})]})]})]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-800"}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>n(W.PRODUCTS),type:"button",disabled:i,className:"w-full sm:w-auto px-6 py-3 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-primary text-white font-medium hover:bg-blue-600 shadow-md shadow-blue-500/20 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent animate-spin rounded-full"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"check"}),o.jsx("span",{children:"Save Product"})]})})]})]})]})})},D_=()=>{const{id:n}=Cg(),a=na(),[s,i]=j.useState([]),[u,h]=j.useState(null),[f,m]=j.useState(!0),[p,x]=j.useState(!1),[b,v]=j.useState(null),[k,_]=j.useState(null);j.useEffect(()=>{async function O(){if(n)try{m(!0);const[D,C]=await Promise.all([g_(n),Er()]);D?(h(D),_(D.image_url)):a(W.PRODUCTS),i(C)}catch(D){console.error("Error loading data:",D),a(W.PRODUCTS)}finally{m(!1)}}O()},[n,a]);const T=O=>{var C;const D=(C=O.target.files)==null?void 0:C[0];if(D){v(D);const V=new FileReader;V.onloadend=()=>{_(V.result)},V.readAsDataURL(D)}},R=async O=>{if(O.preventDefault(),!(!n||!u))try{x(!0);let D=u.image_url;b&&(D=await ip(b));const{id:C,created_at:V,updated_at:Z,...I}=u;await x_(n,{...I,image_url:D}),a(W.PRODUCTS)}catch(D){console.error("Error updating product:",D),alert("Failed to update product")}finally{x(!1)}};if(f)return o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})});if(!u)return null;const N=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Products",path:W.PRODUCTS,icon:"restaurant_menu"},{label:`Edit ${u.name}`,isLast:!0}];return o.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto relative scroll-smooth bg-background-light dark:bg-background-dark",children:o.jsxs("div",{className:"flex-1 max-w-[1200px] mx-auto w-full p-6 md:p-10",children:[o.jsxs("header",{className:"flex flex-col gap-4 mb-8",children:[o.jsx(sa,{items:N}),o.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-text-main-light dark:text-white tracking-tight line-clamp-1",children:["Edit ",u.name]}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-base md:text-lg",children:"Update product details, pricing, and availability."})]}),o.jsxs("form",{onSubmit:R,className:"flex flex-col gap-8 bg-surface-light dark:bg-surface-dark rounded-xl p-6 md:p-8 shadow-sm border border-border-light dark:border-border-dark",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Product Name"}),o.jsx("input",{required:!0,value:u.name,onChange:O=>h({...u,name:O.target.value}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all shadow-sm",type:"text"})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Description"}),o.jsx("textarea",{required:!0,value:u.description||"",onChange:O=>h({...u,description:O.target.value}),rows:5,className:"w-full px-4 py-3 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none transition-all shadow-sm"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Price (IDR)"}),o.jsx("input",{required:!0,value:u.price,onChange:O=>h({...u,price:parseFloat(O.target.value)||0}),className:"w-full h-12 px-4 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all shadow-sm",type:"number",min:"0",step:"0.01"})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Category"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{required:!0,value:u.category_id,onChange:O=>h({...u,category_id:O.target.value}),className:"w-full h-12 px-4 pr-10 rounded-lg bg-surface-light dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-text-main-light dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all appearance-none cursor-pointer shadow-sm",children:s.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500 material-symbols-outlined",children:"expand_more"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Product Image"}),o.jsxs("div",{className:"relative group cursor-pointer flex flex-col items-center justify-center w-full aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 hover:bg-primary/5 hover:border-primary dark:hover:border-primary transition-all duration-300 overflow-hidden shadow-sm",children:[k?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:k,alt:"Preview",className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center text-white",children:[o.jsx("span",{className:"material-symbols-outlined text-3xl mb-1",children:"edit"}),o.jsx("span",{className:"text-xs font-bold",children:"Change Image"})]})]}):o.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400 group-hover:text-primary transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl",children:"add_a_photo"}),o.jsx("span",{className:"text-sm font-medium",children:"Upload Image"})]}),o.jsx("input",{className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",type:"file",accept:"image/*",onChange:T})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("span",{className:"text-text-main-light dark:text-white text-sm font-semibold",children:"Availability"}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-text-main-light dark:text-white",children:"Active on Menu"}),o.jsx("span",{className:"text-xs text-slate-500",children:"Enable/disable this product."})]}),o.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",checked:u.is_available,onChange:O=>h({...u,is_available:O.target.checked})}),o.jsx("div",{className:"relative w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/40 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]})]})]})]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-800"}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>a(W.PRODUCTS),type:"button",disabled:p,className:"w-full sm:w-auto px-6 py-3 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-primary text-white font-medium hover:bg-blue-600 shadow-md shadow-blue-500/20 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:p?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent animate-spin rounded-full"}),o.jsx("span",{children:"Updating..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"save"}),o.jsx("span",{children:"Update Product"})]})})]})]})]})})},U_=()=>{const[n,a]=j.useState([]),[s,i]=j.useState(!0),[u,h]=j.useState(!1),[f,m]=j.useState(null),[p,x]=j.useState("all"),[b,v]=j.useState(""),[k,_]=j.useState(!1),[T,R]=j.useState(null);j.useEffect(()=>{N()},[]);async function N(){try{i(!0);const I=await op();a(I)}catch(I){console.error("Error loading orders:",I)}finally{i(!1)}}const O=async(I,Q)=>{try{await b_(I,Q),a(n.map(le=>le.id===I?{...le,status:Q}:le))}catch{alert("Failed to update status")}},D=I=>{m(I),h(!0)},C=async()=>{if(f){try{await y_(f),a(n.filter(I=>I.id!==f))}catch{alert("Failed to delete order")}m(null),h(!1)}},V=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"Orders",isLast:!0,icon:"receipt_long"}],Z=n.filter(I=>{const Q=p==="all"||I.status.toLowerCase()===p.toLowerCase(),le=I.order_number.toLowerCase().includes(b.toLowerCase())||I.customer_name.toLowerCase().includes(b.toLowerCase());return Q&&le});return s?o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):k&&T?o.jsx("div",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark pb-20",children:o.jsx(np,{order:T,onBack:()=>_(!1)})}):o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-24 relative",children:[o.jsxs("div",{className:"max-w-[1440px] mx-auto flex flex-col gap-6",children:[o.jsx(sa,{items:V}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 rounded-xl border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h3",{className:"text-xl font-black text-text-main-light dark:text-white tracking-tight",children:"Manage Orders"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark text-sm",children:"View, update status, and track all incoming orders."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[o.jsxs("div",{className:"relative flex-1 sm:w-64",children:[o.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-sub-light dark:text-text-sub-dark text-xl pointer-events-none",children:"search"}),o.jsx("input",{type:"text",placeholder:"Search order # or customer...",value:b,onChange:I=>v(I.target.value),className:"w-full bg-background-light dark:bg-slate-800 border border-border-light dark:border-border-dark rounded-lg pl-10 pr-4 py-2 text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all placeholder:text-text-sub-light/50 dark:placeholder:text-text-sub-dark/30"}),b&&o.jsx("button",{onClick:()=>v(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-sub-light dark:text-text-sub-dark hover:text-primary transition-colors",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"close"})})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsx("span",{className:"text-sm font-bold text-text-sub-light dark:text-text-sub-dark hidden sm:inline",children:"Filter:"}),o.jsxs("select",{value:p,onChange:I=>x(I.target.value),className:"flex-1 sm:flex-none bg-background-light dark:bg-slate-800 border border-border-light dark:border-border-dark rounded-lg px-4 py-2 text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"Pending",children:"Pending"}),o.jsx("option",{value:"Cooking",children:"Cooking"}),o.jsx("option",{value:"Completed",children:"Completed"}),o.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]})]}),o.jsx("div",{className:"rounded-xl border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-background-light/50 dark:bg-slate-800/50 border-b border-border-light dark:border-border-dark",children:[o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Order Number"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Table"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider hidden lg:table-cell",children:"Items"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider text-right",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:[Z.map(I=>{var Q;return o.jsxs("tr",{className:"hover:bg-background-light/50 dark:hover:bg-slate-800/30 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("span",{className:"text-sm font-black text-primary font-['Outfit']",children:I.order_number}),o.jsx("p",{className:"text-[10px] text-text-sub-light dark:text-text-sub-dark opacity-70",children:new Date(I.created_at).toLocaleString()})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded-md text-sm font-black",children:I.table_number||"-"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-bold text-text-main-light dark:text-white uppercase tracking-tight",children:I.customer_name})}),o.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:o.jsx("div",{className:"flex flex-col gap-1",children:(Q=I.order_items)==null?void 0:Q.map((le,K)=>{var me;return o.jsxs("p",{className:"text-xs text-text-sub-light dark:text-text-sub-dark truncate max-w-[200px]",children:[le.quantity,"x ",(me=le.products)==null?void 0:me.name]},K)})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-black text-text-main-light dark:text-white",children:Le(Number(I.total_amount))})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("select",{value:I.status,onChange:le=>O(I.id,le.target.value),className:`text-xs font-black px-3 py-1.5 rounded-full border-none appearance-none cursor-pointer transition-all shadow-sm ${I.status==="Completed"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300":I.status==="Cooking"?"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300":I.status==="Cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:[o.jsx("option",{value:"Pending",children:"Pending"}),o.jsx("option",{value:"Cooking",children:"Cooking"}),o.jsx("option",{value:"Completed",children:"Completed"}),o.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>{const le={id:I.order_number,date:I.created_at,total:Number(I.total_amount),status:I.status,customerName:I.customer_name,tableNumber:I.table_number,items:I.order_items.map(K=>{var me,we,ue,Xe;return{id:K.product_id,name:((me=K.products)==null?void 0:me.name)||"Unknown Product",description:((we=K.products)==null?void 0:we.description)||"",price:Number(K.price_at_time),quantity:K.quantity,image:((ue=K.products)==null?void 0:ue.image_url)||"",categoryId:((Xe=K.products)==null?void 0:Xe.category_id)||""}})};R(le),_(!0)},className:"p-2 text-text-sub-light dark:text-text-sub-dark hover:text-primary hover:bg-primary/10 rounded-lg transition-all",title:"View Invoice",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"description"})}),o.jsx("button",{onClick:()=>D(I.id),className:"p-2 text-text-sub-light dark:text-text-sub-dark hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:"Delete Order",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]})})]},I.id)}),Z.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-text-sub-light dark:text-text-sub-dark italic",children:"No orders found."})})]})]})})})]}),o.jsx(Ou,{isOpen:u,onClose:()=>h(!1),onConfirm:C,title:"Delete Order",message:"Are you sure you want to delete this order? This action cannot be undone.",confirmLabel:"Delete",isDestructive:!0})]})},z_=()=>{const n=na(),[a,s]=j.useState([]),[i,u]=j.useState([]),[h,f]=j.useState(!0),[m,p]=j.useState("all"),[x,b]=j.useState(""),[v,k]=j.useState([]),[_,T]=j.useState(""),[R,N]=j.useState(""),[O,D]=j.useState(!1);j.useEffect(()=>{async function K(){try{const[me,we]=await Promise.all([Ni(),Er()]);s(me),u(we)}catch(me){console.error("Error loading POS data:",me)}finally{f(!1)}}K()},[]);const C=j.useMemo(()=>a.filter(K=>{var ue;const me=m==="all"||K.category_id===m,we=K.name.toLowerCase().includes(x.toLowerCase())||((ue=K.description)==null?void 0:ue.toLowerCase().includes(x.toLowerCase()));return me&&we&&K.is_available}),[a,m,x]),V=K=>{k(me=>me.find(ue=>ue.id===K.id)?me.map(ue=>ue.id===K.id?{...ue,quantity:ue.quantity+1}:ue):[...me,{...K,quantity:1}])},Z=(K,me)=>{k(we=>we.map(ue=>{if(ue.id===K){const Xe=Math.max(0,ue.quantity+me);return{...ue,quantity:Xe}}return ue}).filter(ue=>ue.quantity>0))},I=v.reduce((K,me)=>K+me.price*me.quantity,0),Q=async()=>{if(v.length!==0){if(!_.trim()){alert("Please enter customer name");return}try{D(!0);const K={customer_name:_,table_number:R,total_amount:I,status:"Cooking",payment_method:"cashier"},me=v.map(we=>({product_id:we.id,quantity:we.quantity,price_at_time:we.price}));await cp(K,me),alert("Order created successfully!"),k([]),T(""),N(""),n(W.ORDERS)}catch(K){console.error("Error creating POS order:",K),alert("Failed to create order")}finally{D(!1)}}},le=[{label:"Admin",path:W.DASHBOARD,icon:"home"},{label:"POS",isLast:!0,icon:"point_of_sale"}];return h?o.jsx("div",{className:"flex items-center justify-center h-full bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):o.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-background-light dark:bg-background-dark",children:[o.jsx("div",{className:"p-4 md:p-6 border-b border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 backdrop-blur-md sticky top-0 z-20",children:o.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(sa,{items:le}),o.jsx("h1",{className:"text-2xl font-black text-text-main dark:text-white",children:"Point of Sale"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-sub-light dark:text-text-sub-dark",children:"search"}),o.jsx("input",{type:"text",placeholder:"Cari menu...",value:x,onChange:K=>b(K.target.value),className:"pl-10 pr-4 py-2 bg-white dark:bg-white/5 border border-border-light dark:border-border-dark rounded-xl text-sm focus:ring-2 focus:ring-primary/20 outline-none w-full md:w-64 transition-all"})]})})]})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex gap-2 p-4 overflow-x-auto no-scrollbar border-b border-border-light dark:border-border-dark",children:[o.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all ${m==="all"?"bg-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-white/5 text-text-sub-light dark:text-text-sub-dark hover:bg-gray-100 dark:hover:bg-white/10"}`,children:"SEMUA MENU"}),i.map(K=>o.jsxs("button",{onClick:()=>p(K.id),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all flex items-center gap-2 ${m===K.id?"bg-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-white/5 text-text-sub-light dark:text-text-sub-dark hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:K.icon}),K.name.toUpperCase()]},K.id))]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:C.map(K=>o.jsxs("button",{onClick:()=>V(K),className:"group flex flex-col bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-2xl overflow-hidden hover:border-primary transition-all text-left shadow-sm active:scale-95",children:[o.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[o.jsx("img",{src:K.image_url,alt:K.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-3",children:o.jsx("span",{className:"text-white text-[10px] font-bold uppercase tracking-widest",children:"+ Tambahkan"})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-bold text-sm text-text-main dark:text-white line-clamp-1 mb-1",children:K.name}),o.jsx("p",{className:"text-primary font-black text-xs",children:Le(K.price)})]})]},K.id))})]}),o.jsxs("div",{className:"w-[380px] border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark flex flex-col shadow-2xl z-10",children:[o.jsxs("div",{className:"p-6 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[o.jsx("h2",{className:"font-black text-xl text-text-main dark:text-white",children:"Pesanan Baru"}),o.jsx("button",{onClick:()=>k([]),className:"text-xs text-red-500 font-bold hover:underline",children:"Hapus Semua"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4",children:v.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-20 py-20 grayscale",children:[o.jsx("span",{className:"material-symbols-outlined text-6xl",children:"shopping_basket"}),o.jsx("p",{className:"text-sm font-bold mt-2",children:"Belum ada item"})]}):v.map(K=>o.jsxs("div",{className:"flex gap-3 p-3 bg-background-light dark:bg-white/5 rounded-2xl border border-border-light dark:border-white/5 group",children:[o.jsx("div",{className:"size-16 rounded-xl overflow-hidden shrink-0",children:o.jsx("img",{src:K.image_url,alt:K.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h4",{className:"text-xs font-bold text-text-main dark:text-white line-clamp-1",children:K.name}),o.jsx("button",{onClick:()=>Z(K.id,-K.quantity),className:"text-text-sub-light opacity-0 group-hover:opacity-100 hover:text-red-500 transition-all",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}),o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-white/10 rounded-lg p-0.5 border border-border-light dark:border-white/5",children:[o.jsx("button",{onClick:()=>Z(K.id,-1),className:"size-5 flex items-center justify-center rounded text-xs hover:bg-primary/10 hover:text-primary transition-colors",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"remove"})}),o.jsx("span",{className:"w-6 text-center text-[10px] font-bold",children:K.quantity}),o.jsx("button",{onClick:()=>Z(K.id,1),className:"size-5 flex items-center justify-center rounded text-xs hover:bg-primary/10 hover:text-primary transition-colors",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),o.jsx("p",{className:"text-xs font-black text-primary",children:Le(K.price*K.quantity)})]})]})]},K.id))}),o.jsxs("div",{className:"p-6 bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark flex flex-col gap-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("label",{className:"text-[10px] font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Nama Customer"}),o.jsx("input",{type:"text",value:_,onChange:K=>T(K.target.value),placeholder:"Nama...",className:"w-full px-3 py-2 bg-background-light dark:bg-white/5 border border-border-light dark:border-border-dark rounded-xl text-xs focus:ring-2 focus:ring-primary/20 outline-none"})]}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("label",{className:"text-[10px] font-bold text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Nomor Meja"}),o.jsx("input",{type:"text",value:R,onChange:K=>N(K.target.value),placeholder:"Meja...",className:"w-full px-3 py-2 bg-background-light dark:bg-white/5 border border-border-light dark:border-border-dark rounded-xl text-xs focus:ring-2 focus:ring-primary/20 outline-none"})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 py-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-text-sub-light dark:text-text-sub-dark text-xs",children:[o.jsx("span",{children:"Subtotal"}),o.jsx("span",{className:"font-bold",children:Le(I)})]}),o.jsxs("div",{className:"flex justify-between items-center text-text-main dark:text-white font-black",children:[o.jsx("span",{className:"text-sm",children:"Total"}),o.jsx("span",{className:"text-xl text-primary",children:Le(I)})]})]}),o.jsx("button",{onClick:Q,disabled:O||v.length===0||!_.trim(),className:"w-full py-4 bg-primary hover:bg-primary-dark disabled:bg-gray-300 dark:disabled:bg-gray-800 disabled:opacity-50 text-white rounded-2xl font-black text-sm flex items-center justify-center gap-2 shadow-xl shadow-primary/20 transition-all active:scale-95",children:O?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"size-4 border-2 border-white border-t-transparent animate-spin rounded-full"}),o.jsx("span",{children:"Memproses..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"print"}),"BUAT PESANAN"]})})]})]})]})]})},M_=()=>{const[n,a]=j.useState("1"),[s,i]=j.useState(250),[u,h]=j.useState(!1),m=`${window.location.origin}/?table=${n}`,p=`https://api.qrserver.com/v1/create-qr-code/?size=${s}x${s}&data=${encodeURIComponent(m)}`,x=()=>{h(!0),fetch(p).then(v=>v.blob()).then(v=>{const k=window.URL.createObjectURL(v),_=document.createElement("a");_.href=k,_.download=`QR_Meja_${n}.png`,document.body.appendChild(_),_.click(),_.remove(),window.URL.revokeObjectURL(k),h(!1)}).catch(v=>{console.error("Error downloading QR:",v),h(!1),alert("Gagal mendownload QR Code")})},b=()=>{window.print()};return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 bg-background-light dark:bg-background-dark animate-fade-in",children:[o.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-black text-text-main-light dark:text-white",children:"QR Code Generator"}),o.jsx("p",{className:"text-text-sub-light dark:text-text-sub-dark",children:"Buat barcode khusus untuk masing-masing meja customer."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-2xl border border-border-light dark:border-border-dark shadow-sm flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"font-bold text-lg text-text-main-light dark:text-white border-b border-border-light dark:border-border-dark pb-2",children:"Pengaturan Barcode"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-black text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Nomor Meja"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"table_restaurant"}),o.jsx("input",{type:"text",className:"w-full bg-background-light dark:bg-slate-800/50 border border-border-light dark:border-border-dark rounded-xl pl-10 pr-4 py-3 font-bold text-text-main-light dark:text-white outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all",placeholder:"Meja 1",value:n,onChange:v=>a(v.target.value)})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-black text-text-sub-light dark:text-text-sub-dark uppercase tracking-wider",children:"Ukuran QR (px)"}),o.jsx("input",{type:"range",min:"150",max:"500",step:"50",className:"w-full accent-primary",value:s,onChange:v=>i(parseInt(v.target.value))}),o.jsxs("div",{className:"flex justify-between text-[10px] text-text-sub-light font-bold",children:[o.jsx("span",{children:"150px"}),o.jsxs("span",{children:[s,"px"]}),o.jsx("span",{children:"500px"})]})]})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800/50",children:[o.jsxs("h4",{className:"flex items-center gap-2 text-sm font-bold text-primary mb-1",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"link"}),"Link Website"]}),o.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 break-all font-mono",children:m})]})]}),o.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-8 rounded-2xl border border-border-light dark:border-border-dark shadow-sm flex flex-col items-center justify-center gap-6 group print:shadow-none print:border-none",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-black text-2xl text-text-main-light dark:text-white mb-1",children:"SCAN ME"}),o.jsxs("p",{className:"text-text-sub-light dark:text-text-sub-dark font-bold uppercase tracking-widest text-sm",children:["MEJA ",n]})]}),o.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-xl shadow-black/5 ring-1 ring-black/5 relative print:shadow-none",children:o.jsx("img",{src:p,alt:`QR Meja ${n}`,className:"rounded-lg transition-transform group-hover:scale-[1.02]",style:{width:s,height:s}})}),o.jsxs("div",{className:"flex items-center gap-3 w-full max-w-xs print:hidden",children:[o.jsxs("button",{onClick:x,disabled:u,className:"flex-1 flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white font-bold py-3 rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-95 disabled:opacity-50",children:[o.jsx("span",{className:"material-symbols-outlined",children:u?"sync":"download"}),u?"Pros...":"Download"]}),o.jsx("button",{onClick:b,className:"flex items-center justify-center bg-background-light dark:bg-slate-800 border border-border-light dark:border-border-dark text-text-main-light dark:text-white font-bold p-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-all shadow-sm active:scale-95",title:"Print Preview",children:o.jsx("span",{className:"material-symbols-outlined",children:"print"})})]}),o.jsx("p",{className:"text-[10px] text-text-sub-light dark:text-slate-500 font-medium text-center max-w-[200px] print:hidden",children:"Download untuk mencetak barcode ini pada stiker meja Anda."})]})]}),o.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800/50 p-6 rounded-2xl flex gap-4 items-start",children:[o.jsx("div",{className:"size-10 rounded-full bg-emerald-100 dark:bg-emerald-800 flex items-center justify-center flex-shrink-0 text-emerald-600 dark:text-emerald-300",children:o.jsx("span",{className:"material-symbols-outlined",children:"lightbulb"})}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"font-bold text-emerald-800 dark:text-emerald-300",children:"Tips Pemasangan Barcode"}),o.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-400 leading-relaxed",children:"Tempelkan barcode di sudut meja yang mudah terlihat. Ketika pelanggan scan barcode ini, sistem akan otomatis mengenali nomor mejanya sehingga proses pemesanan menjadi lebih cepat dan akurat."})]})]})]}),o.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    body * { visibility: hidden; }
                    .print\\:shadow-none, .print\\:shadow-none * { visibility: visible; }
                    .print\\:shadow-none { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); border: none !important; }
                    .print\\:hidden { display: none !important; }
                }
            `}})]})},L_=({user:n,theme:a,onToggleTheme:s})=>{const[i,u]=j.useState(!1),h=Wt();return n?o.jsxs("div",{className:"admin-theme flex h-screen w-full bg-background-light dark:bg-background-dark text-text-main-light dark:text-text-main-dark font-display antialiased overflow-hidden",children:[o.jsx(__,{isOpen:i,onClose:()=>u(!1),user:n}),o.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[o.jsx(N_,{onMenuToggle:()=>u(!i),theme:a,onToggleTheme:s}),o.jsx(Gy,{})]})]}):o.jsx(zg,{to:"/login",state:{from:h},replace:!0})};function B_(){const{user:n,loading:a}=Si(),[s,i]=j.useState("light");return Wa.useEffect(()=>{const u=localStorage.getItem("theme");u?i(u):window.matchMedia("(prefers-color-scheme: dark)").matches&&i("dark")},[]),Wa.useEffect(()=>{s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",s)},[s]),a?o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background-light dark:bg-background-dark",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):o.jsx(Mg,{children:o.jsxs(ct,{element:o.jsx(L_,{user:n,theme:s,onToggleTheme:()=>i(u=>u==="light"?"dark":"light")}),children:[o.jsx(ct,{index:!0,element:o.jsx(E_,{})}),o.jsx(ct,{path:"categories",element:o.jsx(T_,{})}),o.jsx(ct,{path:"categories/new",element:o.jsx(A_,{})}),o.jsx(ct,{path:"categories/:id/edit",element:o.jsx(O_,{})}),o.jsx(ct,{path:"products",element:o.jsx(C_,{})}),o.jsx(ct,{path:"products/new",element:o.jsx(R_,{})}),o.jsx(ct,{path:"products/:id/edit",element:o.jsx(D_,{})}),o.jsx(ct,{path:"orders",element:o.jsx(U_,{})}),o.jsx(ct,{path:"pos",element:o.jsx(z_,{})}),o.jsx(ct,{path:"qr-generator",element:o.jsx(M_,{})}),o.jsx(ct,{path:"*",element:o.jsx(zg,{to:"",replace:!0})})]})})}const q_=()=>o.jsx(B_,{}),H_=()=>{const n=na(),[a,s]=j.useState(""),[i,u]=j.useState(""),[h,f]=j.useState(!1),[m,p]=j.useState(null),{user:x}=Si();j.useEffect(()=>{x&&n(W.DASHBOARD)},[x,n]);const b=async v=>{v.preventDefault(),f(!0),p(null);try{await j_(a,i),n(W.DASHBOARD)}catch(k){p(k.message||"Failed to sign in")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen w-full flex bg-background-light dark:bg-background-dark",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-primary",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-40 mix-blend-multiply",style:{backgroundImage:'url("https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1548&q=80")'}}),o.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-16 w-full text-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"restaurant"})}),o.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"PAYPYA Cafe"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl font-bold mb-6 leading-tight",children:"Manage your restaurant with confidence."}),o.jsx("p",{className:"text-lg text-blue-100 max-w-md",children:"Streamline your menu, track orders, and analyze revenue all in one place."})]}),o.jsx("div",{className:"text-sm text-blue-200",children:" 2024 PAYPYA Cafe Inc."})]})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-center items-center p-6 sm:p-12",children:o.jsxs("div",{className:"w-full max-w-md space-y-8",children:[o.jsxs("div",{className:"text-center lg:text-left",children:[o.jsx("h2",{className:"text-3xl font-black text-text-main-light dark:text-white tracking-tight",children:"Welcome back"}),o.jsx("p",{className:"mt-2 text-text-sub-light dark:text-text-sub-dark",children:"Please enter your details to sign in."})]}),m&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:m}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-main-light dark:text-white mb-1.5",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"mail"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:v=>s(v.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 dark:border-slate-700 rounded-lg bg-surface-light dark:bg-slate-800 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"name@company.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-main-light dark:text-white mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"lock"})}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:v=>u(v.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 dark:border-slate-700 rounded-lg bg-surface-light dark:bg-slate-800 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:""})]})]})]}),o.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white bg-primary hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary shadow-lg shadow-blue-500/30 transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:h?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]}),o.jsxs("p",{className:"mt-2 text-center text-sm text-text-sub-light dark:text-text-sub-dark",children:["Don't have an account?"," ",o.jsx(ut,{to:W.REGISTER,className:"font-bold text-primary hover:text-blue-600 transition-colors",children:"Sign up for free"})]})]})})]})},$_=()=>{const n=na(),[a,s]=j.useState(""),[i,u]=j.useState(""),[h,f]=j.useState(""),[m,p]=j.useState(!1),[x,b]=j.useState(null),{user:v}=Si();j.useEffect(()=>{v&&n(W.DASHBOARD)},[v,n]);const k=async _=>{_.preventDefault(),p(!0),b(null);try{await k_(i,h,a),alert("Registration successful! Please check your email for confirmation or sign in."),n(W.LOGIN)}catch(T){b(T.message||"Failed to create account")}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen w-full flex bg-background-light dark:bg-background-dark",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-slate-900 order-last",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50",style:{backgroundImage:'url("https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80")'}}),o.jsx("div",{className:"relative z-10 flex flex-col justify-end p-16 w-full text-white h-full",children:o.jsxs("blockquote",{className:"space-y-4",children:[o.jsx("p",{className:"text-2xl font-medium italic",children:`"FlavorHub has completely transformed how we manage our kitchen inventory and online orders. It's intuitive, fast, and reliable."`}),o.jsxs("footer",{className:"flex items-center gap-4 pt-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold",children:"Marcus Chen"}),o.jsx("div",{className:"text-slate-300 text-sm",children:"Head Chef, The Urban Fork"})]})]})]})})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-center items-center p-6 sm:p-12",children:o.jsxs("div",{className:"w-full max-w-md space-y-8",children:[o.jsxs("div",{className:"text-center lg:text-left",children:[o.jsx("div",{className:"flex lg:hidden justify-center mb-6",children:o.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"restaurant"}),o.jsx("span",{className:"text-xl font-bold tracking-tight text-text-main-light dark:text-white",children:"PAYPYA Cafe"})]})}),o.jsx("h2",{className:"text-3xl font-black text-text-main-light dark:text-white tracking-tight",children:"Create an account"}),o.jsx("p",{className:"mt-2 text-text-sub-light dark:text-text-sub-dark",children:"Start managing your menu today."})]}),x&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:x}),o.jsxs("form",{className:"mt-8 space-y-5",onSubmit:k,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-main-light dark:text-white mb-1.5",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"person"})}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:a,onChange:_=>s(_.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 dark:border-slate-700 rounded-lg bg-surface-light dark:bg-slate-800 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"John Doe"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-main-light dark:text-white mb-1.5",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"mail"})}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:i,onChange:_=>u(_.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 dark:border-slate-700 rounded-lg bg-surface-light dark:bg-slate-800 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"name@company.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-main-light dark:text-white mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:o.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"lock"})}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:h,onChange:_=>f(_.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 dark:border-slate-700 rounded-lg bg-surface-light dark:bg-slate-800 text-text-main-light dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Create a password"})]}),o.jsx("p",{className:"mt-2 text-xs text-text-sub-light dark:text-text-sub-dark",children:"Must be at least 6 characters."})]}),o.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white bg-primary hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary shadow-lg shadow-blue-500/30 transition-all disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:m?"Creating account...":"Get started"})]}),o.jsxs("p",{className:"mt-2 text-center text-sm text-text-sub-light dark:text-text-sub-dark",children:["Already have an account?"," ",o.jsx(ut,{to:W.LOGIN,className:"font-bold text-primary hover:text-blue-600 transition-colors",children:"Log in"})]})]})})]})},up=document.getElementById("root");if(!up)throw new Error("Root element not found");Ib.createRoot(up).render(o.jsx(j.StrictMode,{children:o.jsx(r_,{children:o.jsx(f0,{children:o.jsxs(Mg,{children:[o.jsx(ct,{path:"/login",element:o.jsx(H_,{})}),o.jsx(ct,{path:"/register",element:o.jsx($_,{})}),o.jsx(ct,{path:"/dashboard/*",element:o.jsx(q_,{})}),o.jsx(ct,{path:"*",element:o.jsx(w_,{})})]})})})}));
